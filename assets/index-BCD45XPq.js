var SQ=Object.defineProperty;var AQ=(t,e,n)=>e in t?SQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var en=(t,e,n)=>AQ(t,typeof e!="symbol"?e+"":e,n);function HG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GG={exports:{}},Vw={},VG={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=Symbol.for("react.element"),MQ=Symbol.for("react.portal"),EQ=Symbol.for("react.fragment"),TQ=Symbol.for("react.strict_mode"),CQ=Symbol.for("react.profiler"),PQ=Symbol.for("react.provider"),RQ=Symbol.for("react.context"),OQ=Symbol.for("react.forward_ref"),IQ=Symbol.for("react.suspense"),BQ=Symbol.for("react.memo"),DQ=Symbol.for("react.lazy"),_3=Symbol.iterator;function LQ(t){return t===null||typeof t!="object"?null:(t=_3&&t[_3]||t["@@iterator"],typeof t=="function"?t:null)}var WG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$G=Object.assign,XG={};function Lp(t,e,n){this.props=t,this.context=e,this.refs=XG,this.updater=n||WG}Lp.prototype.isReactComponent={};Lp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KG(){}KG.prototype=Lp.prototype;function CO(t,e,n){this.props=t,this.context=e,this.refs=XG,this.updater=n||WG}var PO=CO.prototype=new KG;PO.constructor=CO;$G(PO,Lp.prototype);PO.isPureReactComponent=!0;var w3=Array.isArray,YG=Object.prototype.hasOwnProperty,RO={current:null},JG={key:!0,ref:!0,__self:!0,__source:!0};function qG(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)YG.call(e,r)&&!JG.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ky,type:t,key:s,ref:o,props:i,_owner:RO.current}}function NQ(t,e){return{$$typeof:ky,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function OO(t){return typeof t=="object"&&t!==null&&t.$$typeof===ky}function kQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S3=/\/+/g;function JM(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kQ(""+t.key):e.toString(36)}function m_(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ky:case MQ:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+JM(o,0):r,w3(i)?(n="",t!=null&&(n=t.replace(S3,"$&/")+"/"),m_(i,e,n,"",function(c){return c})):i!=null&&(OO(i)&&(i=NQ(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S3,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",w3(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+JM(s,a);o+=m_(s,e,n,l,i)}else if(l=LQ(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+JM(s,a++),o+=m_(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xx(t,e,n){if(t==null)return t;var r=[],i=0;return m_(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var es={current:null},g_={transition:null},UQ={ReactCurrentDispatcher:es,ReactCurrentBatchConfig:g_,ReactCurrentOwner:RO};function ZG(){throw Error("act(...) is not supported in production builds of React.")}ln.Children={map:xx,forEach:function(t,e,n){xx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xx(t,function(){e++}),e},toArray:function(t){return xx(t,function(e){return e})||[]},only:function(t){if(!OO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ln.Component=Lp;ln.Fragment=EQ;ln.Profiler=CQ;ln.PureComponent=CO;ln.StrictMode=TQ;ln.Suspense=IQ;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UQ;ln.act=ZG;ln.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$G({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=RO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)YG.call(e,l)&&!JG.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ky,type:t.type,key:i,ref:s,props:r,_owner:o}};ln.createContext=function(t){return t={$$typeof:RQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PQ,_context:t},t.Consumer=t};ln.createElement=qG;ln.createFactory=function(t){var e=qG.bind(null,t);return e.type=t,e};ln.createRef=function(){return{current:null}};ln.forwardRef=function(t){return{$$typeof:OQ,render:t}};ln.isValidElement=OO;ln.lazy=function(t){return{$$typeof:DQ,_payload:{_status:-1,_result:t},_init:FQ}};ln.memo=function(t,e){return{$$typeof:BQ,type:t,compare:e===void 0?null:e}};ln.startTransition=function(t){var e=g_.transition;g_.transition={};try{t()}finally{g_.transition=e}};ln.unstable_act=ZG;ln.useCallback=function(t,e){return es.current.useCallback(t,e)};ln.useContext=function(t){return es.current.useContext(t)};ln.useDebugValue=function(){};ln.useDeferredValue=function(t){return es.current.useDeferredValue(t)};ln.useEffect=function(t,e){return es.current.useEffect(t,e)};ln.useId=function(){return es.current.useId()};ln.useImperativeHandle=function(t,e,n){return es.current.useImperativeHandle(t,e,n)};ln.useInsertionEffect=function(t,e){return es.current.useInsertionEffect(t,e)};ln.useLayoutEffect=function(t,e){return es.current.useLayoutEffect(t,e)};ln.useMemo=function(t,e){return es.current.useMemo(t,e)};ln.useReducer=function(t,e,n){return es.current.useReducer(t,e,n)};ln.useRef=function(t){return es.current.useRef(t)};ln.useState=function(t){return es.current.useState(t)};ln.useSyncExternalStore=function(t,e,n){return es.current.useSyncExternalStore(t,e,n)};ln.useTransition=function(){return es.current.useTransition()};ln.version="18.3.1";VG.exports=ln;var U=VG.exports;const me=Ln(U),jQ=HG({__proto__:null,default:me},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zQ=U,HQ=Symbol.for("react.element"),GQ=Symbol.for("react.fragment"),VQ=Object.prototype.hasOwnProperty,WQ=zQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$Q={key:!0,ref:!0,__self:!0,__source:!0};function QG(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VQ.call(e,r)&&!$Q.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HQ,type:t,key:s,ref:o,props:i,_owner:WQ.current}}Vw.Fragment=GQ;Vw.jsx=QG;Vw.jsxs=QG;GG.exports=Vw;var R=GG.exports,e8={exports:{}},Hs={},t8={exports:{}},n8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,J){var te=G.length;G.push(J);e:for(;0<te;){var re=te-1>>>1,fe=G[re];if(0<i(fe,J))G[re]=J,G[te]=fe,te=re;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var J=G[0],te=G.pop();if(te!==J){G[0]=te;e:for(var re=0,fe=G.length,we=fe>>>1;re<we;){var pe=2*(re+1)-1,Ae=G[pe],Pe=pe+1,Ze=G[Pe];if(0>i(Ae,te))Pe<fe&&0>i(Ze,Ae)?(G[re]=Ze,G[Pe]=te,re=Pe):(G[re]=Ae,G[pe]=te,re=pe);else if(Pe<fe&&0>i(Ze,te))G[re]=Ze,G[Pe]=te,re=Pe;else break e}}return J}function i(G,J){var te=G.sortIndex-J.sortIndex;return te!==0?te:G.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=G)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function M(G){if(x=!1,_(G),!m)if(n(l)!==null)m=!0,Y(w);else{var J=n(c);J!==null&&ie(M,J.startTime-G)}}function w(G,J){m=!1,x&&(x=!1,v(C),C=-1),d=!0;var te=h;try{for(_(J),f=n(l);f!==null&&(!(f.expirationTime>J)||G&&!B());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var fe=re(f.expirationTime<=J);J=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),_(J)}else r(l);f=n(l)}if(f!==null)var we=!0;else{var pe=n(c);pe!==null&&ie(M,pe.startTime-J),we=!1}return we}finally{f=null,h=te,d=!1}}var A=!1,E=null,C=-1,L=5,P=-1;function B(){return!(t.unstable_now()-P<L)}function H(){if(E!==null){var G=t.unstable_now();P=G;var J=!0;try{J=E(!0,G)}finally{J?q():(A=!1,E=null)}}else A=!1}var q;if(typeof b=="function")q=function(){b(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=H,q=function(){K.postMessage(null)}}else q=function(){y(H,0)};function Y(G){E=G,A||(A=!0,q())}function ie(G,J){C=y(function(){G(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,Y(w))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var te=h;h=J;try{return G()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=h;h=G;try{return J()}finally{h=te}},t.unstable_scheduleCallback=function(G,J,te){var re=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,G){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=te+fe,G={id:u++,callback:J,priorityLevel:G,startTime:te,expirationTime:fe,sortIndex:-1},te>re?(G.sortIndex=te,e(c,G),n(l)===null&&G===n(c)&&(x?(v(C),C=-1):x=!0,ie(M,te-re))):(G.sortIndex=fe,e(l,G),m||d||(m=!0,Y(w))),G},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(G){var J=h;return function(){var te=h;h=J;try{return G.apply(this,arguments)}finally{h=te}}}})(n8);t8.exports=n8;var XQ=t8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KQ=U,Us=XQ;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r8=new Set,sv={};function Zf(t,e){$d(t,e),$d(t+"Capture",e)}function $d(t,e){for(sv[t]=e,t=0;t<e.length;t++)r8.add(e[t])}var Al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MC=Object.prototype.hasOwnProperty,YQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A3={},M3={};function JQ(t){return MC.call(M3,t)?!0:MC.call(A3,t)?!1:YQ.test(t)?M3[t]=!0:(A3[t]=!0,!1)}function qQ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZQ(t,e,n,r){if(e===null||typeof e>"u"||qQ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ts(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vi[t]=new ts(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vi[e]=new ts(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vi[t]=new ts(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vi[t]=new ts(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vi[t]=new ts(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vi[t]=new ts(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vi[t]=new ts(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vi[t]=new ts(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vi[t]=new ts(t,5,!1,t.toLowerCase(),null,!1,!1)});var IO=/[\-:]([a-z])/g;function BO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IO,BO);vi[e]=new ts(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IO,BO);vi[e]=new ts(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IO,BO);vi[e]=new ts(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vi[t]=new ts(t,1,!1,t.toLowerCase(),null,!1,!1)});vi.xlinkHref=new ts("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vi[t]=new ts(t,1,!1,t.toLowerCase(),null,!0,!0)});function DO(t,e,n,r){var i=vi.hasOwnProperty(e)?vi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZQ(e,n,i,r)&&(n=null),r||i===null?JQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nl=KQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bx=Symbol.for("react.element"),rd=Symbol.for("react.portal"),id=Symbol.for("react.fragment"),LO=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),i8=Symbol.for("react.provider"),s8=Symbol.for("react.context"),NO=Symbol.for("react.forward_ref"),TC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),kO=Symbol.for("react.memo"),uc=Symbol.for("react.lazy"),o8=Symbol.for("react.offscreen"),E3=Symbol.iterator;function Tm(t){return t===null||typeof t!="object"?null:(t=E3&&t[E3]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,qM;function yg(t){if(qM===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qM=e&&e[1]||""}return`
`+qM+t}var ZM=!1;function QM(t,e){if(!t||ZM)return"";ZM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ZM=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yg(t):""}function QQ(t){switch(t.tag){case 5:return yg(t.type);case 16:return yg("Lazy");case 13:return yg("Suspense");case 19:return yg("SuspenseList");case 0:case 2:case 15:return t=QM(t.type,!1),t;case 11:return t=QM(t.type.render,!1),t;case 1:return t=QM(t.type,!0),t;default:return""}}function PC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case id:return"Fragment";case rd:return"Portal";case EC:return"Profiler";case LO:return"StrictMode";case TC:return"Suspense";case CC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s8:return(t.displayName||"Context")+".Consumer";case i8:return(t._context.displayName||"Context")+".Provider";case NO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kO:return e=t.displayName||null,e!==null?e:PC(t.type)||"Memo";case uc:e=t._payload,t=t._init;try{return PC(t(e))}catch{}}return null}function eee(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PC(e);case 8:return e===LO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tee(t){var e=a8(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _x(t){t._valueTracker||(t._valueTracker=tee(t))}function l8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=a8(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function X_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function RC(t,e){var n=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c8(t,e){e=e.checked,e!=null&&DO(t,"checked",e,!1)}function OC(t,e){c8(t,e);var n=Gc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?IC(t,e.type,n):e.hasOwnProperty("defaultValue")&&IC(t,e.type,Gc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function IC(t,e,n){(e!=="number"||X_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xg=Array.isArray;function Rd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function BC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(rt(92));if(xg(n)){if(1<n.length)throw Error(rt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gc(n)}}function u8(t,e){var n=Gc(e.value),r=Gc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function R3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function f8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?f8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wx,h8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wx=wx||document.createElement("div"),wx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ov(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nee=["Webkit","ms","Moz","O"];Object.keys(Pg).forEach(function(t){nee.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pg[e]=Pg[t]})});function d8(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pg.hasOwnProperty(t)&&Pg[t]?(""+e).trim():e+"px"}function p8(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d8(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ree=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LC(t,e){if(e){if(ree[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function NC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kC=null;function FO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var FC=null,Od=null,Id=null;function O3(t){if(t=jy(t)){if(typeof FC!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=Yw(e),FC(t.stateNode,t.type,e))}}function m8(t){Od?Id?Id.push(t):Id=[t]:Od=t}function g8(){if(Od){var t=Od,e=Id;if(Id=Od=null,O3(t),e)for(t=0;t<e.length;t++)O3(e[t])}}function v8(t,e){return t(e)}function y8(){}var eE=!1;function x8(t,e,n){if(eE)return t(e,n);eE=!0;try{return v8(t,e,n)}finally{eE=!1,(Od!==null||Id!==null)&&(y8(),g8())}}function av(t,e){var n=t.stateNode;if(n===null)return null;var r=Yw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(rt(231,e,typeof n));return n}var UC=!1;if(Al)try{var Cm={};Object.defineProperty(Cm,"passive",{get:function(){UC=!0}}),window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{UC=!1}function iee(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Rg=!1,K_=null,Y_=!1,jC=null,see={onError:function(t){Rg=!0,K_=t}};function oee(t,e,n,r,i,s,o,a,l){Rg=!1,K_=null,iee.apply(see,arguments)}function aee(t,e,n,r,i,s,o,a,l){if(oee.apply(this,arguments),Rg){if(Rg){var c=K_;Rg=!1,K_=null}else throw Error(rt(198));Y_||(Y_=!0,jC=c)}}function Qf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function b8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I3(t){if(Qf(t)!==t)throw Error(rt(188))}function lee(t){var e=t.alternate;if(!e){if(e=Qf(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return I3(i),t;if(s===r)return I3(i),e;s=s.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?t:e}function _8(t){return t=lee(t),t!==null?w8(t):null}function w8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w8(t);if(e!==null)return e;t=t.sibling}return null}var S8=Us.unstable_scheduleCallback,B3=Us.unstable_cancelCallback,cee=Us.unstable_shouldYield,uee=Us.unstable_requestPaint,Cr=Us.unstable_now,fee=Us.unstable_getCurrentPriorityLevel,UO=Us.unstable_ImmediatePriority,A8=Us.unstable_UserBlockingPriority,J_=Us.unstable_NormalPriority,hee=Us.unstable_LowPriority,M8=Us.unstable_IdlePriority,Ww=null,Pa=null;function dee(t){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Ww,t,void 0,(t.current.flags&128)===128)}catch{}}var ea=Math.clz32?Math.clz32:gee,pee=Math.log,mee=Math.LN2;function gee(t){return t>>>=0,t===0?32:31-(pee(t)/mee|0)|0}var Sx=64,Ax=4194304;function bg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function q_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bg(a):(s&=o,s!==0&&(r=bg(s)))}else o=n&~i,o!==0?r=bg(o):s!==0&&(r=bg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ea(e),i=1<<n,r|=t[n],e&=~i;return r}function vee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ea(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vee(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function zC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E8(){var t=Sx;return Sx<<=1,!(Sx&4194240)&&(Sx=64),t}function tE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ea(e),t[e]=n}function xee(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ea(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jO(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ea(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dn=0;function T8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C8,zO,P8,R8,O8,HC=!1,Mx=[],Ec=null,Tc=null,Cc=null,lv=new Map,cv=new Map,pc=[],bee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D3(t,e){switch(t){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":lv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cv.delete(e.pointerId)}}function Pm(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jy(e),e!==null&&zO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _ee(t,e,n,r,i){switch(e){case"focusin":return Ec=Pm(Ec,t,e,n,r,i),!0;case"dragenter":return Tc=Pm(Tc,t,e,n,r,i),!0;case"mouseover":return Cc=Pm(Cc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lv.set(s,Pm(lv.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cv.set(s,Pm(cv.get(s)||null,t,e,n,r,i)),!0}return!1}function I8(t){var e=Qu(t.target);if(e!==null){var n=Qf(e);if(n!==null){if(e=n.tag,e===13){if(e=b8(n),e!==null){t.blockedOn=e,O8(t.priority,function(){P8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function v_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=GC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kC=r,n.target.dispatchEvent(r),kC=null}else return e=jy(n),e!==null&&zO(e),t.blockedOn=n,!1;e.shift()}return!0}function L3(t,e,n){v_(t)&&n.delete(e)}function wee(){HC=!1,Ec!==null&&v_(Ec)&&(Ec=null),Tc!==null&&v_(Tc)&&(Tc=null),Cc!==null&&v_(Cc)&&(Cc=null),lv.forEach(L3),cv.forEach(L3)}function Rm(t,e){t.blockedOn===e&&(t.blockedOn=null,HC||(HC=!0,Us.unstable_scheduleCallback(Us.unstable_NormalPriority,wee)))}function uv(t){function e(i){return Rm(i,t)}if(0<Mx.length){Rm(Mx[0],t);for(var n=1;n<Mx.length;n++){var r=Mx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ec!==null&&Rm(Ec,t),Tc!==null&&Rm(Tc,t),Cc!==null&&Rm(Cc,t),lv.forEach(e),cv.forEach(e),n=0;n<pc.length;n++)r=pc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pc.length&&(n=pc[0],n.blockedOn===null);)I8(n),n.blockedOn===null&&pc.shift()}var Bd=Nl.ReactCurrentBatchConfig,Z_=!0;function See(t,e,n,r){var i=Dn,s=Bd.transition;Bd.transition=null;try{Dn=1,HO(t,e,n,r)}finally{Dn=i,Bd.transition=s}}function Aee(t,e,n,r){var i=Dn,s=Bd.transition;Bd.transition=null;try{Dn=4,HO(t,e,n,r)}finally{Dn=i,Bd.transition=s}}function HO(t,e,n,r){if(Z_){var i=GC(t,e,n,r);if(i===null)fE(t,e,r,Q_,n),D3(t,r);else if(_ee(i,t,e,n,r))r.stopPropagation();else if(D3(t,r),e&4&&-1<bee.indexOf(t)){for(;i!==null;){var s=jy(i);if(s!==null&&C8(s),s=GC(t,e,n,r),s===null&&fE(t,e,r,Q_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fE(t,e,r,null,n)}}var Q_=null;function GC(t,e,n,r){if(Q_=null,t=FO(r),t=Qu(t),t!==null)if(e=Qf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=b8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Q_=t,null}function B8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fee()){case UO:return 1;case A8:return 4;case J_:case hee:return 16;case M8:return 536870912;default:return 16}default:return 16}}var xc=null,GO=null,y_=null;function D8(){if(y_)return y_;var t,e=GO,n=e.length,r,i="value"in xc?xc.value:xc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return y_=i.slice(t,1<r?1-r:void 0)}function x_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ex(){return!0}function N3(){return!1}function Gs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ex:N3,this.isPropagationStopped=N3,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ex)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ex)},persist:function(){},isPersistent:Ex}),e}var Np={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VO=Gs(Np),Uy=mr({},Np,{view:0,detail:0}),Mee=Gs(Uy),nE,rE,Om,$w=mr({},Uy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Om&&(Om&&t.type==="mousemove"?(nE=t.screenX-Om.screenX,rE=t.screenY-Om.screenY):rE=nE=0,Om=t),nE)},movementY:function(t){return"movementY"in t?t.movementY:rE}}),k3=Gs($w),Eee=mr({},$w,{dataTransfer:0}),Tee=Gs(Eee),Cee=mr({},Uy,{relatedTarget:0}),iE=Gs(Cee),Pee=mr({},Np,{animationName:0,elapsedTime:0,pseudoElement:0}),Ree=Gs(Pee),Oee=mr({},Np,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iee=Gs(Oee),Bee=mr({},Np,{data:0}),F3=Gs(Bee),Dee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nee[t])?!!e[t]:!1}function WO(){return kee}var Fee=mr({},Uy,{key:function(t){if(t.key){var e=Dee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=x_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WO,charCode:function(t){return t.type==="keypress"?x_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?x_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uee=Gs(Fee),jee=mr({},$w,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U3=Gs(jee),zee=mr({},Uy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WO}),Hee=Gs(zee),Gee=mr({},Np,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vee=Gs(Gee),Wee=mr({},$w,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$ee=Gs(Wee),Xee=[9,13,27,32],$O=Al&&"CompositionEvent"in window,Og=null;Al&&"documentMode"in document&&(Og=document.documentMode);var Kee=Al&&"TextEvent"in window&&!Og,L8=Al&&(!$O||Og&&8<Og&&11>=Og),j3=" ",z3=!1;function N8(t,e){switch(t){case"keyup":return Xee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sd=!1;function Yee(t,e){switch(t){case"compositionend":return k8(e);case"keypress":return e.which!==32?null:(z3=!0,j3);case"textInput":return t=e.data,t===j3&&z3?null:t;default:return null}}function Jee(t,e){if(sd)return t==="compositionend"||!$O&&N8(t,e)?(t=D8(),y_=GO=xc=null,sd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L8&&e.locale!=="ko"?null:e.data;default:return null}}var qee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qee[t.type]:e==="textarea"}function F8(t,e,n,r){m8(r),e=e1(e,"onChange"),0<e.length&&(n=new VO("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ig=null,fv=null;function Zee(t){Y8(t,0)}function Xw(t){var e=ld(t);if(l8(e))return t}function Qee(t,e){if(t==="change")return e}var U8=!1;if(Al){var sE;if(Al){var oE="oninput"in document;if(!oE){var G3=document.createElement("div");G3.setAttribute("oninput","return;"),oE=typeof G3.oninput=="function"}sE=oE}else sE=!1;U8=sE&&(!document.documentMode||9<document.documentMode)}function V3(){Ig&&(Ig.detachEvent("onpropertychange",j8),fv=Ig=null)}function j8(t){if(t.propertyName==="value"&&Xw(fv)){var e=[];F8(e,fv,t,FO(t)),x8(Zee,e)}}function ete(t,e,n){t==="focusin"?(V3(),Ig=e,fv=n,Ig.attachEvent("onpropertychange",j8)):t==="focusout"&&V3()}function tte(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xw(fv)}function nte(t,e){if(t==="click")return Xw(e)}function rte(t,e){if(t==="input"||t==="change")return Xw(e)}function ite(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ra=typeof Object.is=="function"?Object.is:ite;function hv(t,e){if(ra(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!MC.call(e,i)||!ra(t[i],e[i]))return!1}return!0}function W3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $3(t,e){var n=W3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W3(n)}}function z8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H8(){for(var t=window,e=X_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=X_(t.document)}return e}function XO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ste(t){var e=H8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&z8(n.ownerDocument.documentElement,n)){if(r!==null&&XO(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$3(n,s);var o=$3(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ote=Al&&"documentMode"in document&&11>=document.documentMode,od=null,VC=null,Bg=null,WC=!1;function X3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;WC||od==null||od!==X_(r)||(r=od,"selectionStart"in r&&XO(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bg&&hv(Bg,r)||(Bg=r,r=e1(VC,"onSelect"),0<r.length&&(e=new VO("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=od)))}function Tx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ad={animationend:Tx("Animation","AnimationEnd"),animationiteration:Tx("Animation","AnimationIteration"),animationstart:Tx("Animation","AnimationStart"),transitionend:Tx("Transition","TransitionEnd")},aE={},G8={};Al&&(G8=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function Kw(t){if(aE[t])return aE[t];if(!ad[t])return t;var e=ad[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G8)return aE[t]=e[n];return t}var V8=Kw("animationend"),W8=Kw("animationiteration"),$8=Kw("animationstart"),X8=Kw("transitionend"),K8=new Map,K3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qc(t,e){K8.set(t,e),Zf(e,[t])}for(var lE=0;lE<K3.length;lE++){var cE=K3[lE],ate=cE.toLowerCase(),lte=cE[0].toUpperCase()+cE.slice(1);Qc(ate,"on"+lte)}Qc(V8,"onAnimationEnd");Qc(W8,"onAnimationIteration");Qc($8,"onAnimationStart");Qc("dblclick","onDoubleClick");Qc("focusin","onFocus");Qc("focusout","onBlur");Qc(X8,"onTransitionEnd");$d("onMouseEnter",["mouseout","mouseover"]);$d("onMouseLeave",["mouseout","mouseover"]);$d("onPointerEnter",["pointerout","pointerover"]);$d("onPointerLeave",["pointerout","pointerover"]);Zf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _g="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cte=new Set("cancel close invalid load scroll toggle".split(" ").concat(_g));function Y3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aee(r,e,void 0,t),t.currentTarget=null}function Y8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Y3(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Y3(i,a,c),s=l}}}if(Y_)throw t=jC,Y_=!1,jC=null,t}function Kn(t,e){var n=e[JC];n===void 0&&(n=e[JC]=new Set);var r=t+"__bubble";n.has(r)||(J8(e,t,2,!1),n.add(r))}function uE(t,e,n){var r=0;e&&(r|=4),J8(n,t,r,e)}var Cx="_reactListening"+Math.random().toString(36).slice(2);function dv(t){if(!t[Cx]){t[Cx]=!0,r8.forEach(function(n){n!=="selectionchange"&&(cte.has(n)||uE(n,!1,t),uE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cx]||(e[Cx]=!0,uE("selectionchange",!1,e))}}function J8(t,e,n,r){switch(B8(e)){case 1:var i=See;break;case 4:i=Aee;break;default:i=HO}n=i.bind(null,e,n,t),i=void 0,!UC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}x8(function(){var c=s,u=FO(n),f=[];e:{var h=K8.get(t);if(h!==void 0){var d=VO,m=t;switch(t){case"keypress":if(x_(n)===0)break e;case"keydown":case"keyup":d=Uee;break;case"focusin":m="focus",d=iE;break;case"focusout":m="blur",d=iE;break;case"beforeblur":case"afterblur":d=iE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=k3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Tee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Hee;break;case V8:case W8:case $8:d=Ree;break;case X8:d=Vee;break;case"scroll":d=Mee;break;case"wheel":d=$ee;break;case"copy":case"cut":case"paste":d=Iee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=U3}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,_;b!==null;){_=b;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,v!==null&&(M=av(b,v),M!=null&&x.push(pv(b,M,_)))),y)break;b=b.return}0<x.length&&(h=new d(h,m,null,n,u),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==kC&&(m=n.relatedTarget||n.fromElement)&&(Qu(m)||m[Ml]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?Qu(m):null,m!==null&&(y=Qf(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(x=k3,M="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=U3,M="onPointerLeave",v="onPointerEnter",b="pointer"),y=d==null?h:ld(d),_=m==null?h:ld(m),h=new x(M,b+"leave",d,n,u),h.target=y,h.relatedTarget=_,M=null,Qu(u)===c&&(x=new x(v,b+"enter",m,n,u),x.target=_,x.relatedTarget=y,M=x),y=M,d&&m)t:{for(x=d,v=m,b=0,_=x;_;_=Sh(_))b++;for(_=0,M=v;M;M=Sh(M))_++;for(;0<b-_;)x=Sh(x),b--;for(;0<_-b;)v=Sh(v),_--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=Sh(x),v=Sh(v)}x=null}else x=null;d!==null&&J3(f,h,d,x,!1),m!==null&&y!==null&&J3(f,y,m,x,!0)}}e:{if(h=c?ld(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=Qee;else if(H3(h))if(U8)w=rte;else{w=tte;var A=ete}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=nte);if(w&&(w=w(t,c))){F8(f,w,n,u);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&IC(h,"number",h.value)}switch(A=c?ld(c):window,t){case"focusin":(H3(A)||A.contentEditable==="true")&&(od=A,VC=c,Bg=null);break;case"focusout":Bg=VC=od=null;break;case"mousedown":WC=!0;break;case"contextmenu":case"mouseup":case"dragend":WC=!1,X3(f,n,u);break;case"selectionchange":if(ote)break;case"keydown":case"keyup":X3(f,n,u)}var E;if($O)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else sd?N8(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(L8&&n.locale!=="ko"&&(sd||C!=="onCompositionStart"?C==="onCompositionEnd"&&sd&&(E=D8()):(xc=u,GO="value"in xc?xc.value:xc.textContent,sd=!0)),A=e1(c,C),0<A.length&&(C=new F3(C,t,null,n,u),f.push({event:C,listeners:A}),E?C.data=E:(E=k8(n),E!==null&&(C.data=E)))),(E=Kee?Yee(t,n):Jee(t,n))&&(c=e1(c,"onBeforeInput"),0<c.length&&(u=new F3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}Y8(f,e)})}function pv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function e1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=av(t,n),s!=null&&r.unshift(pv(t,s,i)),s=av(t,e),s!=null&&r.push(pv(t,s,i))),t=t.return}return r}function Sh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J3(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=av(n,s),l!=null&&o.unshift(pv(n,l,a))):i||(l=av(n,s),l!=null&&o.push(pv(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ute=/\r\n?/g,fte=/\u0000|\uFFFD/g;function q3(t){return(typeof t=="string"?t:""+t).replace(ute,`
`).replace(fte,"")}function Px(t,e,n){if(e=q3(e),q3(t)!==e&&n)throw Error(rt(425))}function t1(){}var $C=null,XC=null;function KC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var YC=typeof setTimeout=="function"?setTimeout:void 0,hte=typeof clearTimeout=="function"?clearTimeout:void 0,Z3=typeof Promise=="function"?Promise:void 0,dte=typeof queueMicrotask=="function"?queueMicrotask:typeof Z3<"u"?function(t){return Z3.resolve(null).then(t).catch(pte)}:YC;function pte(t){setTimeout(function(){throw t})}function hE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uv(e)}function Pc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kp=Math.random().toString(36).slice(2),Aa="__reactFiber$"+kp,mv="__reactProps$"+kp,Ml="__reactContainer$"+kp,JC="__reactEvents$"+kp,mte="__reactListeners$"+kp,gte="__reactHandles$"+kp;function Qu(t){var e=t[Aa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ml]||n[Aa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q3(t);t!==null;){if(n=t[Aa])return n;t=Q3(t)}return e}t=n,n=t.parentNode}return null}function jy(t){return t=t[Aa]||t[Ml],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ld(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function Yw(t){return t[mv]||null}var qC=[],cd=-1;function eu(t){return{current:t}}function er(t){0>cd||(t.current=qC[cd],qC[cd]=null,cd--)}function Vn(t,e){cd++,qC[cd]=t.current,t.current=e}var Vc={},Ui=eu(Vc),ps=eu(!1),Df=Vc;function Xd(t,e){var n=t.type.contextTypes;if(!n)return Vc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ms(t){return t=t.childContextTypes,t!=null}function n1(){er(ps),er(Ui)}function ek(t,e,n){if(Ui.current!==Vc)throw Error(rt(168));Vn(Ui,e),Vn(ps,n)}function q8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(rt(108,eee(t)||"Unknown",i));return mr({},n,r)}function r1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vc,Df=Ui.current,Vn(Ui,t),Vn(ps,ps.current),!0}function tk(t,e,n){var r=t.stateNode;if(!r)throw Error(rt(169));n?(t=q8(t,e,Df),r.__reactInternalMemoizedMergedChildContext=t,er(ps),er(Ui),Vn(Ui,t)):er(ps),Vn(ps,n)}var ll=null,Jw=!1,dE=!1;function Z8(t){ll===null?ll=[t]:ll.push(t)}function vte(t){Jw=!0,Z8(t)}function tu(){if(!dE&&ll!==null){dE=!0;var t=0,e=Dn;try{var n=ll;for(Dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ll=null,Jw=!1}catch(i){throw ll!==null&&(ll=ll.slice(t+1)),S8(UO,tu),i}finally{Dn=e,dE=!1}}return null}var ud=[],fd=0,i1=null,s1=0,lo=[],co=0,Lf=null,hl=1,dl="";function Fu(t,e){ud[fd++]=s1,ud[fd++]=i1,i1=t,s1=e}function Q8(t,e,n){lo[co++]=hl,lo[co++]=dl,lo[co++]=Lf,Lf=t;var r=hl;t=dl;var i=32-ea(r)-1;r&=~(1<<i),n+=1;var s=32-ea(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hl=1<<32-ea(e)+i|n<<i|r,dl=s+t}else hl=1<<s|n<<i|r,dl=t}function KO(t){t.return!==null&&(Fu(t,1),Q8(t,1,0))}function YO(t){for(;t===i1;)i1=ud[--fd],ud[fd]=null,s1=ud[--fd],ud[fd]=null;for(;t===Lf;)Lf=lo[--co],lo[co]=null,dl=lo[--co],lo[co]=null,hl=lo[--co],lo[co]=null}var Ns=null,Ls=null,or=!1,Xo=null;function eV(t,e){var n=ho(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ns=t,Ls=Pc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ns=t,Ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lf!==null?{id:hl,overflow:dl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ho(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ns=t,Ls=null,!0):!1;default:return!1}}function ZC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function QC(t){if(or){var e=Ls;if(e){var n=e;if(!nk(t,e)){if(ZC(t))throw Error(rt(418));e=Pc(n.nextSibling);var r=Ns;e&&nk(t,e)?eV(r,n):(t.flags=t.flags&-4097|2,or=!1,Ns=t)}}else{if(ZC(t))throw Error(rt(418));t.flags=t.flags&-4097|2,or=!1,Ns=t}}}function rk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ns=t}function Rx(t){if(t!==Ns)return!1;if(!or)return rk(t),or=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!KC(t.type,t.memoizedProps)),e&&(e=Ls)){if(ZC(t))throw tV(),Error(rt(418));for(;e;)eV(t,e),e=Pc(e.nextSibling)}if(rk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ls=Pc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ls=null}}else Ls=Ns?Pc(t.stateNode.nextSibling):null;return!0}function tV(){for(var t=Ls;t;)t=Pc(t.nextSibling)}function Kd(){Ls=Ns=null,or=!1}function JO(t){Xo===null?Xo=[t]:Xo.push(t)}var yte=Nl.ReactCurrentBatchConfig;function Im(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,t))}return t}function Ox(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ik(t){var e=t._init;return e(t._payload)}function nV(t){function e(v,b){if(t){var _=v.deletions;_===null?(v.deletions=[b],v.flags|=16):_.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Bc(v,b),v.index=0,v.sibling=null,v}function s(v,b,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<b?(v.flags|=2,b):_):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,_,M){return b===null||b.tag!==6?(b=bE(_,v.mode,M),b.return=v,b):(b=i(b,_),b.return=v,b)}function l(v,b,_,M){var w=_.type;return w===id?u(v,b,_.props.children,M,_.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===uc&&ik(w)===b.type)?(M=i(b,_.props),M.ref=Im(v,b,_),M.return=v,M):(M=E_(_.type,_.key,_.props,null,v.mode,M),M.ref=Im(v,b,_),M.return=v,M)}function c(v,b,_,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=_E(_,v.mode,M),b.return=v,b):(b=i(b,_.children||[]),b.return=v,b)}function u(v,b,_,M,w){return b===null||b.tag!==7?(b=wf(_,v.mode,M,w),b.return=v,b):(b=i(b,_),b.return=v,b)}function f(v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=bE(""+b,v.mode,_),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bx:return _=E_(b.type,b.key,b.props,null,v.mode,_),_.ref=Im(v,null,b),_.return=v,_;case rd:return b=_E(b,v.mode,_),b.return=v,b;case uc:var M=b._init;return f(v,M(b._payload),_)}if(xg(b)||Tm(b))return b=wf(b,v.mode,_,null),b.return=v,b;Ox(v,b)}return null}function h(v,b,_,M){var w=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(v,b,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bx:return _.key===w?l(v,b,_,M):null;case rd:return _.key===w?c(v,b,_,M):null;case uc:return w=_._init,h(v,b,w(_._payload),M)}if(xg(_)||Tm(_))return w!==null?null:u(v,b,_,M,null);Ox(v,_)}return null}function d(v,b,_,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(_)||null,a(b,v,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case bx:return v=v.get(M.key===null?_:M.key)||null,l(b,v,M,w);case rd:return v=v.get(M.key===null?_:M.key)||null,c(b,v,M,w);case uc:var A=M._init;return d(v,b,_,A(M._payload),w)}if(xg(M)||Tm(M))return v=v.get(_)||null,u(b,v,M,w,null);Ox(b,M)}return null}function m(v,b,_,M){for(var w=null,A=null,E=b,C=b=0,L=null;E!==null&&C<_.length;C++){E.index>C?(L=E,E=null):L=E.sibling;var P=h(v,E,_[C],M);if(P===null){E===null&&(E=L);break}t&&E&&P.alternate===null&&e(v,E),b=s(P,b,C),A===null?w=P:A.sibling=P,A=P,E=L}if(C===_.length)return n(v,E),or&&Fu(v,C),w;if(E===null){for(;C<_.length;C++)E=f(v,_[C],M),E!==null&&(b=s(E,b,C),A===null?w=E:A.sibling=E,A=E);return or&&Fu(v,C),w}for(E=r(v,E);C<_.length;C++)L=d(E,v,C,_[C],M),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?C:L.key),b=s(L,b,C),A===null?w=L:A.sibling=L,A=L);return t&&E.forEach(function(B){return e(v,B)}),or&&Fu(v,C),w}function x(v,b,_,M){var w=Tm(_);if(typeof w!="function")throw Error(rt(150));if(_=w.call(_),_==null)throw Error(rt(151));for(var A=w=null,E=b,C=b=0,L=null,P=_.next();E!==null&&!P.done;C++,P=_.next()){E.index>C?(L=E,E=null):L=E.sibling;var B=h(v,E,P.value,M);if(B===null){E===null&&(E=L);break}t&&E&&B.alternate===null&&e(v,E),b=s(B,b,C),A===null?w=B:A.sibling=B,A=B,E=L}if(P.done)return n(v,E),or&&Fu(v,C),w;if(E===null){for(;!P.done;C++,P=_.next())P=f(v,P.value,M),P!==null&&(b=s(P,b,C),A===null?w=P:A.sibling=P,A=P);return or&&Fu(v,C),w}for(E=r(v,E);!P.done;C++,P=_.next())P=d(E,v,C,P.value,M),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?C:P.key),b=s(P,b,C),A===null?w=P:A.sibling=P,A=P);return t&&E.forEach(function(H){return e(v,H)}),or&&Fu(v,C),w}function y(v,b,_,M){if(typeof _=="object"&&_!==null&&_.type===id&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case bx:e:{for(var w=_.key,A=b;A!==null;){if(A.key===w){if(w=_.type,w===id){if(A.tag===7){n(v,A.sibling),b=i(A,_.props.children),b.return=v,v=b;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===uc&&ik(w)===A.type){n(v,A.sibling),b=i(A,_.props),b.ref=Im(v,A,_),b.return=v,v=b;break e}n(v,A);break}else e(v,A);A=A.sibling}_.type===id?(b=wf(_.props.children,v.mode,M,_.key),b.return=v,v=b):(M=E_(_.type,_.key,_.props,null,v.mode,M),M.ref=Im(v,b,_),M.return=v,v=M)}return o(v);case rd:e:{for(A=_.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(v,b.sibling),b=i(b,_.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=_E(_,v.mode,M),b.return=v,v=b}return o(v);case uc:return A=_._init,y(v,b,A(_._payload),M)}if(xg(_))return m(v,b,_,M);if(Tm(_))return x(v,b,_,M);Ox(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,_),b.return=v,v=b):(n(v,b),b=bE(_,v.mode,M),b.return=v,v=b),o(v)):n(v,b)}return y}var Yd=nV(!0),rV=nV(!1),o1=eu(null),a1=null,hd=null,qO=null;function ZO(){qO=hd=a1=null}function QO(t){var e=o1.current;er(o1),t._currentValue=e}function eP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dd(t,e){a1=t,qO=hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(us=!0),t.firstContext=null)}function wo(t){var e=t._currentValue;if(qO!==t)if(t={context:t,memoizedValue:e,next:null},hd===null){if(a1===null)throw Error(rt(308));hd=t,a1.dependencies={lanes:0,firstContext:t}}else hd=hd.next=t;return e}var ef=null;function eI(t){ef===null?ef=[t]:ef.push(t)}function iV(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eI(e)):(n.next=i.next,i.next=n),e.interleaved=n,El(t,r)}function El(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fc=!1;function tI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,El(t,n)}return i=r.interleaved,i===null?(e.next=e,eI(r)):(e.next=i.next,i.next=e),r.interleaved=e,El(t,n)}function b_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jO(t,n)}}function sk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function l1(t,e,n,r){var i=t.updateQueue;fc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,x=a;switch(h=e,d=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=mr({},f,h);break e;case 2:fc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);kf|=o,t.lanes=o,t.memoizedState=f}}function ok(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var zy={},Ra=eu(zy),gv=eu(zy),vv=eu(zy);function tf(t){if(t===zy)throw Error(rt(174));return t}function nI(t,e){switch(Vn(vv,e),Vn(gv,t),Vn(Ra,zy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=DC(e,t)}er(Ra),Vn(Ra,e)}function Jd(){er(Ra),er(gv),er(vv)}function oV(t){tf(vv.current);var e=tf(Ra.current),n=DC(e,t.type);e!==n&&(Vn(gv,t),Vn(Ra,n))}function rI(t){gv.current===t&&(er(Ra),er(gv))}var ur=eu(0);function c1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pE=[];function iI(){for(var t=0;t<pE.length;t++)pE[t]._workInProgressVersionPrimary=null;pE.length=0}var __=Nl.ReactCurrentDispatcher,mE=Nl.ReactCurrentBatchConfig,Nf=0,dr=null,Vr=null,si=null,u1=!1,Dg=!1,yv=0,xte=0;function Mi(){throw Error(rt(321))}function sI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ra(t[n],e[n]))return!1;return!0}function oI(t,e,n,r,i,s){if(Nf=s,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,__.current=t===null||t.memoizedState===null?Ste:Ate,t=n(r,i),Dg){s=0;do{if(Dg=!1,yv=0,25<=s)throw Error(rt(301));s+=1,si=Vr=null,e.updateQueue=null,__.current=Mte,t=n(r,i)}while(Dg)}if(__.current=f1,e=Vr!==null&&Vr.next!==null,Nf=0,si=Vr=dr=null,u1=!1,e)throw Error(rt(300));return t}function aI(){var t=yv!==0;return yv=0,t}function _a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?dr.memoizedState=si=t:si=si.next=t,si}function So(){if(Vr===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=Vr.next;var e=si===null?dr.memoizedState:si.next;if(e!==null)si=e,Vr=t;else{if(t===null)throw Error(rt(310));Vr=t,t={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},si===null?dr.memoizedState=si=t:si=si.next=t}return si}function xv(t,e){return typeof e=="function"?e(t):e}function gE(t){var e=So(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=Vr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Nf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,dr.lanes|=u,kf|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ra(r,e.memoizedState)||(us=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,dr.lanes|=s,kf|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vE(t){var e=So(),n=e.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ra(s,e.memoizedState)||(us=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function aV(){}function lV(t,e){var n=dr,r=So(),i=e(),s=!ra(r.memoizedState,i);if(s&&(r.memoizedState=i,us=!0),r=r.queue,lI(fV.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||si!==null&&si.memoizedState.tag&1){if(n.flags|=2048,bv(9,uV.bind(null,n,r,i,e),void 0,null),oi===null)throw Error(rt(349));Nf&30||cV(n,e,i)}return i}function cV(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uV(t,e,n,r){e.value=n,e.getSnapshot=r,hV(e)&&dV(t)}function fV(t,e,n){return n(function(){hV(e)&&dV(t)})}function hV(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ra(t,n)}catch{return!0}}function dV(t){var e=El(t,1);e!==null&&ta(e,t,1,-1)}function ak(t){var e=_a();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:t},e.queue=t,t=t.dispatch=wte.bind(null,dr,t),[e.memoizedState,t]}function bv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pV(){return So().memoizedState}function w_(t,e,n,r){var i=_a();dr.flags|=t,i.memoizedState=bv(1|e,n,void 0,r===void 0?null:r)}function qw(t,e,n,r){var i=So();r=r===void 0?null:r;var s=void 0;if(Vr!==null){var o=Vr.memoizedState;if(s=o.destroy,r!==null&&sI(r,o.deps)){i.memoizedState=bv(e,n,s,r);return}}dr.flags|=t,i.memoizedState=bv(1|e,n,s,r)}function lk(t,e){return w_(8390656,8,t,e)}function lI(t,e){return qw(2048,8,t,e)}function mV(t,e){return qw(4,2,t,e)}function gV(t,e){return qw(4,4,t,e)}function vV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yV(t,e,n){return n=n!=null?n.concat([t]):null,qw(4,4,vV.bind(null,e,t),n)}function cI(){}function xV(t,e){var n=So();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bV(t,e){var n=So();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _V(t,e,n){return Nf&21?(ra(n,e)||(n=E8(),dr.lanes|=n,kf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,us=!0),t.memoizedState=n)}function bte(t,e){var n=Dn;Dn=n!==0&&4>n?n:4,t(!0);var r=mE.transition;mE.transition={};try{t(!1),e()}finally{Dn=n,mE.transition=r}}function wV(){return So().memoizedState}function _te(t,e,n){var r=Ic(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SV(t))AV(e,n);else if(n=iV(t,e,n,r),n!==null){var i=Zi();ta(n,t,r,i),MV(n,e,r)}}function wte(t,e,n){var r=Ic(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SV(t))AV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ra(a,o)){var l=e.interleaved;l===null?(i.next=i,eI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=iV(t,e,i,r),n!==null&&(i=Zi(),ta(n,t,r,i),MV(n,e,r))}}function SV(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function AV(t,e){Dg=u1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MV(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jO(t,n)}}var f1={readContext:wo,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},Ste={readContext:wo,useCallback:function(t,e){return _a().memoizedState=[t,e===void 0?null:e],t},useContext:wo,useEffect:lk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,w_(4194308,4,vV.bind(null,e,t),n)},useLayoutEffect:function(t,e){return w_(4194308,4,t,e)},useInsertionEffect:function(t,e){return w_(4,2,t,e)},useMemo:function(t,e){var n=_a();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_a();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_te.bind(null,dr,t),[r.memoizedState,t]},useRef:function(t){var e=_a();return t={current:t},e.memoizedState=t},useState:ak,useDebugValue:cI,useDeferredValue:function(t){return _a().memoizedState=t},useTransition:function(){var t=ak(!1),e=t[0];return t=bte.bind(null,t[1]),_a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dr,i=_a();if(or){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=e(),oi===null)throw Error(rt(349));Nf&30||cV(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lk(fV.bind(null,r,s,t),[t]),r.flags|=2048,bv(9,uV.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_a(),e=oi.identifierPrefix;if(or){var n=dl,r=hl;n=(r&~(1<<32-ea(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xte++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ate={readContext:wo,useCallback:xV,useContext:wo,useEffect:lI,useImperativeHandle:yV,useInsertionEffect:mV,useLayoutEffect:gV,useMemo:bV,useReducer:gE,useRef:pV,useState:function(){return gE(xv)},useDebugValue:cI,useDeferredValue:function(t){var e=So();return _V(e,Vr.memoizedState,t)},useTransition:function(){var t=gE(xv)[0],e=So().memoizedState;return[t,e]},useMutableSource:aV,useSyncExternalStore:lV,useId:wV,unstable_isNewReconciler:!1},Mte={readContext:wo,useCallback:xV,useContext:wo,useEffect:lI,useImperativeHandle:yV,useInsertionEffect:mV,useLayoutEffect:gV,useMemo:bV,useReducer:vE,useRef:pV,useState:function(){return vE(xv)},useDebugValue:cI,useDeferredValue:function(t){var e=So();return Vr===null?e.memoizedState=t:_V(e,Vr.memoizedState,t)},useTransition:function(){var t=vE(xv)[0],e=So().memoizedState;return[t,e]},useMutableSource:aV,useSyncExternalStore:lV,useId:wV,unstable_isNewReconciler:!1};function Uo(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zw={isMounted:function(t){return(t=t._reactInternals)?Qf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zi(),i=Ic(t),s=xl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rc(t,s,i),e!==null&&(ta(e,t,i,r),b_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zi(),i=Ic(t),s=xl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rc(t,s,i),e!==null&&(ta(e,t,i,r),b_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zi(),r=Ic(t),i=xl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rc(t,i,r),e!==null&&(ta(e,t,r,n),b_(e,t,r))}};function ck(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hv(n,r)||!hv(i,s):!0}function EV(t,e,n){var r=!1,i=Vc,s=e.contextType;return typeof s=="object"&&s!==null?s=wo(s):(i=ms(e)?Df:Ui.current,r=e.contextTypes,s=(r=r!=null)?Xd(t,i):Vc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zw.enqueueReplaceState(e,e.state,null)}function nP(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wo(s):(s=ms(e)?Df:Ui.current,i.context=Xd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tP(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zw.enqueueReplaceState(i,i.state,null),l1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qd(t,e){try{var n="",r=e;do n+=QQ(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ete=typeof WeakMap=="function"?WeakMap:Map;function TV(t,e,n){n=xl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){d1||(d1=!0,dP=r),rP(t,e)},n}function CV(t,e,n){n=xl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rP(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rP(t,e),typeof r!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ete;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jte.bind(null,t,e,n),e.then(t,t))}function hk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xl(-1,1),e.tag=2,Rc(n,e,1))),n.lanes|=1),t)}var Tte=Nl.ReactCurrentOwner,us=!1;function Ki(t,e,n,r){e.child=t===null?rV(e,null,n,r):Yd(e,t.child,n,r)}function pk(t,e,n,r,i){n=n.render;var s=e.ref;return Dd(e,i),r=oI(t,e,n,r,s,i),n=aI(),t!==null&&!us?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tl(t,e,i)):(or&&n&&KO(e),e.flags|=1,Ki(t,e,r,i),e.child)}function mk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!vI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,PV(t,e,s,r,i)):(t=E_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hv,n(o,r)&&t.ref===e.ref)return Tl(t,e,i)}return e.flags|=1,t=Bc(s,r),t.ref=e.ref,t.return=e,e.child=t}function PV(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hv(s,r)&&t.ref===e.ref)if(us=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(us=!0);else return e.lanes=t.lanes,Tl(t,e,i)}return iP(t,e,n,r,i)}function RV(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(pd,Cs),Cs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vn(pd,Cs),Cs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vn(pd,Cs),Cs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Vn(pd,Cs),Cs|=r;return Ki(t,e,i,n),e.child}function OV(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iP(t,e,n,r,i){var s=ms(n)?Df:Ui.current;return s=Xd(e,s),Dd(e,i),n=oI(t,e,n,r,s,i),r=aI(),t!==null&&!us?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tl(t,e,i)):(or&&r&&KO(e),e.flags|=1,Ki(t,e,n,i),e.child)}function gk(t,e,n,r,i){if(ms(n)){var s=!0;r1(e)}else s=!1;if(Dd(e,i),e.stateNode===null)S_(t,e),EV(e,n,r),nP(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wo(c):(c=ms(n)?Df:Ui.current,c=Xd(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&uk(e,o,r,c),fc=!1;var h=e.memoizedState;o.state=h,l1(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ps.current||fc?(typeof u=="function"&&(tP(e,n,u,r),l=e.memoizedState),(a=fc||ck(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sV(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Uo(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wo(l):(l=ms(n)?Df:Ui.current,l=Xd(e,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&uk(e,o,r,l),fc=!1,h=e.memoizedState,o.state=h,l1(e,r,o,i);var m=e.memoizedState;a!==f||h!==m||ps.current||fc?(typeof d=="function"&&(tP(e,n,d,r),m=e.memoizedState),(c=fc||ck(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return sP(t,e,n,r,s,i)}function sP(t,e,n,r,i,s){OV(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tk(e,n,!1),Tl(t,e,s);r=e.stateNode,Tte.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yd(e,t.child,null,s),e.child=Yd(e,null,a,s)):Ki(t,e,a,s),e.memoizedState=r.state,i&&tk(e,n,!0),e.child}function IV(t){var e=t.stateNode;e.pendingContext?ek(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ek(t,e.context,!1),nI(t,e.containerInfo)}function vk(t,e,n,r,i){return Kd(),JO(i),e.flags|=256,Ki(t,e,n,r),e.child}var oP={dehydrated:null,treeContext:null,retryLane:0};function aP(t){return{baseLanes:t,cachePool:null,transitions:null}}function BV(t,e,n){var r=e.pendingProps,i=ur.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vn(ur,i&1),t===null)return QC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tS(o,r,0,null),t=wf(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=aP(n),e.memoizedState=oP,t):uI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Cte(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bc(a,s):(s=wf(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?aP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=oP,r}return s=t.child,t=s.sibling,r=Bc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uI(t,e){return e=tS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ix(t,e,n,r){return r!==null&&JO(r),Yd(e,t.child,null,n),t=uI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cte(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yE(Error(rt(422))),Ix(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=tS({mode:"visible",children:r.children},i,0,null),s=wf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yd(e,t.child,null,o),e.child.memoizedState=aP(o),e.memoizedState=oP,s);if(!(e.mode&1))return Ix(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(rt(419)),r=yE(s,r,void 0),Ix(t,e,o,r)}if(a=(o&t.childLanes)!==0,us||a){if(r=oi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,El(t,i),ta(r,t,i,-1))}return gI(),r=yE(Error(rt(421))),Ix(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zte.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ls=Pc(i.nextSibling),Ns=e,or=!0,Xo=null,t!==null&&(lo[co++]=hl,lo[co++]=dl,lo[co++]=Lf,hl=t.id,dl=t.overflow,Lf=e),e=uI(e,r.children),e.flags|=4096,e)}function yk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eP(t.return,e,n)}function xE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DV(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ki(t,e,r.children,n),r=ur.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yk(t,n,e);else if(t.tag===19)yk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Vn(ur,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&c1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&c1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xE(e,!0,n,null,s);break;case"together":xE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function S_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,n=Bc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pte(t,e,n){switch(e.tag){case 3:IV(e),Kd();break;case 5:oV(e);break;case 1:ms(e.type)&&r1(e);break;case 4:nI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Vn(o1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Vn(ur,ur.current&1),e.flags|=128,null):n&e.child.childLanes?BV(t,e,n):(Vn(ur,ur.current&1),t=Tl(t,e,n),t!==null?t.sibling:null);Vn(ur,ur.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DV(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vn(ur,ur.current),r)break;return null;case 22:case 23:return e.lanes=0,RV(t,e,n)}return Tl(t,e,n)}var LV,lP,NV,kV;LV=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lP=function(){};NV=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tf(Ra.current);var s=null;switch(n){case"input":i=RC(t,i),r=RC(t,r),s=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),s=[];break;case"textarea":i=BC(t,i),r=BC(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=t1)}LC(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kV=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bm(t,e){if(!or)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rte(t,e,n){var r=e.pendingProps;switch(YO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(e),null;case 1:return ms(e.type)&&n1(),Ei(e),null;case 3:return r=e.stateNode,Jd(),er(ps),er(Ui),iI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xo!==null&&(gP(Xo),Xo=null))),lP(t,e),Ei(e),null;case 5:rI(e);var i=tf(vv.current);if(n=e.type,t!==null&&e.stateNode!=null)NV(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(rt(166));return Ei(e),null}if(t=tf(Ra.current),Rx(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Aa]=e,r[mv]=s,t=(e.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(i=0;i<_g.length;i++)Kn(_g[i],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":T3(r,s),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",r);break;case"textarea":P3(r,s),Kn("invalid",r)}LC(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Px(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Px(r.textContent,a,t),i=["children",""+a]):sv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":_x(r),C3(r,s,!0);break;case"textarea":_x(r),R3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=t1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=f8(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Aa]=e,t[mv]=r,LV(t,e,!1,!1),e.stateNode=t;e:{switch(o=NC(n,r),n){case"dialog":Kn("cancel",t),Kn("close",t),i=r;break;case"iframe":case"object":case"embed":Kn("load",t),i=r;break;case"video":case"audio":for(i=0;i<_g.length;i++)Kn(_g[i],t);i=r;break;case"source":Kn("error",t),i=r;break;case"img":case"image":case"link":Kn("error",t),Kn("load",t),i=r;break;case"details":Kn("toggle",t),i=r;break;case"input":T3(t,r),i=RC(t,r),Kn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),Kn("invalid",t);break;case"textarea":P3(t,r),i=BC(t,r),Kn("invalid",t);break;default:i=r}LC(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?p8(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h8(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ov(t,l):typeof l=="number"&&ov(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kn("scroll",t):l!=null&&DO(t,s,l,o))}switch(n){case"input":_x(t),C3(t,r,!1);break;case"textarea":_x(t),R3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=t1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ei(e),null;case 6:if(t&&e.stateNode!=null)kV(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(rt(166));if(n=tf(vv.current),tf(Ra.current),Rx(e)){if(r=e.stateNode,n=e.memoizedProps,r[Aa]=e,(s=r.nodeValue!==n)&&(t=Ns,t!==null))switch(t.tag){case 3:Px(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Px(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Aa]=e,e.stateNode=r}return Ei(e),null;case 13:if(er(ur),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(or&&Ls!==null&&e.mode&1&&!(e.flags&128))tV(),Kd(),e.flags|=98560,s=!1;else if(s=Rx(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Aa]=e}else Kd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ei(e),s=!1}else Xo!==null&&(gP(Xo),Xo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ur.current&1?$r===0&&($r=3):gI())),e.updateQueue!==null&&(e.flags|=4),Ei(e),null);case 4:return Jd(),lP(t,e),t===null&&dv(e.stateNode.containerInfo),Ei(e),null;case 10:return QO(e.type._context),Ei(e),null;case 17:return ms(e.type)&&n1(),Ei(e),null;case 19:if(er(ur),s=e.memoizedState,s===null)return Ei(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bm(s,!1);else{if($r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=c1(t),o!==null){for(e.flags|=128,Bm(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Vn(ur,ur.current&1|2),e.child}t=t.sibling}s.tail!==null&&Cr()>Zd&&(e.flags|=128,r=!0,Bm(s,!1),e.lanes=4194304)}else{if(!r)if(t=c1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!or)return Ei(e),null}else 2*Cr()-s.renderingStartTime>Zd&&n!==1073741824&&(e.flags|=128,r=!0,Bm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Cr(),e.sibling=null,n=ur.current,Vn(ur,r?n&1|2:n&1),e):(Ei(e),null);case 22:case 23:return mI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cs&1073741824&&(Ei(e),e.subtreeFlags&6&&(e.flags|=8192)):Ei(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function Ote(t,e){switch(YO(e),e.tag){case 1:return ms(e.type)&&n1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jd(),er(ps),er(Ui),iI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rI(e),null;case 13:if(er(ur),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));Kd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(ur),null;case 4:return Jd(),null;case 10:return QO(e.type._context),null;case 22:case 23:return mI(),null;case 24:return null;default:return null}}var Bx=!1,Bi=!1,Ite=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function dd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){br(t,e,r)}else n.current=null}function cP(t,e,n){try{n()}catch(r){br(t,e,r)}}var xk=!1;function Bte(t,e){if($C=Z_,t=H8(),XO(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(XC={focusedElem:t,selectionRange:n},Z_=!1,Pt=e;Pt!==null;)if(e=Pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pt=t;else for(;Pt!==null;){e=Pt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,y=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Uo(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(M){br(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Pt=t;break}Pt=e.return}return m=xk,xk=!1,m}function Lg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cP(e,n,s)}i=i.next}while(i!==r)}}function Qw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FV(t){var e=t.alternate;e!==null&&(t.alternate=null,FV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Aa],delete e[mv],delete e[JC],delete e[mte],delete e[gte])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UV(t){return t.tag===5||t.tag===3||t.tag===4}function bk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=t1));else if(r!==4&&(t=t.child,t!==null))for(fP(t,e,n),t=t.sibling;t!==null;)fP(t,e,n),t=t.sibling}function hP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hP(t,e,n),t=t.sibling;t!==null;)hP(t,e,n),t=t.sibling}var hi=null,Ho=!1;function Jl(t,e,n){for(n=n.child;n!==null;)jV(t,e,n),n=n.sibling}function jV(t,e,n){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Ww,n)}catch{}switch(n.tag){case 5:Bi||dd(n,e);case 6:var r=hi,i=Ho;hi=null,Jl(t,e,n),hi=r,Ho=i,hi!==null&&(Ho?(t=hi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hi.removeChild(n.stateNode));break;case 18:hi!==null&&(Ho?(t=hi,n=n.stateNode,t.nodeType===8?hE(t.parentNode,n):t.nodeType===1&&hE(t,n),uv(t)):hE(hi,n.stateNode));break;case 4:r=hi,i=Ho,hi=n.stateNode.containerInfo,Ho=!0,Jl(t,e,n),hi=r,Ho=i;break;case 0:case 11:case 14:case 15:if(!Bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cP(n,e,o),i=i.next}while(i!==r)}Jl(t,e,n);break;case 1:if(!Bi&&(dd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){br(n,e,a)}Jl(t,e,n);break;case 21:Jl(t,e,n);break;case 22:n.mode&1?(Bi=(r=Bi)||n.memoizedState!==null,Jl(t,e,n),Bi=r):Jl(t,e,n);break;default:Jl(t,e,n)}}function _k(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ite),e.forEach(function(r){var i=Hte.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hi=a.stateNode,Ho=!1;break e;case 3:hi=a.stateNode.containerInfo,Ho=!0;break e;case 4:hi=a.stateNode.containerInfo,Ho=!0;break e}a=a.return}if(hi===null)throw Error(rt(160));jV(s,o,i),hi=null,Ho=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){br(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zV(e,t),e=e.sibling}function zV(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oo(e,t),va(t),r&4){try{Lg(3,t,t.return),Qw(3,t)}catch(x){br(t,t.return,x)}try{Lg(5,t,t.return)}catch(x){br(t,t.return,x)}}break;case 1:Oo(e,t),va(t),r&512&&n!==null&&dd(n,n.return);break;case 5:if(Oo(e,t),va(t),r&512&&n!==null&&dd(n,n.return),t.flags&32){var i=t.stateNode;try{ov(i,"")}catch(x){br(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&c8(i,s),NC(a,o);var c=NC(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?p8(i,f):u==="dangerouslySetInnerHTML"?h8(i,f):u==="children"?ov(i,f):DO(i,u,f,c)}switch(a){case"input":OC(i,s);break;case"textarea":u8(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Rd(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Rd(i,!!s.multiple,s.defaultValue,!0):Rd(i,!!s.multiple,s.multiple?[]:"",!1))}i[mv]=s}catch(x){br(t,t.return,x)}}break;case 6:if(Oo(e,t),va(t),r&4){if(t.stateNode===null)throw Error(rt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){br(t,t.return,x)}}break;case 3:if(Oo(e,t),va(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uv(e.containerInfo)}catch(x){br(t,t.return,x)}break;case 4:Oo(e,t),va(t);break;case 13:Oo(e,t),va(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dI=Cr())),r&4&&_k(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Bi=(c=Bi)||u,Oo(e,t),Bi=c):Oo(e,t),va(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Pt=t,u=t.child;u!==null;){for(f=Pt=u;Pt!==null;){switch(h=Pt,d=h.child,h.tag){case 0:case 11:case 14:case 15:Lg(4,h,h.return);break;case 1:dd(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){br(r,n,x)}}break;case 5:dd(h,h.return);break;case 22:if(h.memoizedState!==null){Sk(f);continue}}d!==null?(d.return=h,Pt=d):Sk(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=d8("display",o))}catch(x){br(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){br(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oo(e,t),va(t),r&4&&_k(t);break;case 21:break;default:Oo(e,t),va(t)}}function va(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UV(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ov(i,""),r.flags&=-33);var s=bk(t);hP(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bk(t);fP(t,a,o);break;default:throw Error(rt(161))}}catch(l){br(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dte(t,e,n){Pt=t,HV(t)}function HV(t,e,n){for(var r=(t.mode&1)!==0;Pt!==null;){var i=Pt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bx;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bi;a=Bx;var c=Bi;if(Bx=o,(Bi=l)&&!c)for(Pt=i;Pt!==null;)o=Pt,l=o.child,o.tag===22&&o.memoizedState!==null?Ak(i):l!==null?(l.return=o,Pt=l):Ak(i);for(;s!==null;)Pt=s,HV(s),s=s.sibling;Pt=i,Bx=a,Bi=c}wk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pt=s):wk(t)}}function wk(t){for(;Pt!==null;){var e=Pt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bi||Qw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Uo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ok(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ok(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&uv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Bi||e.flags&512&&uP(e)}catch(h){br(e,e.return,h)}}if(e===t){Pt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pt=n;break}Pt=e.return}}function Sk(t){for(;Pt!==null;){var e=Pt;if(e===t){Pt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pt=n;break}Pt=e.return}}function Ak(t){for(;Pt!==null;){var e=Pt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qw(4,e)}catch(l){br(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){br(e,i,l)}}var s=e.return;try{uP(e)}catch(l){br(e,s,l)}break;case 5:var o=e.return;try{uP(e)}catch(l){br(e,o,l)}}}catch(l){br(e,e.return,l)}if(e===t){Pt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pt=a;break}Pt=e.return}}var Lte=Math.ceil,h1=Nl.ReactCurrentDispatcher,fI=Nl.ReactCurrentOwner,yo=Nl.ReactCurrentBatchConfig,_n=0,oi=null,Ur=null,mi=0,Cs=0,pd=eu(0),$r=0,_v=null,kf=0,eS=0,hI=0,Ng=null,ls=null,dI=0,Zd=1/0,ol=null,d1=!1,dP=null,Oc=null,Dx=!1,bc=null,p1=0,kg=0,pP=null,A_=-1,M_=0;function Zi(){return _n&6?Cr():A_!==-1?A_:A_=Cr()}function Ic(t){return t.mode&1?_n&2&&mi!==0?mi&-mi:yte.transition!==null?(M_===0&&(M_=E8()),M_):(t=Dn,t!==0||(t=window.event,t=t===void 0?16:B8(t.type)),t):1}function ta(t,e,n,r){if(50<kg)throw kg=0,pP=null,Error(rt(185));Fy(t,n,r),(!(_n&2)||t!==oi)&&(t===oi&&(!(_n&2)&&(eS|=n),$r===4&&mc(t,mi)),gs(t,r),n===1&&_n===0&&!(e.mode&1)&&(Zd=Cr()+500,Jw&&tu()))}function gs(t,e){var n=t.callbackNode;yee(t,e);var r=q_(t,t===oi?mi:0);if(r===0)n!==null&&B3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B3(n),e===1)t.tag===0?vte(Mk.bind(null,t)):Z8(Mk.bind(null,t)),dte(function(){!(_n&6)&&tu()}),n=null;else{switch(T8(r)){case 1:n=UO;break;case 4:n=A8;break;case 16:n=J_;break;case 536870912:n=M8;break;default:n=J_}n=JV(n,GV.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GV(t,e){if(A_=-1,M_=0,_n&6)throw Error(rt(327));var n=t.callbackNode;if(Ld()&&t.callbackNode!==n)return null;var r=q_(t,t===oi?mi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=m1(t,r);else{e=r;var i=_n;_n|=2;var s=WV();(oi!==t||mi!==e)&&(ol=null,Zd=Cr()+500,_f(t,e));do try{Fte();break}catch(a){VV(t,a)}while(!0);ZO(),h1.current=s,_n=i,Ur!==null?e=0:(oi=null,mi=0,e=$r)}if(e!==0){if(e===2&&(i=zC(t),i!==0&&(r=i,e=mP(t,i))),e===1)throw n=_v,_f(t,0),mc(t,r),gs(t,Cr()),n;if(e===6)mc(t,r);else{if(i=t.current.alternate,!(r&30)&&!Nte(i)&&(e=m1(t,r),e===2&&(s=zC(t),s!==0&&(r=s,e=mP(t,s))),e===1))throw n=_v,_f(t,0),mc(t,r),gs(t,Cr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(rt(345));case 2:Uu(t,ls,ol);break;case 3:if(mc(t,r),(r&130023424)===r&&(e=dI+500-Cr(),10<e)){if(q_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=YC(Uu.bind(null,t,ls,ol),e);break}Uu(t,ls,ol);break;case 4:if(mc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ea(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Cr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lte(r/1960))-r,10<r){t.timeoutHandle=YC(Uu.bind(null,t,ls,ol),r);break}Uu(t,ls,ol);break;case 5:Uu(t,ls,ol);break;default:throw Error(rt(329))}}}return gs(t,Cr()),t.callbackNode===n?GV.bind(null,t):null}function mP(t,e){var n=Ng;return t.current.memoizedState.isDehydrated&&(_f(t,e).flags|=256),t=m1(t,e),t!==2&&(e=ls,ls=n,e!==null&&gP(e)),t}function gP(t){ls===null?ls=t:ls.push.apply(ls,t)}function Nte(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ra(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mc(t,e){for(e&=~hI,e&=~eS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ea(e),r=1<<n;t[n]=-1,e&=~r}}function Mk(t){if(_n&6)throw Error(rt(327));Ld();var e=q_(t,0);if(!(e&1))return gs(t,Cr()),null;var n=m1(t,e);if(t.tag!==0&&n===2){var r=zC(t);r!==0&&(e=r,n=mP(t,r))}if(n===1)throw n=_v,_f(t,0),mc(t,e),gs(t,Cr()),n;if(n===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Uu(t,ls,ol),gs(t,Cr()),null}function pI(t,e){var n=_n;_n|=1;try{return t(e)}finally{_n=n,_n===0&&(Zd=Cr()+500,Jw&&tu())}}function Ff(t){bc!==null&&bc.tag===0&&!(_n&6)&&Ld();var e=_n;_n|=1;var n=yo.transition,r=Dn;try{if(yo.transition=null,Dn=1,t)return t()}finally{Dn=r,yo.transition=n,_n=e,!(_n&6)&&tu()}}function mI(){Cs=pd.current,er(pd)}function _f(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hte(n)),Ur!==null)for(n=Ur.return;n!==null;){var r=n;switch(YO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&n1();break;case 3:Jd(),er(ps),er(Ui),iI();break;case 5:rI(r);break;case 4:Jd();break;case 13:er(ur);break;case 19:er(ur);break;case 10:QO(r.type._context);break;case 22:case 23:mI()}n=n.return}if(oi=t,Ur=t=Bc(t.current,null),mi=Cs=e,$r=0,_v=null,hI=eS=kf=0,ls=Ng=null,ef!==null){for(e=0;e<ef.length;e++)if(n=ef[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ef=null}return t}function VV(t,e){do{var n=Ur;try{if(ZO(),__.current=f1,u1){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}u1=!1}if(Nf=0,si=Vr=dr=null,Dg=!1,yv=0,fI.current=null,n===null||n.return===null){$r=1,_v=e,Ur=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=hk(o);if(d!==null){d.flags&=-257,dk(d,o,a,s,e),d.mode&1&&fk(s,c,e),e=d,l=c;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){fk(s,c,e),gI();break e}l=Error(rt(426))}}else if(or&&a.mode&1){var y=hk(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),dk(y,o,a,s,e),JO(qd(l,a));break e}}s=l=qd(l,a),$r!==4&&($r=2),Ng===null?Ng=[s]:Ng.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=TV(s,l,e);sk(s,v);break e;case 1:a=l;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Oc===null||!Oc.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=CV(s,a,e);sk(s,M);break e}}s=s.return}while(s!==null)}XV(n)}catch(w){e=w,Ur===n&&n!==null&&(Ur=n=n.return);continue}break}while(!0)}function WV(){var t=h1.current;return h1.current=f1,t===null?f1:t}function gI(){($r===0||$r===3||$r===2)&&($r=4),oi===null||!(kf&268435455)&&!(eS&268435455)||mc(oi,mi)}function m1(t,e){var n=_n;_n|=2;var r=WV();(oi!==t||mi!==e)&&(ol=null,_f(t,e));do try{kte();break}catch(i){VV(t,i)}while(!0);if(ZO(),_n=n,h1.current=r,Ur!==null)throw Error(rt(261));return oi=null,mi=0,$r}function kte(){for(;Ur!==null;)$V(Ur)}function Fte(){for(;Ur!==null&&!cee();)$V(Ur)}function $V(t){var e=YV(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,e===null?XV(t):Ur=e,fI.current=null}function XV(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ote(n,e),n!==null){n.flags&=32767,Ur=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$r=6,Ur=null;return}}else if(n=Rte(n,e,Cs),n!==null){Ur=n;return}if(e=e.sibling,e!==null){Ur=e;return}Ur=e=t}while(e!==null);$r===0&&($r=5)}function Uu(t,e,n){var r=Dn,i=yo.transition;try{yo.transition=null,Dn=1,Ute(t,e,n,r)}finally{yo.transition=i,Dn=r}return null}function Ute(t,e,n,r){do Ld();while(bc!==null);if(_n&6)throw Error(rt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xee(t,s),t===oi&&(Ur=oi=null,mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dx||(Dx=!0,JV(J_,function(){return Ld(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yo.transition,yo.transition=null;var o=Dn;Dn=1;var a=_n;_n|=4,fI.current=null,Bte(t,n),zV(n,t),ste(XC),Z_=!!$C,XC=$C=null,t.current=n,Dte(n),uee(),_n=a,Dn=o,yo.transition=s}else t.current=n;if(Dx&&(Dx=!1,bc=t,p1=i),s=t.pendingLanes,s===0&&(Oc=null),dee(n.stateNode),gs(t,Cr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(d1)throw d1=!1,t=dP,dP=null,t;return p1&1&&t.tag!==0&&Ld(),s=t.pendingLanes,s&1?t===pP?kg++:(kg=0,pP=t):kg=0,tu(),null}function Ld(){if(bc!==null){var t=T8(p1),e=yo.transition,n=Dn;try{if(yo.transition=null,Dn=16>t?16:t,bc===null)var r=!1;else{if(t=bc,bc=null,p1=0,_n&6)throw Error(rt(331));var i=_n;for(_n|=4,Pt=t.current;Pt!==null;){var s=Pt,o=s.child;if(Pt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Pt=c;Pt!==null;){var u=Pt;switch(u.tag){case 0:case 11:case 15:Lg(8,u,s)}var f=u.child;if(f!==null)f.return=u,Pt=f;else for(;Pt!==null;){u=Pt;var h=u.sibling,d=u.return;if(FV(u),u===c){Pt=null;break}if(h!==null){h.return=d,Pt=h;break}Pt=d}}}var m=s.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Pt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pt=o;else e:for(;Pt!==null;){if(s=Pt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lg(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Pt=v;break e}Pt=s.return}}var b=t.current;for(Pt=b;Pt!==null;){o=Pt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Pt=_;else e:for(o=b;Pt!==null;){if(a=Pt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qw(9,a)}}catch(w){br(a,a.return,w)}if(a===o){Pt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Pt=M;break e}Pt=a.return}}if(_n=i,tu(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Ww,t)}catch{}r=!0}return r}finally{Dn=n,yo.transition=e}}return!1}function Ek(t,e,n){e=qd(n,e),e=TV(t,e,1),t=Rc(t,e,1),e=Zi(),t!==null&&(Fy(t,1,e),gs(t,e))}function br(t,e,n){if(t.tag===3)Ek(t,t,n);else for(;e!==null;){if(e.tag===3){Ek(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oc===null||!Oc.has(r))){t=qd(n,t),t=CV(e,t,1),e=Rc(e,t,1),t=Zi(),e!==null&&(Fy(e,1,t),gs(e,t));break}}e=e.return}}function jte(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zi(),t.pingedLanes|=t.suspendedLanes&n,oi===t&&(mi&n)===n&&($r===4||$r===3&&(mi&130023424)===mi&&500>Cr()-dI?_f(t,0):hI|=n),gs(t,e)}function KV(t,e){e===0&&(t.mode&1?(e=Ax,Ax<<=1,!(Ax&130023424)&&(Ax=4194304)):e=1);var n=Zi();t=El(t,e),t!==null&&(Fy(t,e,n),gs(t,n))}function zte(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KV(t,n)}function Hte(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(e),KV(t,n)}var YV;YV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ps.current)us=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return us=!1,Pte(t,e,n);us=!!(t.flags&131072)}else us=!1,or&&e.flags&1048576&&Q8(e,s1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;S_(t,e),t=e.pendingProps;var i=Xd(e,Ui.current);Dd(e,n),i=oI(null,e,r,t,i,n);var s=aI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ms(r)?(s=!0,r1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tI(e),i.updater=Zw,e.stateNode=i,i._reactInternals=e,nP(e,r,t,n),e=sP(null,e,r,!0,s,n)):(e.tag=0,or&&s&&KO(e),Ki(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(S_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Vte(r),t=Uo(r,t),i){case 0:e=iP(null,e,r,t,n);break e;case 1:e=gk(null,e,r,t,n);break e;case 11:e=pk(null,e,r,t,n);break e;case 14:e=mk(null,e,r,Uo(r.type,t),n);break e}throw Error(rt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),iP(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),gk(t,e,r,i,n);case 3:e:{if(IV(e),t===null)throw Error(rt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sV(t,e),l1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qd(Error(rt(423)),e),e=vk(t,e,r,n,i);break e}else if(r!==i){i=qd(Error(rt(424)),e),e=vk(t,e,r,n,i);break e}else for(Ls=Pc(e.stateNode.containerInfo.firstChild),Ns=e,or=!0,Xo=null,n=rV(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kd(),r===i){e=Tl(t,e,n);break e}Ki(t,e,r,n)}e=e.child}return e;case 5:return oV(e),t===null&&QC(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,KC(r,i)?o=null:s!==null&&KC(r,s)&&(e.flags|=32),OV(t,e),Ki(t,e,o,n),e.child;case 6:return t===null&&QC(e),null;case 13:return BV(t,e,n);case 4:return nI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yd(e,null,r,n):Ki(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),pk(t,e,r,i,n);case 7:return Ki(t,e,e.pendingProps,n),e.child;case 8:return Ki(t,e,e.pendingProps.children,n),e.child;case 12:return Ki(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Vn(o1,r._currentValue),r._currentValue=o,s!==null)if(ra(s.value,o)){if(s.children===i.children&&!ps.current){e=Tl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),eP(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(rt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),eP(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ki(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dd(e,n),i=wo(i),r=r(i),e.flags|=1,Ki(t,e,r,n),e.child;case 14:return r=e.type,i=Uo(r,e.pendingProps),i=Uo(r.type,i),mk(t,e,r,i,n);case 15:return PV(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Uo(r,i),S_(t,e),e.tag=1,ms(r)?(t=!0,r1(e)):t=!1,Dd(e,n),EV(e,r,i),nP(e,r,i,n),sP(null,e,r,!0,t,n);case 19:return DV(t,e,n);case 22:return RV(t,e,n)}throw Error(rt(156,e.tag))};function JV(t,e){return S8(t,e)}function Gte(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,n,r){return new Gte(t,e,n,r)}function vI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vte(t){if(typeof t=="function")return vI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===NO)return 11;if(t===kO)return 14}return 2}function Bc(t,e){var n=t.alternate;return n===null?(n=ho(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function E_(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")vI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case id:return wf(n.children,i,s,e);case LO:o=8,i|=8;break;case EC:return t=ho(12,n,e,i|2),t.elementType=EC,t.lanes=s,t;case TC:return t=ho(13,n,e,i),t.elementType=TC,t.lanes=s,t;case CC:return t=ho(19,n,e,i),t.elementType=CC,t.lanes=s,t;case o8:return tS(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i8:o=10;break e;case s8:o=9;break e;case NO:o=11;break e;case kO:o=14;break e;case uc:o=16,r=null;break e}throw Error(rt(130,t==null?t:typeof t,""))}return e=ho(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wf(t,e,n,r){return t=ho(7,t,r,e),t.lanes=n,t}function tS(t,e,n,r){return t=ho(22,t,r,e),t.elementType=o8,t.lanes=n,t.stateNode={isHidden:!1},t}function bE(t,e,n){return t=ho(6,t,null,e),t.lanes=n,t}function _E(t,e,n){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wte(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tE(0),this.expirationTimes=tE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yI(t,e,n,r,i,s,o,a,l){return t=new Wte(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ho(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tI(s),t}function $te(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qV(t){if(!t)return Vc;t=t._reactInternals;e:{if(Qf(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ms(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var n=t.type;if(ms(n))return q8(t,n,e)}return e}function ZV(t,e,n,r,i,s,o,a,l){return t=yI(n,r,!0,t,i,s,o,a,l),t.context=qV(null),n=t.current,r=Zi(),i=Ic(n),s=xl(r,i),s.callback=e??null,Rc(n,s,i),t.current.lanes=i,Fy(t,i,r),gs(t,r),t}function nS(t,e,n,r){var i=e.current,s=Zi(),o=Ic(i);return n=qV(n),e.context===null?e.context=n:e.pendingContext=n,e=xl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rc(i,e,o),t!==null&&(ta(t,i,o,s),b_(t,i,o)),o}function g1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xI(t,e){Tk(t,e),(t=t.alternate)&&Tk(t,e)}function Xte(){return null}var QV=typeof reportError=="function"?reportError:function(t){console.error(t)};function bI(t){this._internalRoot=t}rS.prototype.render=bI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));nS(t,e,null,null)};rS.prototype.unmount=bI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ff(function(){nS(null,t,null,null)}),e[Ml]=null}};function rS(t){this._internalRoot=t}rS.prototype.unstable_scheduleHydration=function(t){if(t){var e=R8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pc.length&&e!==0&&e<pc[n].priority;n++);pc.splice(n,0,t),n===0&&I8(t)}};function _I(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function iS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ck(){}function Kte(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=g1(o);s.call(c)}}var o=ZV(e,r,t,0,null,!1,!1,"",Ck);return t._reactRootContainer=o,t[Ml]=o.current,dv(t.nodeType===8?t.parentNode:t),Ff(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=g1(l);a.call(c)}}var l=yI(t,0,!1,null,null,!1,!1,"",Ck);return t._reactRootContainer=l,t[Ml]=l.current,dv(t.nodeType===8?t.parentNode:t),Ff(function(){nS(e,l,n,r)}),l}function sS(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=g1(o);a.call(l)}}nS(e,o,t,i)}else o=Kte(n,e,t,i,r);return g1(o)}C8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bg(e.pendingLanes);n!==0&&(jO(e,n|1),gs(e,Cr()),!(_n&6)&&(Zd=Cr()+500,tu()))}break;case 13:Ff(function(){var r=El(t,1);if(r!==null){var i=Zi();ta(r,t,1,i)}}),xI(t,1)}};zO=function(t){if(t.tag===13){var e=El(t,134217728);if(e!==null){var n=Zi();ta(e,t,134217728,n)}xI(t,134217728)}};P8=function(t){if(t.tag===13){var e=Ic(t),n=El(t,e);if(n!==null){var r=Zi();ta(n,t,e,r)}xI(t,e)}};R8=function(){return Dn};O8=function(t,e){var n=Dn;try{return Dn=t,e()}finally{Dn=n}};FC=function(t,e,n){switch(e){case"input":if(OC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yw(r);if(!i)throw Error(rt(90));l8(r),OC(r,i)}}}break;case"textarea":u8(t,n);break;case"select":e=n.value,e!=null&&Rd(t,!!n.multiple,e,!1)}};v8=pI;y8=Ff;var Yte={usingClientEntryPoint:!1,Events:[jy,ld,Yw,m8,g8,pI]},Dm={findFiberByHostInstance:Qu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jte={bundleType:Dm.bundleType,version:Dm.version,rendererPackageName:Dm.rendererPackageName,rendererConfig:Dm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_8(t),t===null?null:t.stateNode},findFiberByHostInstance:Dm.findFiberByHostInstance||Xte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lx.isDisabled&&Lx.supportsFiber)try{Ww=Lx.inject(Jte),Pa=Lx}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yte;Hs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_I(e))throw Error(rt(200));return $te(t,e,null,n)};Hs.createRoot=function(t,e){if(!_I(t))throw Error(rt(299));var n=!1,r="",i=QV;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yI(t,1,!1,null,null,n,!1,r,i),t[Ml]=e.current,dv(t.nodeType===8?t.parentNode:t),new bI(e)};Hs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=_8(e),t=t===null?null:t.stateNode,t};Hs.flushSync=function(t){return Ff(t)};Hs.hydrate=function(t,e,n){if(!iS(e))throw Error(rt(200));return sS(null,t,e,!0,n)};Hs.hydrateRoot=function(t,e,n){if(!_I(t))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZV(e,null,t,1,n??null,i,!1,s,o),t[Ml]=e.current,dv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rS(e)};Hs.render=function(t,e,n){if(!iS(e))throw Error(rt(200));return sS(null,t,e,!1,n)};Hs.unmountComponentAtNode=function(t){if(!iS(t))throw Error(rt(40));return t._reactRootContainer?(Ff(function(){sS(null,null,t,!1,function(){t._reactRootContainer=null,t[Ml]=null})}),!0):!1};Hs.unstable_batchedUpdates=pI;Hs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!iS(n))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return sS(t,e,n,!1,r)};Hs.version="18.3.1-next-f1338f8080-20240426";function e9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e9)}catch(t){console.error(t)}}e9(),e8.exports=Hs;var wI=e8.exports;const qte=Ln(wI),Zte=HG({__proto__:null,default:qte},[wI]);var t9,Pk=wI;t9=Pk.createRoot,Pk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ir(){return ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ir.apply(this,arguments)}var kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kr||(kr={}));const Rk="popstate";function Qte(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hy(i)}return tne(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ene(){return Math.random().toString(36).substr(2,8)}function Ok(t,e){return{usr:t.state,key:t.key,idx:e}}function wv(t,e,n,r){return n===void 0&&(n=null),ir({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nu(e):e,{state:n,key:e&&e.key||r||ene()})}function Hy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tne(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ir({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=kr.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:v})}function h(y,v){a=kr.Push;let b=wv(x.location,y,v);c=u()+1;let _=Ok(b,c),M=x.createHref(b);try{o.pushState(_,"",M)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function d(y,v){a=kr.Replace;let b=wv(x.location,y,v);c=u();let _=Ok(b,c),M=x.createHref(b);o.replaceState(_,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:Hy(y);return b=b.replace(/ $/,"%20"),un(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Rk,f),l=y,()=>{i.removeEventListener(Rk,f),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:d,go(y){return o.go(y)}};return x}var Rn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rn||(Rn={}));const nne=new Set(["lazy","caseSensitive","path","id","index","children"]);function rne(t){return t.index===!0}function v1(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(un(i.index!==!0||!i.children,"Cannot specify children on an index route"),un(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),rne(i)){let l=ir({},i,e(i),{id:a});return r[a]=l,l}else{let l=ir({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=v1(i.children,e,o,r)),l}})}function Ju(t,e,n){return n===void 0&&(n="/"),T_(t,e,n,!1)}function T_(t,e,n,r){let i=typeof e=="string"?nu(e):e,s=Gy(i.pathname||"/",n);if(s==null)return null;let o=n9(t);sne(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=gne(s);a=pne(o[l],c,r)}return a}function ine(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function n9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(un(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Dc([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(un(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),n9(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:hne(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of r9(s.path))i(s,o,l)}),e}function r9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=r9(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const one=/^:[\w-]+$/,ane=3,lne=2,cne=1,une=10,fne=-2,Ik=t=>t==="*";function hne(t,e){let n=t.split("/"),r=n.length;return n.some(Ik)&&(r+=fne),e&&(r+=lne),n.filter(i=>!Ik(i)).reduce((i,s)=>i+(one.test(s)?ane:s===""?cne:une),r)}function dne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pne(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Bk({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Bk({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Dc([s,f.pathname]),pathnameBase:xne(Dc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Dc([s,f.pathnameBase]))}return o}function Bk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mne(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let x=a[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const m=a[f];return d&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function mne(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vne(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nu(t):t;return{pathname:n?n.startsWith("/")?n:yne(n,e):e,search:bne(r),hash:_ne(i)}}function yne(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SI(t,e){let n=i9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nu(t):(i=ir({},t),un(!i.pathname||!i.pathname.includes("?"),wE("?","pathname","search",i)),un(!i.pathname||!i.pathname.includes("#"),wE("#","pathname","hash",i)),un(!i.search||!i.search.includes("#"),wE("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=vne(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Dc=t=>t.join("/").replace(/\/\/+/g,"/"),xne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_ne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class y1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Sv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const s9=["post","put","patch","delete"],wne=new Set(s9),Sne=["get",...s9],Ane=new Set(Sne),Mne=new Set([301,302,303,307,308]),Ene=new Set([307,308]),SE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},MI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cne=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),o9="remix-router-transitions";function Pne(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;un(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let de=t.detectErrorBoundary;i=ye=>({hasErrorBoundary:de(ye)})}else i=Cne;let s={},o=v1(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||Bne,u=t.patchRoutesOnNavigation,f=ir({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,d=new Set,m=null,x=null,y=null,v=t.hydrationData!=null,b=Ju(o,t.history.location,l),_=!1,M=null;if(b==null&&!u){let de=as(404,{pathname:t.history.location.pathname}),{matches:ye,route:Ee}=Vk(o);b=ye,M={[Ee.id]:de}}b&&!t.hydrationData&&Xt(b,o,t.history.location.pathname).active&&(b=null);let w;if(b)if(b.some(de=>de.route.lazy))w=!1;else if(!b.some(de=>de.route.loader))w=!0;else if(f.v7_partialHydration){let de=t.hydrationData?t.hydrationData.loaderData:null,ye=t.hydrationData?t.hydrationData.errors:null;if(ye){let Ee=b.findIndex(Je=>ye[Je.route.id]!==void 0);w=b.slice(0,Ee+1).every(Je=>!yP(Je.route,de,ye))}else w=b.every(Ee=>!yP(Ee.route,de,ye))}else w=t.hydrationData!=null;else if(w=!1,b=[],f.v7_partialHydration){let de=Xt(null,o,t.history.location.pathname);de.active&&de.matches&&(_=!0,b=de.matches)}let A,E={historyAction:t.history.action,location:t.history.location,matches:b,initialized:w,navigation:SE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},C=kr.Pop,L=!1,P,B=!1,H=new Map,q=null,z=!1,K=!1,Y=[],ie=new Set,G=new Map,J=0,te=-1,re=new Map,fe=new Set,we=new Map,pe=new Map,Ae=new Set,Pe=new Map,Ze=new Map,nt;function Ie(){if(h=t.history.listen(de=>{let{action:ye,location:Ee,delta:Je}=de;if(nt){nt(),nt=void 0;return}Qd(Ze.size===0||Je!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let at=$e({currentLocation:E.location,nextLocation:Ee,historyAction:ye});if(at&&Je!=null){let Mt=new Promise(ot=>{nt=ot});t.history.go(Je*-1),vt(at,{state:"blocked",location:Ee,proceed(){vt(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Mt.then(()=>t.history.go(Je))},reset(){let ot=new Map(E.blockers);ot.set(at,Lm),X({blockers:ot})}});return}return Re(ye,Ee)}),n){Xne(e,H);let de=()=>Kne(e,H);e.addEventListener("pagehide",de),q=()=>e.removeEventListener("pagehide",de)}return E.initialized||Re(kr.Pop,E.location,{initialHydration:!0}),A}function et(){h&&h(),q&&q(),d.clear(),P&&P.abort(),E.fetchers.forEach((de,ye)=>he(ye)),E.blockers.forEach((de,ye)=>Ge(ye))}function Xe(de){return d.add(de),()=>d.delete(de)}function X(de,ye){ye===void 0&&(ye={}),E=ir({},E,de);let Ee=[],Je=[];f.v7_fetcherPersist&&E.fetchers.forEach((at,Mt)=>{at.state==="idle"&&(Ae.has(Mt)?Je.push(Mt):Ee.push(Mt))}),Ae.forEach(at=>{!E.fetchers.has(at)&&!G.has(at)&&Je.push(at)}),[...d].forEach(at=>at(E,{deletedFetchers:Je,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),f.v7_fetcherPersist?(Ee.forEach(at=>E.fetchers.delete(at)),Je.forEach(at=>he(at))):Je.forEach(at=>Ae.delete(at))}function Le(de,ye,Ee){var Je,at;let{flushSync:Mt}=Ee===void 0?{}:Ee,ot=E.actionData!=null&&E.navigation.formMethod!=null&&Go(E.navigation.formMethod)&&E.navigation.state==="loading"&&((Je=de.state)==null?void 0:Je._isRedirect)!==!0,St;ye.actionData?Object.keys(ye.actionData).length>0?St=ye.actionData:St=null:ot?St=E.actionData:St=null;let Ct=ye.loaderData?Hk(E.loaderData,ye.loaderData,ye.matches||[],ye.errors):E.loaderData,k=E.blockers;k.size>0&&(k=new Map(k),k.forEach((F,ee)=>k.set(ee,Lm)));let W=L===!0||E.navigation.formMethod!=null&&Go(E.navigation.formMethod)&&((at=de.state)==null?void 0:at._isRedirect)!==!0;a&&(o=a,a=void 0),z||C===kr.Pop||(C===kr.Push?t.history.push(de,de.state):C===kr.Replace&&t.history.replace(de,de.state));let ce;if(C===kr.Pop){let F=H.get(E.location.pathname);F&&F.has(de.pathname)?ce={currentLocation:E.location,nextLocation:de}:H.has(de.pathname)&&(ce={currentLocation:de,nextLocation:E.location})}else if(B){let F=H.get(E.location.pathname);F?F.add(de.pathname):(F=new Set([de.pathname]),H.set(E.location.pathname,F)),ce={currentLocation:E.location,nextLocation:de}}X(ir({},ye,{actionData:St,loaderData:Ct,historyAction:C,location:de,initialized:!0,navigation:SE,revalidation:"idle",restoreScrollPosition:Vt(de,ye.matches||E.matches),preventScrollReset:W,blockers:k}),{viewTransitionOpts:ce,flushSync:Mt===!0}),C=kr.Pop,L=!1,B=!1,z=!1,K=!1,Y=[]}async function Se(de,ye){if(typeof de=="number"){t.history.go(de);return}let Ee=vP(E.location,E.matches,l,f.v7_prependBasename,de,f.v7_relativeSplatPath,ye==null?void 0:ye.fromRouteId,ye==null?void 0:ye.relative),{path:Je,submission:at,error:Mt}=Dk(f.v7_normalizeFormMethod,!1,Ee,ye),ot=E.location,St=wv(E.location,Je,ye&&ye.state);St=ir({},St,t.history.encodeLocation(St));let Ct=ye&&ye.replace!=null?ye.replace:void 0,k=kr.Push;Ct===!0?k=kr.Replace:Ct===!1||at!=null&&Go(at.formMethod)&&at.formAction===E.location.pathname+E.location.search&&(k=kr.Replace);let W=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,ce=(ye&&ye.flushSync)===!0,F=$e({currentLocation:ot,nextLocation:St,historyAction:k});if(F){vt(F,{state:"blocked",location:St,proceed(){vt(F,{state:"proceeding",proceed:void 0,reset:void 0,location:St}),Se(de,ye)},reset(){let ee=new Map(E.blockers);ee.set(F,Lm),X({blockers:ee})}});return}return await Re(k,St,{submission:at,pendingError:Mt,preventScrollReset:W,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:ce})}function Ve(){if(j(),X({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Re(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Re(C||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:B===!0})}}async function Re(de,ye,Ee){P&&P.abort(),P=null,C=de,z=(Ee&&Ee.startUninterruptedRevalidation)===!0,Tt(E.location,E.matches),L=(Ee&&Ee.preventScrollReset)===!0,B=(Ee&&Ee.enableViewTransition)===!0;let Je=a||o,at=Ee&&Ee.overrideNavigation,Mt=Ee!=null&&Ee.initialHydration&&E.matches&&E.matches.length>0&&!_?E.matches:Ju(Je,ye,l),ot=(Ee&&Ee.flushSync)===!0;if(Mt&&E.initialized&&!K&&Une(E.location,ye)&&!(Ee&&Ee.submission&&Go(Ee.submission.formMethod))){Le(ye,{matches:Mt},{flushSync:ot});return}let St=Xt(Mt,Je,ye.pathname);if(St.active&&St.matches&&(Mt=St.matches),!Mt){let{error:ne,notFoundMatches:le,route:se}=ae(ye.pathname);Le(ye,{matches:le,loaderData:{},errors:{[se.id]:ne}},{flushSync:ot});return}P=new AbortController;let Ct=Ah(t.history,ye,P.signal,Ee&&Ee.submission),k;if(Ee&&Ee.pendingError)k=[qu(Mt).route.id,{type:Rn.error,error:Ee.pendingError}];else if(Ee&&Ee.submission&&Go(Ee.submission.formMethod)){let ne=await dt(Ct,ye,Ee.submission,Mt,St.active,{replace:Ee.replace,flushSync:ot});if(ne.shortCircuited)return;if(ne.pendingActionResult){let[le,se]=ne.pendingActionResult;if(Rs(se)&&Sv(se.error)&&se.error.status===404){P=null,Le(ye,{matches:ne.matches,loaderData:{},errors:{[le]:se.error}});return}}Mt=ne.matches||Mt,k=ne.pendingActionResult,at=AE(ye,Ee.submission),ot=!1,St.active=!1,Ct=Ah(t.history,Ct.url,Ct.signal)}let{shortCircuited:W,matches:ce,loaderData:F,errors:ee}=await it(Ct,ye,Mt,St.active,at,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,ot,k);W||(P=null,Le(ye,ir({matches:ce||Mt},Gk(k),{loaderData:F,errors:ee})))}async function dt(de,ye,Ee,Je,at,Mt){Mt===void 0&&(Mt={}),j();let ot=Wne(ye,Ee);if(X({navigation:ot},{flushSync:Mt.flushSync===!0}),at){let k=await bn(Je,ye.pathname,de.signal);if(k.type==="aborted")return{shortCircuited:!0};if(k.type==="error"){let W=qu(k.partialMatches).route.id;return{matches:k.partialMatches,pendingActionResult:[W,{type:Rn.error,error:k.error}]}}else if(k.matches)Je=k.matches;else{let{notFoundMatches:W,error:ce,route:F}=ae(ye.pathname);return{matches:W,pendingActionResult:[F.id,{type:Rn.error,error:ce}]}}}let St,Ct=wg(Je,ye);if(!Ct.route.action&&!Ct.route.lazy)St={type:Rn.error,error:as(405,{method:de.method,pathname:ye.pathname,routeId:Ct.route.id})};else if(St=(await ut("action",E,de,[Ct],Je,null))[Ct.route.id],de.signal.aborted)return{shortCircuited:!0};if(nf(St)){let k;return Mt&&Mt.replace!=null?k=Mt.replace:k=Uk(St.response.headers.get("Location"),new URL(de.url),l)===E.location.pathname+E.location.search,await Ue(de,St,!0,{submission:Ee,replace:k}),{shortCircuited:!0}}if(_c(St))throw as(400,{type:"defer-action"});if(Rs(St)){let k=qu(Je,Ct.route.id);return(Mt&&Mt.replace)!==!0&&(C=kr.Push),{matches:Je,pendingActionResult:[k.route.id,St]}}return{matches:Je,pendingActionResult:[Ct.route.id,St]}}async function it(de,ye,Ee,Je,at,Mt,ot,St,Ct,k,W){let ce=at||AE(ye,Mt),F=Mt||ot||$k(ce),ee=!z&&(!f.v7_partialHydration||!Ct);if(Je){if(ee){let Et=Q(W);X(ir({navigation:ce},Et!==void 0?{actionData:Et}:{}),{flushSync:k})}let ht=await bn(Ee,ye.pathname,de.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let Et=qu(ht.partialMatches).route.id;return{matches:ht.partialMatches,loaderData:{},errors:{[Et]:ht.error}}}else if(ht.matches)Ee=ht.matches;else{let{error:Et,notFoundMatches:yt,route:ct}=ae(ye.pathname);return{matches:yt,loaderData:{},errors:{[ct.id]:Et}}}}let ne=a||o,[le,se]=Nk(t.history,E,Ee,F,ye,f.v7_partialHydration&&Ct===!0,f.v7_skipActionErrorRevalidation,K,Y,ie,Ae,we,fe,ne,l,W);if(Qe(ht=>!(Ee&&Ee.some(Et=>Et.route.id===ht))||le&&le.some(Et=>Et.route.id===ht)),te=++J,le.length===0&&se.length===0){let ht=tt();return Le(ye,ir({matches:Ee,loaderData:{},errors:W&&Rs(W[1])?{[W[0]]:W[1].error}:null},Gk(W),ht?{fetchers:new Map(E.fetchers)}:{}),{flushSync:k}),{shortCircuited:!0}}if(ee){let ht={};if(!Je){ht.navigation=ce;let Et=Q(W);Et!==void 0&&(ht.actionData=Et)}se.length>0&&(ht.fetchers=$(se)),X(ht,{flushSync:k})}se.forEach(ht=>{_e(ht.key),ht.controller&&G.set(ht.key,ht.controller)});let Me=()=>se.forEach(ht=>_e(ht.key));P&&P.signal.addEventListener("abort",Me);let{loaderResults:Oe,fetcherResults:De}=await ft(E,Ee,le,se,de);if(de.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Me),se.forEach(ht=>G.delete(ht.key));let Be=Nx(Oe);if(Be)return await Ue(de,Be.result,!0,{replace:St}),{shortCircuited:!0};if(Be=Nx(De),Be)return fe.add(Be.key),await Ue(de,Be.result,!0,{replace:St}),{shortCircuited:!0};let{loaderData:bt,errors:Ye}=zk(E,Ee,Oe,W,se,De,Pe);Pe.forEach((ht,Et)=>{ht.subscribe(yt=>{(yt||ht.done)&&Pe.delete(Et)})}),f.v7_partialHydration&&Ct&&E.errors&&(Ye=ir({},E.errors,Ye));let qe=tt(),wt=ue(te),It=qe||wt||se.length>0;return ir({matches:Ee,loaderData:bt,errors:Ye},It?{fetchers:new Map(E.fetchers)}:{})}function Q(de){if(de&&!Rs(de[1]))return{[de[0]]:de[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function $(de){return de.forEach(ye=>{let Ee=E.fetchers.get(ye.key),Je=Nm(void 0,Ee?Ee.data:void 0);E.fetchers.set(ye.key,Je)}),new Map(E.fetchers)}function xe(de,ye,Ee,Je){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");_e(de);let at=(Je&&Je.flushSync)===!0,Mt=a||o,ot=vP(E.location,E.matches,l,f.v7_prependBasename,Ee,f.v7_relativeSplatPath,ye,Je==null?void 0:Je.relative),St=Ju(Mt,ot,l),Ct=Xt(St,Mt,ot);if(Ct.active&&Ct.matches&&(St=Ct.matches),!St){D(de,ye,as(404,{pathname:ot}),{flushSync:at});return}let{path:k,submission:W,error:ce}=Dk(f.v7_normalizeFormMethod,!0,ot,Je);if(ce){D(de,ye,ce,{flushSync:at});return}let F=wg(St,k),ee=(Je&&Je.preventScrollReset)===!0;if(W&&Go(W.formMethod)){He(de,ye,k,F,St,Ct.active,at,ee,W);return}we.set(de,{routeId:ye,path:k}),We(de,ye,k,F,St,Ct.active,at,ee,W)}async function He(de,ye,Ee,Je,at,Mt,ot,St,Ct){j(),we.delete(de);function k(Dt){if(!Dt.route.action&&!Dt.route.lazy){let Nt=as(405,{method:Ct.formMethod,pathname:Ee,routeId:ye});return D(de,ye,Nt,{flushSync:ot}),!0}return!1}if(!Mt&&k(Je))return;let W=E.fetchers.get(de);O(de,$ne(Ct,W),{flushSync:ot});let ce=new AbortController,F=Ah(t.history,Ee,ce.signal,Ct);if(Mt){let Dt=await bn(at,new URL(F.url).pathname,F.signal,de);if(Dt.type==="aborted")return;if(Dt.type==="error"){D(de,ye,Dt.error,{flushSync:ot});return}else if(Dt.matches){if(at=Dt.matches,Je=wg(at,Ee),k(Je))return}else{D(de,ye,as(404,{pathname:Ee}),{flushSync:ot});return}}G.set(de,ce);let ee=J,le=(await ut("action",E,F,[Je],at,de))[Je.route.id];if(F.signal.aborted){G.get(de)===ce&&G.delete(de);return}if(f.v7_fetcherPersist&&Ae.has(de)){if(nf(le)||Rs(le)){O(de,lc(void 0));return}}else{if(nf(le))if(G.delete(de),te>ee){O(de,lc(void 0));return}else return fe.add(de),O(de,Nm(Ct)),Ue(F,le,!1,{fetcherSubmission:Ct,preventScrollReset:St});if(Rs(le)){D(de,ye,le.error);return}}if(_c(le))throw as(400,{type:"defer-action"});let se=E.navigation.location||E.location,Me=Ah(t.history,se,ce.signal),Oe=a||o,De=E.navigation.state!=="idle"?Ju(Oe,E.navigation.location,l):E.matches;un(De,"Didn't find any matches after fetcher action");let Be=++J;re.set(de,Be);let bt=Nm(Ct,le.data);E.fetchers.set(de,bt);let[Ye,qe]=Nk(t.history,E,De,Ct,se,!1,f.v7_skipActionErrorRevalidation,K,Y,ie,Ae,we,fe,Oe,l,[Je.route.id,le]);qe.filter(Dt=>Dt.key!==de).forEach(Dt=>{let Nt=Dt.key,zt=E.fetchers.get(Nt),Tn=Nm(void 0,zt?zt.data:void 0);E.fetchers.set(Nt,Tn),_e(Nt),Dt.controller&&G.set(Nt,Dt.controller)}),X({fetchers:new Map(E.fetchers)});let wt=()=>qe.forEach(Dt=>_e(Dt.key));ce.signal.addEventListener("abort",wt);let{loaderResults:It,fetcherResults:ht}=await ft(E,De,Ye,qe,Me);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",wt),re.delete(de),G.delete(de),qe.forEach(Dt=>G.delete(Dt.key));let Et=Nx(It);if(Et)return Ue(Me,Et.result,!1,{preventScrollReset:St});if(Et=Nx(ht),Et)return fe.add(Et.key),Ue(Me,Et.result,!1,{preventScrollReset:St});let{loaderData:yt,errors:ct}=zk(E,De,It,void 0,qe,ht,Pe);if(E.fetchers.has(de)){let Dt=lc(le.data);E.fetchers.set(de,Dt)}ue(Be),E.navigation.state==="loading"&&Be>te?(un(C,"Expected pending action"),P&&P.abort(),Le(E.navigation.location,{matches:De,loaderData:yt,errors:ct,fetchers:new Map(E.fetchers)})):(X({errors:ct,loaderData:Hk(E.loaderData,yt,De,ct),fetchers:new Map(E.fetchers)}),K=!1)}async function We(de,ye,Ee,Je,at,Mt,ot,St,Ct){let k=E.fetchers.get(de);O(de,Nm(Ct,k?k.data:void 0),{flushSync:ot});let W=new AbortController,ce=Ah(t.history,Ee,W.signal);if(Mt){let le=await bn(at,new URL(ce.url).pathname,ce.signal,de);if(le.type==="aborted")return;if(le.type==="error"){D(de,ye,le.error,{flushSync:ot});return}else if(le.matches)at=le.matches,Je=wg(at,Ee);else{D(de,ye,as(404,{pathname:Ee}),{flushSync:ot});return}}G.set(de,W);let F=J,ne=(await ut("loader",E,ce,[Je],at,de))[Je.route.id];if(_c(ne)&&(ne=await EI(ne,ce.signal,!0)||ne),G.get(de)===W&&G.delete(de),!ce.signal.aborted){if(Ae.has(de)){O(de,lc(void 0));return}if(nf(ne))if(te>F){O(de,lc(void 0));return}else{fe.add(de),await Ue(ce,ne,!1,{preventScrollReset:St});return}if(Rs(ne)){D(de,ye,ne.error);return}un(!_c(ne),"Unhandled fetcher deferred data"),O(de,lc(ne.data))}}async function Ue(de,ye,Ee,Je){let{submission:at,fetcherSubmission:Mt,preventScrollReset:ot,replace:St}=Je===void 0?{}:Je;ye.response.headers.has("X-Remix-Revalidate")&&(K=!0);let Ct=ye.response.headers.get("Location");un(Ct,"Expected a Location header on the redirect Response"),Ct=Uk(Ct,new URL(de.url),l);let k=wv(E.location,Ct,{_isRedirect:!0});if(n){let le=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))le=!0;else if(MI.test(Ct)){const se=t.history.createURL(Ct);le=se.origin!==e.location.origin||Gy(se.pathname,l)==null}if(le){St?e.location.replace(Ct):e.location.assign(Ct);return}}P=null;let W=St===!0||ye.response.headers.has("X-Remix-Replace")?kr.Replace:kr.Push,{formMethod:ce,formAction:F,formEncType:ee}=E.navigation;!at&&!Mt&&ce&&F&&ee&&(at=$k(E.navigation));let ne=at||Mt;if(Ene.has(ye.response.status)&&ne&&Go(ne.formMethod))await Re(W,k,{submission:ir({},ne,{formAction:Ct}),preventScrollReset:ot||L,enableViewTransition:Ee?B:void 0});else{let le=AE(k,at);await Re(W,k,{overrideNavigation:le,fetcherSubmission:Mt,preventScrollReset:ot||L,enableViewTransition:Ee?B:void 0})}}async function ut(de,ye,Ee,Je,at,Mt){let ot,St={};try{ot=await Dne(c,de,ye,Ee,Je,at,Mt,s,i)}catch(Ct){return Je.forEach(k=>{St[k.route.id]={type:Rn.error,error:Ct}}),St}for(let[Ct,k]of Object.entries(ot))if(jne(k)){let W=k.result;St[Ct]={type:Rn.redirect,response:kne(W,Ee,Ct,at,l,f.v7_relativeSplatPath)}}else St[Ct]=await Nne(k);return St}async function ft(de,ye,Ee,Je,at){let Mt=de.matches,ot=ut("loader",de,at,Ee,ye,null),St=Promise.all(Je.map(async W=>{if(W.matches&&W.match&&W.controller){let F=(await ut("loader",de,Ah(t.history,W.path,W.controller.signal),[W.match],W.matches,W.key))[W.match.route.id];return{[W.key]:F}}else return Promise.resolve({[W.key]:{type:Rn.error,error:as(404,{pathname:W.path})}})})),Ct=await ot,k=(await St).reduce((W,ce)=>Object.assign(W,ce),{});return await Promise.all([Gne(ye,Ct,at.signal,Mt,de.loaderData),Vne(ye,k,Je)]),{loaderResults:Ct,fetcherResults:k}}function j(){K=!0,Y.push(...Qe()),we.forEach((de,ye)=>{G.has(ye)&&ie.add(ye),_e(ye)})}function O(de,ye,Ee){Ee===void 0&&(Ee={}),E.fetchers.set(de,ye),X({fetchers:new Map(E.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function D(de,ye,Ee,Je){Je===void 0&&(Je={});let at=qu(E.matches,ye);he(de),X({errors:{[at.route.id]:Ee},fetchers:new Map(E.fetchers)},{flushSync:(Je&&Je.flushSync)===!0})}function V(de){return pe.set(de,(pe.get(de)||0)+1),Ae.has(de)&&Ae.delete(de),E.fetchers.get(de)||Tne}function he(de){let ye=E.fetchers.get(de);G.has(de)&&!(ye&&ye.state==="loading"&&re.has(de))&&_e(de),we.delete(de),re.delete(de),fe.delete(de),f.v7_fetcherPersist&&Ae.delete(de),ie.delete(de),E.fetchers.delete(de)}function ge(de){let ye=(pe.get(de)||0)-1;ye<=0?(pe.delete(de),Ae.add(de),f.v7_fetcherPersist||he(de)):pe.set(de,ye),X({fetchers:new Map(E.fetchers)})}function _e(de){let ye=G.get(de);ye&&(ye.abort(),G.delete(de))}function Ke(de){for(let ye of de){let Ee=V(ye),Je=lc(Ee.data);E.fetchers.set(ye,Je)}}function tt(){let de=[],ye=!1;for(let Ee of fe){let Je=E.fetchers.get(Ee);un(Je,"Expected fetcher: "+Ee),Je.state==="loading"&&(fe.delete(Ee),de.push(Ee),ye=!0)}return Ke(de),ye}function ue(de){let ye=[];for(let[Ee,Je]of re)if(Je<de){let at=E.fetchers.get(Ee);un(at,"Expected fetcher: "+Ee),at.state==="loading"&&(_e(Ee),re.delete(Ee),ye.push(Ee))}return Ke(ye),ye.length>0}function Ce(de,ye){let Ee=E.blockers.get(de)||Lm;return Ze.get(de)!==ye&&Ze.set(de,ye),Ee}function Ge(de){E.blockers.delete(de),Ze.delete(de)}function vt(de,ye){let Ee=E.blockers.get(de)||Lm;un(Ee.state==="unblocked"&&ye.state==="blocked"||Ee.state==="blocked"&&ye.state==="blocked"||Ee.state==="blocked"&&ye.state==="proceeding"||Ee.state==="blocked"&&ye.state==="unblocked"||Ee.state==="proceeding"&&ye.state==="unblocked","Invalid blocker state transition: "+Ee.state+" -> "+ye.state);let Je=new Map(E.blockers);Je.set(de,ye),X({blockers:Je})}function $e(de){let{currentLocation:ye,nextLocation:Ee,historyAction:Je}=de;if(Ze.size===0)return;Ze.size>1&&Qd(!1,"A router only supports one blocker at a time");let at=Array.from(Ze.entries()),[Mt,ot]=at[at.length-1],St=E.blockers.get(Mt);if(!(St&&St.state==="proceeding")&&ot({currentLocation:ye,nextLocation:Ee,historyAction:Je}))return Mt}function ae(de){let ye=as(404,{pathname:de}),Ee=a||o,{matches:Je,route:at}=Vk(Ee);return Qe(),{notFoundMatches:Je,route:at,error:ye}}function Qe(de){let ye=[];return Pe.forEach((Ee,Je)=>{(!de||de(Je))&&(Ee.cancel(),ye.push(Je),Pe.delete(Je))}),ye}function st(de,ye,Ee){if(m=de,y=ye,x=Ee||null,!v&&E.navigation===SE){v=!0;let Je=Vt(E.location,E.matches);Je!=null&&X({restoreScrollPosition:Je})}return()=>{m=null,y=null,x=null}}function At(de,ye){return x&&x(de,ye.map(Je=>ine(Je,E.loaderData)))||de.key}function Tt(de,ye){if(m&&y){let Ee=At(de,ye);m[Ee]=y()}}function Vt(de,ye){if(m){let Ee=At(de,ye),Je=m[Ee];if(typeof Je=="number")return Je}return null}function Xt(de,ye,Ee){if(u)if(de){if(Object.keys(de[0].params).length>0)return{active:!0,matches:T_(ye,Ee,l,!0)}}else return{active:!0,matches:T_(ye,Ee,l,!0)||[]};return{active:!1,matches:null}}async function bn(de,ye,Ee,Je){if(!u)return{type:"success",matches:de};let at=de;for(;;){let Mt=a==null,ot=a||o,St=s;try{await u({signal:Ee,path:ye,matches:at,fetcherKey:Je,patch:(W,ce)=>{Ee.aborted||Fk(W,ce,ot,St,i)}})}catch(W){return{type:"error",error:W,partialMatches:at}}finally{Mt&&!Ee.aborted&&(o=[...o])}if(Ee.aborted)return{type:"aborted"};let Ct=Ju(ot,ye,l);if(Ct)return{type:"success",matches:Ct};let k=T_(ot,ye,l,!0);if(!k||at.length===k.length&&at.every((W,ce)=>W.route.id===k[ce].route.id))return{type:"success",matches:null};at=k}}function Xn(de){s={},a=v1(de,i,void 0,s)}function on(de,ye){let Ee=a==null;Fk(de,ye,a||o,s,i),Ee&&(o=[...o],X({}))}return A={get basename(){return l},get future(){return f},get state(){return E},get routes(){return o},get window(){return e},initialize:Ie,subscribe:Xe,enableScrollRestoration:st,navigate:Se,fetch:xe,revalidate:Ve,createHref:de=>t.history.createHref(de),encodeLocation:de=>t.history.encodeLocation(de),getFetcher:V,deleteFetcher:ge,dispose:et,getBlocker:Ce,deleteBlocker:Ge,patchRoutes:on,_internalFetchControllers:G,_internalActiveDeferreds:Pe,_internalSetRoutes:Xn},A}function Rne(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vP(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let u=AI(i||".",SI(l,s),Gy(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let f=TI(u.search);if(c.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(u.search),d=h.getAll("index");h.delete("index"),d.filter(x=>x).forEach(x=>h.append("index",x));let m=h.toString();u.search=m?"?"+m:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Dc([n,u.pathname])),Hy(u)}function Dk(t,e,n,r){if(!r||!Rne(r))return{path:n};if(r.formMethod&&!Hne(r.formMethod))return{path:n,error:as(405,{method:r.formMethod})};let i=()=>({path:n,error:as(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=c9(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Go(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,m)=>{let[x,y]=m;return""+d+x+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Go(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}un(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=xP(r.formData),c=r.formData;else if(r.body instanceof FormData)l=xP(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=jk(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=jk(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Go(u.formMethod))return{path:n,submission:u};let f=nu(n);return e&&f.search&&TI(f.search)&&l.append("index",""),f.search="?"+l,{path:Hy(f),submission:u}}function Lk(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Nk(t,e,n,r,i,s,o,a,l,c,u,f,h,d,m,x){let y=x?Rs(x[1])?x[1].error:x[1].data:void 0,v=t.createURL(e.location),b=t.createURL(i),_=n;s&&e.errors?_=Lk(n,Object.keys(e.errors)[0],!0):x&&Rs(x[1])&&(_=Lk(n,x[0]));let M=x?x[1].statusCode:void 0,w=o&&M&&M>=400,A=_.filter((C,L)=>{let{route:P}=C;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return yP(P,e.loaderData,e.errors);if(One(e.loaderData,e.matches[L],C)||l.some(q=>q===C.route.id))return!0;let B=e.matches[L],H=C;return kk(C,ir({currentUrl:v,currentParams:B.params,nextUrl:b,nextParams:H.params},r,{actionResult:y,actionStatus:M,defaultShouldRevalidate:w?!1:a||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||a9(B,H)}))}),E=[];return f.forEach((C,L)=>{if(s||!n.some(z=>z.route.id===C.routeId)||u.has(L))return;let P=Ju(d,C.path,m);if(!P){E.push({key:L,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let B=e.fetchers.get(L),H=wg(P,C.path),q=!1;h.has(L)?q=!1:c.has(L)?(c.delete(L),q=!0):B&&B.state!=="idle"&&B.data===void 0?q=a:q=kk(H,ir({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:M,defaultShouldRevalidate:w?!1:a})),q&&E.push({key:L,routeId:C.routeId,path:C.path,matches:P,match:H,controller:new AbortController})}),[A,E]}function yP(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function One(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function a9(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function kk(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Fk(t,e,n,r,i){var s;let o;if(t){let c=r[t];un(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>l9(c,u))),l=v1(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function l9(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>l9(n,s))}):!1}async function Ine(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];un(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Qd(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!nne.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ir({},e(i),{lazy:void 0}))}async function Bne(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function Dne(t,e,n,r,i,s,o,a,l,c){let u=s.map(d=>d.route.lazy?Ine(d.route,l,a):void 0),f=s.map((d,m)=>{let x=u[m],y=i.some(b=>b.route.id===d.route.id);return ir({},d,{shouldLoad:y,resolve:async b=>(b&&r.method==="GET"&&(d.route.lazy||d.route.loader)&&(y=!0),y?Lne(e,r,d,x,b,c):Promise.resolve({type:Rn.data,result:void 0}))})}),h=await t({matches:f,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function Lne(t,e,n,r,i,s){let o,a,l=c=>{let u,f=new Promise((m,x)=>u=x);a=()=>u(),e.signal.addEventListener("abort",a);let h=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...m!==void 0?[m]:[]),d=(async()=>{try{return{type:"data",result:await(i?i(x=>h(x)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([d,f])};try{let c=n.route[t];if(r)if(c){let u,[f]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;o=f}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),f=u.pathname+u.search;throw as(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Rn.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),f=u.pathname+u.search;throw as(404,{pathname:f})}un(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Rn.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Nne(t){let{result:e,type:n}=t;if(u9(e)){let f;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(h){return{type:Rn.error,error:h}}return n===Rn.error?{type:Rn.error,error:new y1(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:Rn.data,data:f,statusCode:e.status,headers:e.headers}}if(n===Rn.error){if(Wk(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:Rn.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Rn.error,error:new y1(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Sv(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Rn.error,error:e,statusCode:Sv(e)?e.status:void 0}}if(zne(e)){var a,l;return{type:Rn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Wk(e)){var c,u;return{type:Rn.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Rn.data,data:e}}function kne(t,e,n,r,i,s){let o=t.headers.get("Location");if(un(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!MI.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=vP(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Uk(t,e,n){if(MI.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Gy(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ah(t,e,n,r){let i=t.createURL(c9(e)).toString(),s={signal:n};if(r&&Go(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=xP(r.formData):s.body=r.formData}return new Request(i,s)}function xP(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function jk(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Fne(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&Rs(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,d=e[h];if(un(!nf(d),"Cannot handle redirect results in processLoaderData"),Rs(d)){let m=d.error;u!==void 0&&(m=u,u=void 0),o=o||{};{let x=qu(t,h);o[x.route.id]==null&&(o[x.route.id]=m)}s[h]=void 0,l||(l=!0,a=Sv(d.error)?d.error.status:500),d.headers&&(c[h]=d.headers)}else _c(d)?(r.set(h,d.deferredData),s[h]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[h]=d.headers)):(s[h]=d.data,d.statusCode&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[h]=d.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function zk(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=Fne(e,n,r,o);return i.forEach(c=>{let{key:u,match:f,controller:h}=c,d=s[u];if(un(d,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Rs(d)){let m=qu(t.matches,f==null?void 0:f.route.id);l&&l[m.route.id]||(l=ir({},l,{[m.route.id]:d.error})),t.fetchers.delete(u)}else if(nf(d))un(!1,"Unhandled fetcher revalidation redirect");else if(_c(d))un(!1,"Unhandled fetcher deferred data");else{let m=lc(d.data);t.fetchers.set(u,m)}}),{loaderData:a,errors:l}}function Hk(t,e,n,r){let i=ir({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Gk(t){return t?Rs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qu(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Vk(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function as(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new y1(t||500,a,new Error(l),!0)}function Nx(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(nf(i))return{key:r,result:i}}}function c9(t){let e=typeof t=="string"?nu(t):t;return Hy(ir({},e,{hash:""}))}function Une(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jne(t){return u9(t.result)&&Mne.has(t.result.status)}function _c(t){return t.type===Rn.deferred}function Rs(t){return t.type===Rn.error}function nf(t){return(t&&t.type)===Rn.redirect}function Wk(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function zne(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function u9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Hne(t){return Ane.has(t.toLowerCase())}function Go(t){return wne.has(t.toLowerCase())}async function Gne(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),f=u!=null&&!a9(u,c)&&(i&&i[c.route.id])!==void 0;_c(l)&&f&&await EI(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function Vne(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&_c(a)&&(un(o,"Expected an AbortController for revalidating fetcher deferred result"),await EI(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function EI(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rn.error,error:i}}return{type:Rn.data,data:t.deferredData.data}}}function TI(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wg(t,e){let n=typeof e=="string"?nu(e).search:e.search;if(t[t.length-1].route.index&&TI(n||""))return t[t.length-1];let r=i9(t);return r[r.length-1]}function $k(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function AE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wne(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Nm(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $ne(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function lc(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Xne(t,e){try{let n=t.sessionStorage.getItem(o9);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Kne(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(o9,JSON.stringify(n))}catch(r){Qd(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x1.apply(this,arguments)}const oS=U.createContext(null),f9=U.createContext(null),Vy=U.createContext(null),CI=U.createContext(null),ru=U.createContext({outlet:null,matches:[],isDataRoute:!1}),h9=U.createContext(null);function Wy(){return U.useContext(CI)!=null}function aS(){return Wy()||un(!1),U.useContext(CI).location}function d9(t){U.useContext(Vy).static||U.useLayoutEffect(t)}function $y(){let{isDataRoute:t}=U.useContext(ru);return t?lre():Yne()}function Yne(){Wy()||un(!1);let t=U.useContext(oS),{basename:e,future:n,navigator:r}=U.useContext(Vy),{matches:i}=U.useContext(ru),{pathname:s}=aS(),o=JSON.stringify(SI(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return d9(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=AI(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Dc([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,t])}const Jne=U.createContext(null);function qne(t){let e=U.useContext(ru).outlet;return e&&U.createElement(Jne.Provider,{value:t},e)}function Zne(t,e,n,r){Wy()||un(!1);let{navigator:i,static:s}=U.useContext(Vy),{matches:o}=U.useContext(ru),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=aS(),f;f=u;let h=f.pathname||"/",d=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!s&&n&&n.matches&&n.matches.length>0?n.matches:Ju(t,{pathname:d});return rre(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Dc([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Dc([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r)}function Qne(){let t=are(),e=Sv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const ere=U.createElement(Qne,null);class tre extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(ru.Provider,{value:this.props.routeContext},U.createElement(h9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nre(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(oS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(ru.Provider,{value:e},r)}function rre(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||un(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let d,m=!1,x=null,y=null;n&&(d=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||ere,l&&(c<0&&h===0?(cre("route-fallback"),m=!0,y=null):c===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),b=()=>{let _;return d?_=x:m?_=y:f.route.Component?_=U.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,U.createElement(nre,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(tre,{location:n.location,revalidation:n.revalidation,component:x,error:d,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var p9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p9||{}),m9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(m9||{});function ire(t){let e=U.useContext(oS);return e||un(!1),e}function sre(t){let e=U.useContext(f9);return e||un(!1),e}function ore(t){let e=U.useContext(ru);return e||un(!1),e}function g9(t){let e=ore(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function are(){var t;let e=U.useContext(h9),n=sre(m9.UseRouteError),r=g9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lre(){let{router:t}=ire(p9.UseNavigateStable),e=g9(),n=U.useRef(!1);return d9(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,x1({fromRouteId:e},s)))},[t,e])}const Xk={};function cre(t,e,n){Xk[t]||(Xk[t]=!0)}function ure(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function fre(t){let{to:e,replace:n,state:r,relative:i}=t;Wy()||un(!1);let{future:s,static:o}=U.useContext(Vy),{matches:a}=U.useContext(ru),{pathname:l}=aS(),c=$y(),u=AI(e,SI(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Kk(t){return qne(t.context)}function hre(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kr.Pop,navigator:s,static:o=!1,future:a}=t;Wy()&&un(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:x1({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=nu(r));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:m="default"}=r,x=U.useMemo(()=>{let y=Gy(u,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:d,key:m},navigationType:i}},[l,u,f,h,d,m,i]);return x==null?null:U.createElement(Vy.Provider,{value:c},U.createElement(CI.Provider,{children:n,value:x}))}new Promise(()=>{});function dre(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b1.apply(this,arguments)}function bP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function pre(t,e){let n=bP(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const mre="6";try{window.__reactRouterVersion=mre}catch{}function gre(t,e){return Pne({basename:void 0,future:b1({},void 0,{v7_prependBasename:!0}),history:Qte({window:void 0}),hydrationData:vre(),routes:t,mapRouteProperties:dre,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function vre(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=b1({},e,{errors:yre(e.errors)})),e}function yre(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new y1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const xre=U.createContext({isTransitioning:!1}),bre=U.createContext(new Map),_re="startTransition",Yk=jQ[_re],wre="flushSync",Jk=Zte[wre];function Sre(t){Yk?Yk(t):t()}function km(t){Jk?Jk(t):t()}class Are{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Mre(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=U.useState(n.state),[o,a]=U.useState(),[l,c]=U.useState({isTransitioning:!1}),[u,f]=U.useState(),[h,d]=U.useState(),[m,x]=U.useState(),y=U.useRef(new Map),{v7_startTransition:v}=r||{},b=U.useCallback(C=>{v?Sre(C):C()},[v]),_=U.useCallback((C,L)=>{let{deletedFetchers:P,flushSync:B,viewTransitionOpts:H}=L;C.fetchers.forEach((z,K)=>{z.data!==void 0&&y.current.set(K,z.data)}),P.forEach(z=>y.current.delete(z));let q=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!H||q){B?km(()=>s(C)):b(()=>s(C));return}if(B){km(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let z=n.window.document.startViewTransition(()=>{km(()=>s(C))});z.finished.finally(()=>{km(()=>{f(void 0),d(void 0),a(void 0),c({isTransitioning:!1})})}),km(()=>d(z));return}h?(u&&u.resolve(),h.skipTransition(),x({state:C,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(a(C),c({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,h,u,y,b]);U.useLayoutEffect(()=>n.subscribe(_),[n,_]),U.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new Are)},[l]),U.useEffect(()=>{if(u&&o&&n.window){let C=o,L=u.promise,P=n.window.document.startViewTransition(async()=>{b(()=>s(C)),await L});P.finished.finally(()=>{f(void 0),d(void 0),a(void 0),c({isTransitioning:!1})}),d(P)}},[b,o,u,n.window]),U.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),U.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),x(void 0))},[l.isTransitioning,m]),U.useEffect(()=>{},[]);let M=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,L,P)=>n.navigate(C,{state:L,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(C,L,P)=>n.navigate(C,{replace:!0,state:L,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),w=n.basename||"/",A=U.useMemo(()=>({router:n,navigator:M,static:!1,basename:w}),[n,M,w]),E=U.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return U.useEffect(()=>ure(r,n.future),[r,n.future]),U.createElement(U.Fragment,null,U.createElement(oS.Provider,{value:A},U.createElement(f9.Provider,{value:i},U.createElement(bre.Provider,{value:y.current},U.createElement(xre.Provider,{value:l},U.createElement(hre,{basename:w,location:i.location,navigationType:i.historyAction,navigator:M,future:E},i.initialized||n.future.v7_partialHydration?U.createElement(Ere,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Ere=U.memo(Tre);function Tre(t){let{routes:e,future:n,state:r}=t;return Zne(e,void 0,r,n)}var qk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qk||(qk={}));var Zk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zk||(Zk={}));function Cre(t){let e=U.useRef(bP(t)),n=U.useRef(!1),r=aS(),i=U.useMemo(()=>pre(r.search,n.current?null:e.current),[r.search]),s=$y(),o=U.useCallback((a,l)=>{const c=bP(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Fp="161",ju={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},zu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},v9=0,_P=1,y9=2,Pre=3,x9=0,lS=1,Fg=2,jo=3,ja=0,Qi=1,uo=2,Oa=0,Sf=1,wP=2,SP=3,AP=4,b9=5,gc=100,_9=101,w9=102,MP=103,EP=104,S9=200,A9=201,M9=202,E9=203,_1=204,w1=205,T9=206,C9=207,P9=208,R9=209,O9=210,I9=211,B9=212,D9=213,L9=214,N9=0,k9=1,F9=2,Av=3,U9=4,j9=5,z9=6,H9=7,Xy=0,G9=1,V9=2,Ia=0,W9=1,$9=2,X9=3,PI=4,K9=5,Y9=6,TP="attached",J9="detached",Wc=300,za=301,$c=302,ep=303,Mv=304,Up=306,Xc=1e3,Zn=1001,tp=1002,sr=1003,Ev=1004,Rre=1004,vc=1005,Ore=1005,hn=1006,Nd=1007,Ire=1007,po=1008,CP=1008,ks=1009,RI=1010,OI=1011,cS=1012,uS=1013,Ea=1014,Pr=1015,Xr=1016,II=1017,BI=1018,Lc=1020,q9=1021,jr=1023,Z9=1024,Q9=1025,Nc=1026,Uf=1027,DI=1028,LI=1029,eW=1030,NI=1031,kI=1033,C_=33776,P_=33777,R_=33778,O_=33779,PP=35840,RP=35841,OP=35842,IP=35843,FI=36196,BP=37492,DP=37496,LP=37808,NP=37809,kP=37810,FP=37811,UP=37812,jP=37813,zP=37814,HP=37815,GP=37816,VP=37817,WP=37818,$P=37819,XP=37820,KP=37821,I_=36492,YP=36494,JP=36495,tW=36283,qP=36284,ZP=36285,QP=36286,nW=2200,rW=2201,iW=2202,np=2300,jf=2301,B_=2302,rf=2400,sf=2401,Tv=2402,fS=2500,UI=2501,sW=0,jI=1,S1=2,zI=3e3,kc=3001,oW=3200,aW=3201,iu=0,lW=1,Os="",Fr="srgb",js="srgb-linear",hS="display-p3",Ky="display-p3-linear",Cv="linear",zn="srgb",Pv="rec709",Rv="p3",Bre=0,Hu=7680,Dre=7681,Lre=7682,Nre=7683,kre=34055,Fre=34056,Ure=5386,jre=512,zre=513,Hre=514,Gre=515,Vre=516,Wre=517,$re=518,e2=519,cW=512,uW=513,fW=514,HI=515,hW=516,dW=517,pW=518,mW=519,Ov=35044,Xre=35048,Kre=35040,Yre=35045,Jre=35049,qre=35041,Zre=35046,Qre=35050,eie=35042,tie="100",t2="300 es",A1=1035,Ta=2e3,Iv=2001;let kl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Ti=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Qk=1234567;const Af=Math.PI/180,rp=180/Math.PI;function Fs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ti[t&255]+Ti[t>>8&255]+Ti[t>>16&255]+Ti[t>>24&255]+"-"+Ti[e&255]+Ti[e>>8&255]+"-"+Ti[e>>16&15|64]+Ti[e>>24&255]+"-"+Ti[n&63|128]+Ti[n>>8&255]+"-"+Ti[n>>16&255]+Ti[n>>24&255]+Ti[r&255]+Ti[r>>8&255]+Ti[r>>16&255]+Ti[r>>24&255]).toLowerCase()}function wr(t,e,n){return Math.max(e,Math.min(n,t))}function GI(t,e){return(t%e+e)%e}function nie(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function rie(t,e,n){return t!==e?(n-t)/(e-t):0}function Ug(t,e,n){return(1-n)*t+n*e}function iie(t,e,n,r){return Ug(t,e,1-Math.exp(-n*r))}function sie(t,e=1){return e-Math.abs(GI(t,e*2)-e)}function oie(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function aie(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function lie(t,e){return t+Math.floor(Math.random()*(e-t+1))}function cie(t,e){return t+Math.random()*(e-t)}function uie(t){return t*(.5-Math.random())}function fie(t){t!==void 0&&(Qk=t);let e=Qk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function hie(t){return t*Af}function die(t){return t*rp}function n2(t){return(t&t-1)===0&&t!==0}function pie(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function M1(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function mie(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),d=s((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*f,l*h,a*c);break;case"YZY":t.set(l*h,a*u,l*f,a*c);break;case"ZXZ":t.set(l*f,l*h,a*u,a*c);break;case"XZX":t.set(a*u,l*m,l*d,a*c);break;case"YXY":t.set(l*d,a*u,l*m,a*c);break;case"ZYZ":t.set(l*m,l*d,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Yi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Yt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const kd={DEG2RAD:Af,RAD2DEG:rp,generateUUID:Fs,clamp:wr,euclideanModulo:GI,mapLinear:nie,inverseLerp:rie,lerp:Ug,damp:iie,pingpong:sie,smoothstep:oie,smootherstep:aie,randInt:lie,randFloat:cie,randFloatSpread:uie,seededRandom:fie,degToRad:hie,radToDeg:die,isPowerOfTwo:n2,ceilPowerOfTwo:pie,floorPowerOfTwo:M1,setQuaternionFromProperEuler:mie,normalize:Yt,denormalize:Yi};class ze{constructor(e=0,n=0){ze.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(wr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tn{constructor(e,n,r,i,s,o,a,l,c){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],h=r[2],d=r[5],m=r[8],x=i[0],y=i[3],v=i[6],b=i[1],_=i[4],M=i[7],w=i[2],A=i[5],E=i[8];return s[0]=o*x+a*b+l*w,s[3]=o*y+a*_+l*A,s[6]=o*v+a*M+l*E,s[1]=c*x+u*b+f*w,s[4]=c*y+u*_+f*A,s[7]=c*v+u*M+f*E,s[2]=h*x+d*b+m*w,s[5]=h*y+d*_+m*A,s[8]=h*v+d*M+m*E,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,h=a*l-u*s,d=c*s-o*l,m=n*f+r*h+i*d;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/m;return e[0]=f*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*o)*x,e[3]=h*x,e[4]=(u*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=d*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(ME.makeScale(e,n)),this}rotate(e){return this.premultiply(ME.makeRotation(-e)),this}translate(e,n){return this.premultiply(ME.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ME=new tn;function gW(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const gie={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function md(t,e){return new gie[t](e)}function Bv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function vW(){const t=Bv("canvas");return t.style.display="block",t}const eF={};function Mf(t){t in eF||(eF[t]=!0,console.warn(t))}const tF=new tn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),nF=new tn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),kx={[js]:{transfer:Cv,primaries:Pv,toReference:t=>t,fromReference:t=>t},[Fr]:{transfer:zn,primaries:Pv,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Ky]:{transfer:Cv,primaries:Rv,toReference:t=>t.applyMatrix3(nF),fromReference:t=>t.applyMatrix3(tF)},[hS]:{transfer:zn,primaries:Rv,toReference:t=>t.convertSRGBToLinear().applyMatrix3(nF),fromReference:t=>t.applyMatrix3(tF).convertLinearToSRGB()}},vie=new Set([js,Ky]),On={enabled:!0,_workingColorSpace:js,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!vie.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=kx[e].toReference,i=kx[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return kx[t].primaries},getTransfer:function(t){return t===Os?Cv:kx[t].transfer}};function Fd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function EE(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Mh;class VI{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Mh===void 0&&(Mh=Bv("canvas")),Mh.width=e.width,Mh.height=e.height;const r=Mh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Mh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Bv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Fd(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Fd(n[r]/255)*255):n[r]=Fd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let yie=0;class of{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:yie++}),this.uuid=Fs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(TE(i[o].image)):s.push(TE(i[o]))}else s=TE(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function TE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?VI.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let xie=0;class Pn extends kl{constructor(e=Pn.DEFAULT_IMAGE,n=Pn.DEFAULT_MAPPING,r=Zn,i=Zn,s=hn,o=po,a=jr,l=ks,c=Pn.DEFAULT_ANISOTROPY,u=Os){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xie++}),this.uuid=Fs(),this.name="",this.source=new of(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Mf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===kc?Fr:Os),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Wc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xc:e.x=e.x-Math.floor(e.x);break;case Zn:e.x=e.x<0?0:1;break;case tp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Xc:e.y=e.y-Math.floor(e.y);break;case Zn:e.y=e.y<0?0:1;break;case tp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Mf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Fr?kc:zI}set encoding(e){Mf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===kc?Fr:Os}}Pn.DEFAULT_IMAGE=null;Pn.DEFAULT_MAPPING=Wc;Pn.DEFAULT_ANISOTROPY=1;class Bn{constructor(e=0,n=0,r=0,i=1){Bn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],m=l[9],x=l[2],y=l[6],v=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-x)<.01&&Math.abs(m-y)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+x)<.1&&Math.abs(m+y)<.1&&Math.abs(c+d+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,M=(d+1)/2,w=(v+1)/2,A=(u+h)/4,E=(f+x)/4,C=(m+y)/4;return _>M&&_>w?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=A/r,s=E/r):M>w?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=A/i,s=C/i):w<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(w),r=E/s,i=C/s),this.set(r,i,s,n),this}let b=Math.sqrt((y-m)*(y-m)+(f-x)*(f-x)+(h-u)*(h-u));return Math.abs(b)<.001&&(b=1),this.x=(y-m)/b,this.y=(f-x)/b,this.z=(h-u)/b,this.w=Math.acos((c+d+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class yW extends kl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Bn(0,0,e,n),this.scissorTest=!1,this.viewport=new Bn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Mf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===kc?Fr:Os),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Pn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new of(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yi extends yW{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class dS extends Pn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=sr,this.minFilter=sr,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bie extends yi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new dS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class WI extends Pn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=sr,this.minFilter=sr,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _ie extends yi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new WI(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class wie extends yi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ir{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const h=s[o+0],d=s[o+1],m=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(a===1){e[n+0]=h,e[n+1]=d,e[n+2]=m,e[n+3]=x;return}if(f!==x||l!==h||c!==d||u!==m){let y=1-a;const v=l*h+c*d+u*m+f*x,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const w=Math.sqrt(_),A=Math.atan2(w,v*b);y=Math.sin(y*A)/w,a=Math.sin(a*A)/w}const M=a*b;if(l=l*y+h*M,c=c*y+d*M,u=u*y+m*M,f=f*y+x*M,y===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=w,c*=w,u*=w,f*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],h=s[o+1],d=s[o+2],m=s[o+3];return e[n]=a*m+u*f+l*d-c*h,e[n+1]=l*m+u*h+c*f-a*d,e[n+2]=c*m+u*d+a*h-l*f,e[n+3]=u*m-a*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),h=l(r/2),d=l(i/2),m=l(s/2);switch(o){case"XYZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"YXZ":this._x=h*u*f+c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"ZXY":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f-h*d*m;break;case"ZYX":this._x=h*u*f-c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f+h*d*m;break;case"YZX":this._x=h*u*f+c*d*m,this._y=c*d*f+h*u*m,this._z=c*u*m-h*d*f,this._w=c*u*f-h*d*m;break;case"XZY":this._x=h*u*f-c*d*m,this._y=c*d*f-h*u*m,this._z=c*u*m+h*d*f,this._w=c*u*f+h*d*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=r+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(s-c)*d,this._z=(o-i)*d}else if(r>a&&r>f){const d=2*Math.sqrt(1+r-a-f);this._w=(u-l)/d,this._x=.25*d,this._y=(i+o)/d,this._z=(s+c)/d}else if(a>f){const d=2*Math.sqrt(1+a-r-f);this._w=(s-c)/d,this._x=(i+o)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-r-a);this._w=(o-i)/d,this._x=(s+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-n;return this._w=d*o+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,n=0,r=0){Z.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(rF.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(rF.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),f=2*(s*r-o*n);return this.x=n+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return CE.copy(this).projectOnVector(e),this.sub(CE)}reflect(e){return this.sub(CE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(wr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const CE=new Z,rF=new Ir;class Yr{constructor(e=new Z(1/0,1/0,1/0),n=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Io.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Io.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Io.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Io):Io.fromBufferAttribute(s,o),Io.applyMatrix4(e.matrixWorld),this.expandByPoint(Io);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Fx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Fx.copy(r.boundingBox)),Fx.applyMatrix4(e.matrixWorld),this.union(Fx)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Io),Io.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Fm),Ux.subVectors(this.max,Fm),Eh.subVectors(e.a,Fm),Th.subVectors(e.b,Fm),Ch.subVectors(e.c,Fm),ql.subVectors(Th,Eh),Zl.subVectors(Ch,Th),wu.subVectors(Eh,Ch);let n=[0,-ql.z,ql.y,0,-Zl.z,Zl.y,0,-wu.z,wu.y,ql.z,0,-ql.x,Zl.z,0,-Zl.x,wu.z,0,-wu.x,-ql.y,ql.x,0,-Zl.y,Zl.x,0,-wu.y,wu.x,0];return!PE(n,Eh,Th,Ch,Ux)||(n=[1,0,0,0,1,0,0,0,1],!PE(n,Eh,Th,Ch,Ux))?!1:(jx.crossVectors(ql,Zl),n=[jx.x,jx.y,jx.z],PE(n,Eh,Th,Ch,Ux))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Io).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Io).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ja[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ja[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ja[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ja[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ja[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ja[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ja[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ja[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ja),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ja=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],Io=new Z,Fx=new Yr,Eh=new Z,Th=new Z,Ch=new Z,ql=new Z,Zl=new Z,wu=new Z,Fm=new Z,Ux=new Z,jx=new Z,Su=new Z;function PE(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Su.fromArray(t,s);const a=i.x*Math.abs(Su.x)+i.y*Math.abs(Su.y)+i.z*Math.abs(Su.z),l=e.dot(Su),c=n.dot(Su),u=r.dot(Su);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Sie=new Yr,Um=new Z,RE=new Z;class ai{constructor(e=new Z,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Sie.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Um.subVectors(e,this.center);const n=Um.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Um,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(RE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Um.copy(e.center).add(RE)),this.expandByPoint(Um.copy(e.center).sub(RE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qa=new Z,OE=new Z,zx=new Z,Ql=new Z,IE=new Z,Hx=new Z,BE=new Z;class eh{constructor(e=new Z,n=new Z(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qa.copy(this.origin).addScaledVector(this.direction,n),qa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){OE.copy(e).add(n).multiplyScalar(.5),zx.copy(n).sub(e).normalize(),Ql.copy(this.origin).sub(OE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(zx),a=Ql.dot(this.direction),l=-Ql.dot(zx),c=Ql.lengthSq(),u=Math.abs(1-o*o);let f,h,d,m;if(u>0)if(f=o*l-a,h=o*a-l,m=s*u,f>=0)if(h>=-m)if(h<=m){const x=1/u;f*=x,h*=x,d=f*(f+o*h+2*a)+h*(o*f+h+2*l)+c}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;else h<=-m?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c):h<=m?(f=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+c):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+c);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(OE).addScaledVector(zx,h),d}intersectSphere(e,n){qa.subVectors(e.center,this.origin);const r=qa.dot(this.direction),i=qa.dot(qa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,qa)!==null}intersectTriangle(e,n,r,i,s){IE.subVectors(n,e),Hx.subVectors(r,e),BE.crossVectors(IE,Hx);let o=this.direction.dot(BE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ql.subVectors(this.origin,e);const l=a*this.direction.dot(Hx.crossVectors(Ql,Hx));if(l<0)return null;const c=a*this.direction.dot(IE.cross(Ql));if(c<0||l+c>o)return null;const u=-a*Ql.dot(BE);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ft{constructor(e,n,r,i,s,o,a,l,c,u,f,h,d,m,x,y){Ft.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,f,h,d,m,x,y)}set(e,n,r,i,s,o,a,l,c,u,f,h,d,m,x,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=f,v[14]=h,v[3]=d,v[7]=m,v[11]=x,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ft().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ph.setFromMatrixColumn(e,0).length(),s=1/Ph.setFromMatrixColumn(e,1).length(),o=1/Ph.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*u,d=o*f,m=a*u,x=a*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=d+m*c,n[5]=h-x*c,n[9]=-a*l,n[2]=x-h*c,n[6]=m+d*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,m=c*u,x=c*f;n[0]=h+x*a,n[4]=m*a-d,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-a,n[2]=d*a-m,n[6]=x+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,m=c*u,x=c*f;n[0]=h-x*a,n[4]=-o*f,n[8]=m+d*a,n[1]=d+m*a,n[5]=o*u,n[9]=x-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,d=o*f,m=a*u,x=a*f;n[0]=l*u,n[4]=m*c-d,n[8]=h*c+x,n[1]=l*f,n[5]=x*c+h,n[9]=d*c-m,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*c,m=a*l,x=a*c;n[0]=l*u,n[4]=x-h*f,n[8]=m*f+d,n[1]=f,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=d*f+m,n[10]=h-x*f}else if(e.order==="XZY"){const h=o*l,d=o*c,m=a*l,x=a*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+x,n[5]=o*u,n[9]=d*f-m,n[2]=m*f-d,n[6]=a*u,n[10]=x*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Aie,e,Mie)}lookAt(e,n,r){const i=this.elements;return As.subVectors(e,n),As.lengthSq()===0&&(As.z=1),As.normalize(),ec.crossVectors(r,As),ec.lengthSq()===0&&(Math.abs(r.z)===1?As.x+=1e-4:As.z+=1e-4,As.normalize(),ec.crossVectors(r,As)),ec.normalize(),Gx.crossVectors(As,ec),i[0]=ec.x,i[4]=Gx.x,i[8]=As.x,i[1]=ec.y,i[5]=Gx.y,i[9]=As.y,i[2]=ec.z,i[6]=Gx.z,i[10]=As.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],h=r[9],d=r[13],m=r[2],x=r[6],y=r[10],v=r[14],b=r[3],_=r[7],M=r[11],w=r[15],A=i[0],E=i[4],C=i[8],L=i[12],P=i[1],B=i[5],H=i[9],q=i[13],z=i[2],K=i[6],Y=i[10],ie=i[14],G=i[3],J=i[7],te=i[11],re=i[15];return s[0]=o*A+a*P+l*z+c*G,s[4]=o*E+a*B+l*K+c*J,s[8]=o*C+a*H+l*Y+c*te,s[12]=o*L+a*q+l*ie+c*re,s[1]=u*A+f*P+h*z+d*G,s[5]=u*E+f*B+h*K+d*J,s[9]=u*C+f*H+h*Y+d*te,s[13]=u*L+f*q+h*ie+d*re,s[2]=m*A+x*P+y*z+v*G,s[6]=m*E+x*B+y*K+v*J,s[10]=m*C+x*H+y*Y+v*te,s[14]=m*L+x*q+y*ie+v*re,s[3]=b*A+_*P+M*z+w*G,s[7]=b*E+_*B+M*K+w*J,s[11]=b*C+_*H+M*Y+w*te,s[15]=b*L+_*q+M*ie+w*re,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],m=e[3],x=e[7],y=e[11],v=e[15];return m*(+s*l*f-i*c*f-s*a*h+r*c*h+i*a*d-r*l*d)+x*(+n*l*d-n*c*h+s*o*h-i*o*d+i*c*u-s*l*u)+y*(+n*c*f-n*a*d-s*o*f+r*o*d+s*a*u-r*c*u)+v*(-i*a*u-n*l*f+n*a*h+i*o*f-r*o*h+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],m=e[12],x=e[13],y=e[14],v=e[15],b=f*y*c-x*h*c+x*l*d-a*y*d-f*l*v+a*h*v,_=m*h*c-u*y*c-m*l*d+o*y*d+u*l*v-o*h*v,M=u*x*c-m*f*c+m*a*d-o*x*d-u*a*v+o*f*v,w=m*f*l-u*x*l-m*a*h+o*x*h+u*a*y-o*f*y,A=n*b+r*_+i*M+s*w;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/A;return e[0]=b*E,e[1]=(x*h*s-f*y*s-x*i*d+r*y*d+f*i*v-r*h*v)*E,e[2]=(a*y*s-x*l*s+x*i*c-r*y*c-a*i*v+r*l*v)*E,e[3]=(f*l*s-a*h*s-f*i*c+r*h*c+a*i*d-r*l*d)*E,e[4]=_*E,e[5]=(u*y*s-m*h*s+m*i*d-n*y*d-u*i*v+n*h*v)*E,e[6]=(m*l*s-o*y*s-m*i*c+n*y*c+o*i*v-n*l*v)*E,e[7]=(o*h*s-u*l*s+u*i*c-n*h*c-o*i*d+n*l*d)*E,e[8]=M*E,e[9]=(m*f*s-u*x*s-m*r*d+n*x*d+u*r*v-n*f*v)*E,e[10]=(o*x*s-m*a*s+m*r*c-n*x*c-o*r*v+n*a*v)*E,e[11]=(u*a*s-o*f*s-u*r*c+n*f*c+o*r*d-n*a*d)*E,e[12]=w*E,e[13]=(u*x*i-m*f*i+m*r*h-n*x*h-u*r*y+n*f*y)*E,e[14]=(m*a*i-o*x*i-m*r*l+n*x*l+o*r*y-n*a*y)*E,e[15]=(o*f*i-u*a*i+u*r*l-n*f*l-o*r*h+n*a*h)*E,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,f=a+a,h=s*c,d=s*u,m=s*f,x=o*u,y=o*f,v=a*f,b=l*c,_=l*u,M=l*f,w=r.x,A=r.y,E=r.z;return i[0]=(1-(x+v))*w,i[1]=(d+M)*w,i[2]=(m-_)*w,i[3]=0,i[4]=(d-M)*A,i[5]=(1-(h+v))*A,i[6]=(y+b)*A,i[7]=0,i[8]=(m+_)*E,i[9]=(y-b)*E,i[10]=(1-(h+x))*E,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Ph.set(i[0],i[1],i[2]).length();const o=Ph.set(i[4],i[5],i[6]).length(),a=Ph.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Bo.copy(this);const c=1/s,u=1/o,f=1/a;return Bo.elements[0]*=c,Bo.elements[1]*=c,Bo.elements[2]*=c,Bo.elements[4]*=u,Bo.elements[5]*=u,Bo.elements[6]*=u,Bo.elements[8]*=f,Bo.elements[9]*=f,Bo.elements[10]*=f,n.setFromRotationMatrix(Bo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ta){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let d,m;if(a===Ta)d=-(o+s)/(o-s),m=-2*o*s/(o-s);else if(a===Iv)d=-o/(o-s),m=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ta){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(o-s),h=(n+e)*c,d=(r+i)*u;let m,x;if(a===Ta)m=(o+s)*f,x=-2*f;else if(a===Iv)m=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=x,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ph=new Z,Bo=new Ft,Aie=new Z(0,0,0),Mie=new Z(1,1,1),ec=new Z,Gx=new Z,As=new Z,iF=new Ft,sF=new Ir;class Yy{constructor(e=0,n=0,r=0,i=Yy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],h=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(wr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-wr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(wr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-wr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(wr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-wr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return iF.makeRotationFromQuaternion(e),this.setFromRotationMatrix(iF,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return sF.setFromEuler(this),this.setFromQuaternion(sF,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Yy.DEFAULT_ORDER="XYZ";class Ef{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Eie=0;const oF=new Z,Rh=new Ir,Za=new Ft,Vx=new Z,jm=new Z,Tie=new Z,Cie=new Ir,aF=new Z(1,0,0),lF=new Z(0,1,0),cF=new Z(0,0,1),Pie={type:"added"},Rie={type:"removed"};class yn extends kl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Eie++}),this.uuid=Fs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=yn.DEFAULT_UP.clone();const e=new Z,n=new Yy,r=new Ir,i=new Z(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ft},normalMatrix:{value:new tn}}),this.matrix=new Ft,this.matrixWorld=new Ft,this.matrixAutoUpdate=yn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=yn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ef,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Rh.setFromAxisAngle(e,n),this.quaternion.multiply(Rh),this}rotateOnWorldAxis(e,n){return Rh.setFromAxisAngle(e,n),this.quaternion.premultiply(Rh),this}rotateX(e){return this.rotateOnAxis(aF,e)}rotateY(e){return this.rotateOnAxis(lF,e)}rotateZ(e){return this.rotateOnAxis(cF,e)}translateOnAxis(e,n){return oF.copy(e).applyQuaternion(this.quaternion),this.position.add(oF.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(aF,e)}translateY(e){return this.translateOnAxis(lF,e)}translateZ(e){return this.translateOnAxis(cF,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Za.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Vx.copy(e):Vx.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),jm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Za.lookAt(jm,Vx,this.up):Za.lookAt(Vx,jm,this.up),this.quaternion.setFromRotationMatrix(Za),i&&(Za.extractRotation(i.matrixWorld),Rh.setFromRotationMatrix(Za),this.quaternion.premultiply(Rh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Pie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Rie)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Za.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Za.multiply(e.parent.matrixWorld)),e.applyMatrix4(Za),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jm,e,Tie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jm,Cie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),m=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}yn.DEFAULT_UP=new Z(0,1,0);yn.DEFAULT_MATRIX_AUTO_UPDATE=!0;yn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Do=new Z,Qa=new Z,DE=new Z,el=new Z,Oh=new Z,Ih=new Z,uF=new Z,LE=new Z,NE=new Z,kE=new Z;class Is{constructor(e=new Z,n=new Z,r=new Z){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Do.subVectors(e,n),i.cross(Do);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Do.subVectors(i,n),Qa.subVectors(r,n),DE.subVectors(e,n);const o=Do.dot(Do),a=Do.dot(Qa),l=Do.dot(DE),c=Qa.dot(Qa),u=Qa.dot(DE),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const h=1/f,d=(c*l-a*u)*h,m=(o*u-a*l)*h;return s.set(1-d-m,m,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,el)===null?!1:el.x>=0&&el.y>=0&&el.x+el.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,el)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,el.x),l.addScaledVector(o,el.y),l.addScaledVector(a,el.z),l)}static isFrontFacing(e,n,r,i){return Do.subVectors(r,n),Qa.subVectors(e,n),Do.cross(Qa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Do.subVectors(this.c,this.b),Qa.subVectors(this.a,this.b),Do.cross(Qa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Is.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Is.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Oh.subVectors(i,r),Ih.subVectors(s,r),LE.subVectors(e,r);const l=Oh.dot(LE),c=Ih.dot(LE);if(l<=0&&c<=0)return n.copy(r);NE.subVectors(e,i);const u=Oh.dot(NE),f=Ih.dot(NE);if(u>=0&&f<=u)return n.copy(i);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(Oh,o);kE.subVectors(e,s);const d=Oh.dot(kE),m=Ih.dot(kE);if(m>=0&&d<=m)return n.copy(s);const x=d*c-l*m;if(x<=0&&c>=0&&m<=0)return a=c/(c-m),n.copy(r).addScaledVector(Ih,a);const y=u*m-d*f;if(y<=0&&f-u>=0&&d-m>=0)return uF.subVectors(s,i),a=(f-u)/(f-u+(d-m)),n.copy(i).addScaledVector(uF,a);const v=1/(y+x+h);return o=x*v,a=h*v,n.copy(r).addScaledVector(Oh,o).addScaledVector(Ih,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const xW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tc={h:0,s:0,l:0},Wx={h:0,s:0,l:0};function FE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let gt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Fr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,On.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=On.workingColorSpace){return this.r=e,this.g=n,this.b=r,On.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=On.workingColorSpace){if(e=GI(e,1),n=wr(n,0,1),r=wr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=FE(o,s,e+1/3),this.g=FE(o,s,e),this.b=FE(o,s,e-1/3)}return On.toWorkingColorSpace(this,i),this}setStyle(e,n=Fr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Fr){const r=xW[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Fd(e.r),this.g=Fd(e.g),this.b=Fd(e.b),this}copyLinearToSRGB(e){return this.r=EE(e.r),this.g=EE(e.g),this.b=EE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fr){return On.fromWorkingColorSpace(Ci.copy(this),e),Math.round(wr(Ci.r*255,0,255))*65536+Math.round(wr(Ci.g*255,0,255))*256+Math.round(wr(Ci.b*255,0,255))}getHexString(e=Fr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=On.workingColorSpace){On.fromWorkingColorSpace(Ci.copy(this),n);const r=Ci.r,i=Ci.g,s=Ci.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=On.workingColorSpace){return On.fromWorkingColorSpace(Ci.copy(this),n),e.r=Ci.r,e.g=Ci.g,e.b=Ci.b,e}getStyle(e=Fr){On.fromWorkingColorSpace(Ci.copy(this),e);const n=Ci.r,r=Ci.g,i=Ci.b;return e!==Fr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(tc),this.setHSL(tc.h+e,tc.s+n,tc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(tc),e.getHSL(Wx);const r=Ug(tc.h,Wx.h,n),i=Ug(tc.s,Wx.s,n),s=Ug(tc.l,Wx.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ci=new gt;gt.NAMES=xW;let Oie=0;class Jr extends kl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Oie++}),this.uuid=Fs(),this.name="",this.type="Material",this.blending=Sf,this.side=ja,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=_1,this.blendDst=w1,this.blendEquation=gc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gt(0,0,0),this.blendAlpha=0,this.depthFunc=Av,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=e2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hu,this.stencilZFail=Hu,this.stencilZPass=Hu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Sf&&(r.blending=this.blending),this.side!==ja&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==_1&&(r.blendSrc=this.blendSrc),this.blendDst!==w1&&(r.blendDst=this.blendDst),this.blendEquation!==gc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Av&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==e2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Hu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Hu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class fs extends Jr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fl=Iie();function Iie(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function os(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=wr(t,-65504,65504),fl.floatView[0]=t;const e=fl.uint32View[0],n=e>>23&511;return fl.baseTable[n]+((e&8388607)>>fl.shiftTable[n])}function Sg(t){const e=t>>10;return fl.uint32View[0]=fl.mantissaTable[fl.offsetTable[e]+(t&1023)]+fl.exponentTable[e],fl.floatView[0]}const af={toHalfFloat:os,fromHalfFloat:Sg},Lr=new Z,$x=new ze;class xn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Ov,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Pr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Mf("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)$x.fromBufferAttribute(this,n),$x.applyMatrix3(e),this.setXY(n,$x.x,$x.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyMatrix3(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyMatrix4(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyNormalMatrix(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.transformDirection(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Yi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Yt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Yi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Yi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Yi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Yi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array),i=Yt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array),i=Yt(i,this.array),s=Yt(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ov&&(e.usage=this.usage),e}}class Bie extends xn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Die extends xn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Lie extends xn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Nie extends xn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class $I extends xn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class kie extends xn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class XI extends xn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Fie extends xn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Sg(this.array[e*this.itemSize]);return this.normalized&&(n=Yi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize]=os(n),this}getY(e){let n=Sg(this.array[e*this.itemSize+1]);return this.normalized&&(n=Yi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize+1]=os(n),this}getZ(e){let n=Sg(this.array[e*this.itemSize+2]);return this.normalized&&(n=Yi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize+2]=os(n),this}getW(e){let n=Sg(this.array[e*this.itemSize+3]);return this.normalized&&(n=Yi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[e*this.itemSize+3]=os(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array)),this.array[e+0]=os(n),this.array[e+1]=os(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array),i=Yt(i,this.array)),this.array[e+0]=os(n),this.array[e+1]=os(r),this.array[e+2]=os(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array),i=Yt(i,this.array),s=Yt(s,this.array)),this.array[e+0]=os(n),this.array[e+1]=os(r),this.array[e+2]=os(i),this.array[e+3]=os(s),this}}class Bt extends xn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Uie extends xn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let jie=0;const Qs=new Ft,UE=new yn,Bh=new Z,Ms=new Yr,zm=new Yr,ri=new Z;class qt extends kl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jie++}),this.uuid=Fs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(gW(e)?XI:$I)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new tn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qs.makeRotationFromQuaternion(e),this.applyMatrix4(Qs),this}rotateX(e){return Qs.makeRotationX(e),this.applyMatrix4(Qs),this}rotateY(e){return Qs.makeRotationY(e),this.applyMatrix4(Qs),this}rotateZ(e){return Qs.makeRotationZ(e),this.applyMatrix4(Qs),this}translate(e,n,r){return Qs.makeTranslation(e,n,r),this.applyMatrix4(Qs),this}scale(e,n,r){return Qs.makeScale(e,n,r),this.applyMatrix4(Qs),this}lookAt(e){return UE.lookAt(e),UE.updateMatrix(),this.applyMatrix4(UE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bh).negate(),this.translate(Bh.x,Bh.y,Bh.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Bt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ms.setFromBufferAttribute(s),this.morphTargetsRelative?(ri.addVectors(this.boundingBox.min,Ms.min),this.boundingBox.expandByPoint(ri),ri.addVectors(this.boundingBox.max,Ms.max),this.boundingBox.expandByPoint(ri)):(this.boundingBox.expandByPoint(Ms.min),this.boundingBox.expandByPoint(Ms.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const r=this.boundingSphere.center;if(Ms.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];zm.setFromBufferAttribute(a),this.morphTargetsRelative?(ri.addVectors(Ms.min,zm.min),Ms.expandByPoint(ri),ri.addVectors(Ms.max,zm.max),Ms.expandByPoint(ri)):(Ms.expandByPoint(zm.min),Ms.expandByPoint(zm.max))}Ms.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ri.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ri));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ri.fromBufferAttribute(a,c),l&&(Bh.fromBufferAttribute(e,c),ri.add(Bh)),i=Math.max(i,r.distanceToSquared(ri))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new xn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new Z,u[P]=new Z;const f=new Z,h=new Z,d=new Z,m=new ze,x=new ze,y=new ze,v=new Z,b=new Z;function _(P,B,H){f.fromArray(i,P*3),h.fromArray(i,B*3),d.fromArray(i,H*3),m.fromArray(o,P*2),x.fromArray(o,B*2),y.fromArray(o,H*2),h.sub(f),d.sub(f),x.sub(m),y.sub(m);const q=1/(x.x*y.y-y.x*x.y);isFinite(q)&&(v.copy(h).multiplyScalar(y.y).addScaledVector(d,-x.y).multiplyScalar(q),b.copy(d).multiplyScalar(x.x).addScaledVector(h,-y.x).multiplyScalar(q),c[P].add(v),c[B].add(v),c[H].add(v),u[P].add(b),u[B].add(b),u[H].add(b))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let P=0,B=M.length;P<B;++P){const H=M[P],q=H.start,z=H.count;for(let K=q,Y=q+z;K<Y;K+=3)_(r[K+0],r[K+1],r[K+2])}const w=new Z,A=new Z,E=new Z,C=new Z;function L(P){E.fromArray(s,P*3),C.copy(E);const B=c[P];w.copy(B),w.sub(E.multiplyScalar(E.dot(B))).normalize(),A.crossVectors(C,B);const q=A.dot(u[P])<0?-1:1;l[P*4]=w.x,l[P*4+1]=w.y,l[P*4+2]=w.z,l[P*4+3]=q}for(let P=0,B=M.length;P<B;++P){const H=M[P],q=H.start,z=H.count;for(let K=q,Y=q+z;K<Y;K+=3)L(r[K+0]),L(r[K+1]),L(r[K+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new xn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new Z,s=new Z,o=new Z,a=new Z,l=new Z,c=new Z,u=new Z,f=new Z;if(e)for(let h=0,d=e.count;h<d;h+=3){const m=e.getX(h+0),x=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,m),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(m,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,d=n.count;h<d;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ri.fromBufferAttribute(e,n),ri.normalize(),e.setXYZ(n,ri.x,ri.y,ri.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,h=new c.constructor(l.length*u);let d=0,m=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?d=l[x]*a.data.stride+a.offset:d=l[x]*u;for(let v=0;v<u;v++)h[m++]=c[d++]}return new xn(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new qt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,r);l.push(d)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fF=new Ft,Au=new eh,Xx=new ai,hF=new Z,Dh=new Z,Lh=new Z,Nh=new Z,jE=new Z,Kx=new Z,Yx=new ze,Jx=new ze,qx=new ze,dF=new Z,pF=new Z,mF=new Z,Zx=new Z,Qx=new Z;class tr extends yn{constructor(e=new qt,n=new fs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Kx.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(jE.fromBufferAttribute(f,e),o?Kx.addScaledVector(jE,u):Kx.addScaledVector(jE.sub(n),u))}n.add(Kx)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Xx.copy(r.boundingSphere),Xx.applyMatrix4(s),Au.copy(e.ray).recast(e.near),!(Xx.containsPoint(Au.origin)===!1&&(Au.intersectSphere(Xx,hF)===null||Au.origin.distanceToSquared(hF)>(e.far-e.near)**2))&&(fF.copy(s).invert(),Au.copy(e.ray).applyMatrix4(fF),!(r.boundingBox!==null&&Au.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Au)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,h=s.groups,d=s.drawRange;if(a!==null)if(Array.isArray(o))for(let m=0,x=h.length;m<x;m++){const y=h[m],v=o[y.materialIndex],b=Math.max(y.start,d.start),_=Math.min(a.count,Math.min(y.start+y.count,d.start+d.count));for(let M=b,w=_;M<w;M+=3){const A=a.getX(M),E=a.getX(M+1),C=a.getX(M+2);i=eb(this,v,e,r,c,u,f,A,E,C),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,d.start),x=Math.min(a.count,d.start+d.count);for(let y=m,v=x;y<v;y+=3){const b=a.getX(y),_=a.getX(y+1),M=a.getX(y+2);i=eb(this,o,e,r,c,u,f,b,_,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,x=h.length;m<x;m++){const y=h[m],v=o[y.materialIndex],b=Math.max(y.start,d.start),_=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));for(let M=b,w=_;M<w;M+=3){const A=M,E=M+1,C=M+2;i=eb(this,v,e,r,c,u,f,A,E,C),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,d.start),x=Math.min(l.count,d.start+d.count);for(let y=m,v=x;y<v;y+=3){const b=y,_=y+1,M=y+2;i=eb(this,o,e,r,c,u,f,b,_,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function zie(t,e,n,r,i,s,o,a){let l;if(e.side===Qi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ja,a),l===null)return null;Qx.copy(a),Qx.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Qx);return c<n.near||c>n.far?null:{distance:c,point:Qx.clone(),object:t}}function eb(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,Dh),t.getVertexPosition(l,Lh),t.getVertexPosition(c,Nh);const u=zie(t,e,n,r,Dh,Lh,Nh,Zx);if(u){i&&(Yx.fromBufferAttribute(i,a),Jx.fromBufferAttribute(i,l),qx.fromBufferAttribute(i,c),u.uv=Is.getInterpolation(Zx,Dh,Lh,Nh,Yx,Jx,qx,new ze)),s&&(Yx.fromBufferAttribute(s,a),Jx.fromBufferAttribute(s,l),qx.fromBufferAttribute(s,c),u.uv1=Is.getInterpolation(Zx,Dh,Lh,Nh,Yx,Jx,qx,new ze),u.uv2=u.uv1),o&&(dF.fromBufferAttribute(o,a),pF.fromBufferAttribute(o,l),mF.fromBufferAttribute(o,c),u.normal=Is.getInterpolation(Zx,Dh,Lh,Nh,dF,pF,mF,new Z),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Z,materialIndex:0};Is.getNormal(Dh,Lh,Nh,f.normal),u.face=f}return u}class th extends qt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,d=0;m("z","y","x",-1,-1,r,n,e,o,s,0),m("z","y","x",1,-1,r,n,-e,o,s,1),m("x","z","y",1,1,e,r,n,i,o,2),m("x","z","y",1,-1,e,r,-n,i,o,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Bt(c,3)),this.setAttribute("normal",new Bt(u,3)),this.setAttribute("uv",new Bt(f,2));function m(x,y,v,b,_,M,w,A,E,C,L){const P=M/E,B=w/C,H=M/2,q=w/2,z=A/2,K=E+1,Y=C+1;let ie=0,G=0;const J=new Z;for(let te=0;te<Y;te++){const re=te*B-q;for(let fe=0;fe<K;fe++){const we=fe*P-H;J[x]=we*b,J[y]=re*_,J[v]=z,c.push(J.x,J.y,J.z),J[x]=0,J[y]=0,J[v]=A>0?1:-1,u.push(J.x,J.y,J.z),f.push(fe/E),f.push(1-te/C),ie+=1}}for(let te=0;te<C;te++)for(let re=0;re<E;re++){const fe=h+re+K*te,we=h+re+K*(te+1),pe=h+(re+1)+K*(te+1),Ae=h+(re+1)+K*te;l.push(fe,we,Ae),l.push(we,pe,Ae),G+=6}a.addGroup(d,G,L),d+=G,h+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new th(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ip(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Xi(t){const e={};for(let n=0;n<t.length;n++){const r=ip(t[n]);for(const i in r)e[i]=r[i]}return e}function Hie(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function bW(t){return t.getRenderTarget()===null?t.outputColorSpace:On.workingColorSpace}const KI={clone:ip,merge:Xi};var Gie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Vie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xi extends Jr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Gie,this.fragmentShader=Vie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ip(e.uniforms),this.uniformsGroups=Hie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Jy extends yn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ft,this.projectionMatrix=new Ft,this.projectionMatrixInverse=new Ft,this.coordinateSystem=Ta}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const nc=new Z,gF=new ze,vF=new ze;class Sr extends Jy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=rp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Af*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rp*2*Math.atan(Math.tan(Af*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){nc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(nc.x,nc.y).multiplyScalar(-e/nc.z),nc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(nc.x,nc.y).multiplyScalar(-e/nc.z)}getViewSize(e,n){return this.getViewBounds(e,gF,vF),n.subVectors(vF,gF)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Af*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const kh=-90,Fh=1;class _W extends yn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Sr(kh,Fh,e,n);i.layers=this.layers,this.add(i);const s=new Sr(kh,Fh,e,n);s.layers=this.layers,this.add(s);const o=new Sr(kh,Fh,e,n);o.layers=this.layers,this.add(o);const a=new Sr(kh,Fh,e,n);a.layers=this.layers,this.add(a);const l=new Sr(kh,Fh,e,n);l.layers=this.layers,this.add(l);const c=new Sr(kh,Fh,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Ta)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Iv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,h,d),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class qy extends Pn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:za,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class YI extends yi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Mf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===kc?Fr:Os),this.texture=new qy(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:hn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new th(5,5,5),s=new xi({name:"CubemapFromEquirect",uniforms:ip(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Qi,blending:Oa});s.uniforms.tEquirect.value=n;const o=new tr(i,s),a=n.minFilter;return n.minFilter===po&&(n.minFilter=hn),new _W(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const zE=new Z,Wie=new Z,$ie=new tn;class cl{constructor(e=new Z(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=zE.subVectors(r,n).cross(Wie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(zE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||$ie.getNormalMatrix(e),i=this.coplanarPoint(zE).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mu=new ai,tb=new Z;class Zy{constructor(e=new cl,n=new cl,r=new cl,i=new cl,s=new cl,o=new cl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ta){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],d=i[8],m=i[9],x=i[10],y=i[11],v=i[12],b=i[13],_=i[14],M=i[15];if(r[0].setComponents(l-s,h-c,y-d,M-v).normalize(),r[1].setComponents(l+s,h+c,y+d,M+v).normalize(),r[2].setComponents(l+o,h+u,y+m,M+b).normalize(),r[3].setComponents(l-o,h-u,y-m,M-b).normalize(),r[4].setComponents(l-a,h-f,y-x,M-_).normalize(),n===Ta)r[5].setComponents(l+a,h+f,y+x,M+_).normalize();else if(n===Iv)r[5].setComponents(a,f,x,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Mu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Mu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Mu)}intersectsSprite(e){return Mu.center.set(0,0,0),Mu.radius=.7071067811865476,Mu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(tb.x=i.normal.x>0?e.max.x:e.min.x,tb.y=i.normal.y>0?e.max.y:e.min.y,tb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(tb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wW(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Xie(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,h=c.usage,d=f.byteLength,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,f,h),c.onUploadCallback();let x;if(f instanceof Float32Array)x=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=t.SHORT;else if(f instanceof Uint32Array)x=t.UNSIGNED_INT;else if(f instanceof Int32Array)x=t.INT;else if(f instanceof Int8Array)x=t.BYTE;else if(f instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:d}}function s(c,u,f){const h=u.array,d=u._updateRange,m=u.updateRanges;if(t.bindBuffer(f,c),d.count===-1&&m.length===0&&t.bufferSubData(f,0,h),m.length!==0){for(let x=0,y=m.length;x<y;x++){const v=m[x];n?t.bufferSubData(f,v.start*h.BYTES_PER_ELEMENT,h,v.start,v.count):t.bufferSubData(f,v.start*h.BYTES_PER_ELEMENT,h.subarray(v.start,v.start+v.count))}u.clearUpdateRanges()}d.count!==-1&&(n?t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=r.get(c);(!h||h.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,u),f.version=c.version}}return{get:o,remove:a,update:l}}class Fl extends qt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,h=n/l,d=[],m=[],x=[],y=[];for(let v=0;v<u;v++){const b=v*h-o;for(let _=0;_<c;_++){const M=_*f-s;m.push(M,-b,0),x.push(0,0,1),y.push(_/a),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let b=0;b<a;b++){const _=b+c*v,M=b+c*(v+1),w=b+1+c*(v+1),A=b+1+c*v;d.push(_,M,A),d.push(M,w,A)}this.setIndex(d),this.setAttribute("position",new Bt(m,3)),this.setAttribute("normal",new Bt(x,3)),this.setAttribute("uv",new Bt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fl(e.width,e.height,e.widthSegments,e.heightSegments)}}var Kie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Yie=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Jie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,qie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zie=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Qie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ese=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nse=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,rse=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,ise=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,sse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ose=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ase=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,use=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,fse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hse=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,gse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,yse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xse=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_se=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,wse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Sse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ase="gl_FragColor = linearToOutputTexel( gl_FragColor );",Mse=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Ese=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Cse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Pse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Rse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ose=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ise=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Bse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Dse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Lse=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Nse=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,kse=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Fse=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Use=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jse=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,zse=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Hse=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Gse=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Vse=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Wse=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$se=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Xse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Kse=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Yse=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Jse=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qse=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Zse=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qse=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,eoe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,toe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,noe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,roe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ioe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,soe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ooe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aoe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,loe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,coe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,uoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,foe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,hoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,doe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,poe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,moe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,goe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,voe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,yoe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,xoe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,boe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_oe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,woe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Soe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Aoe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Moe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Eoe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Toe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Coe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Poe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Roe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ooe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ioe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Boe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Doe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Loe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Noe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,koe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Foe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Uoe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,joe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zoe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Hoe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Goe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Voe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Woe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$oe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Xoe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Koe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Yoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Joe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Zoe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qoe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,eae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,tae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,aae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,hae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,pae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,yae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,wae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Sae=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Eae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zt={alphahash_fragment:Kie,alphahash_pars_fragment:Yie,alphamap_fragment:Jie,alphamap_pars_fragment:qie,alphatest_fragment:Zie,alphatest_pars_fragment:Qie,aomap_fragment:ese,aomap_pars_fragment:tse,batching_pars_vertex:nse,batching_vertex:rse,begin_vertex:ise,beginnormal_vertex:sse,bsdfs:ose,iridescence_fragment:ase,bumpmap_pars_fragment:lse,clipping_planes_fragment:cse,clipping_planes_pars_fragment:use,clipping_planes_pars_vertex:fse,clipping_planes_vertex:hse,color_fragment:dse,color_pars_fragment:pse,color_pars_vertex:mse,color_vertex:gse,common:vse,cube_uv_reflection_fragment:yse,defaultnormal_vertex:xse,displacementmap_pars_vertex:bse,displacementmap_vertex:_se,emissivemap_fragment:wse,emissivemap_pars_fragment:Sse,colorspace_fragment:Ase,colorspace_pars_fragment:Mse,envmap_fragment:Ese,envmap_common_pars_fragment:Tse,envmap_pars_fragment:Cse,envmap_pars_vertex:Pse,envmap_physical_pars_fragment:zse,envmap_vertex:Rse,fog_vertex:Ose,fog_pars_vertex:Ise,fog_fragment:Bse,fog_pars_fragment:Dse,gradientmap_pars_fragment:Lse,lightmap_fragment:Nse,lightmap_pars_fragment:kse,lights_lambert_fragment:Fse,lights_lambert_pars_fragment:Use,lights_pars_begin:jse,lights_toon_fragment:Hse,lights_toon_pars_fragment:Gse,lights_phong_fragment:Vse,lights_phong_pars_fragment:Wse,lights_physical_fragment:$se,lights_physical_pars_fragment:Xse,lights_fragment_begin:Kse,lights_fragment_maps:Yse,lights_fragment_end:Jse,logdepthbuf_fragment:qse,logdepthbuf_pars_fragment:Zse,logdepthbuf_pars_vertex:Qse,logdepthbuf_vertex:eoe,map_fragment:toe,map_pars_fragment:noe,map_particle_fragment:roe,map_particle_pars_fragment:ioe,metalnessmap_fragment:soe,metalnessmap_pars_fragment:ooe,morphcolor_vertex:aoe,morphnormal_vertex:loe,morphtarget_pars_vertex:coe,morphtarget_vertex:uoe,normal_fragment_begin:foe,normal_fragment_maps:hoe,normal_pars_fragment:doe,normal_pars_vertex:poe,normal_vertex:moe,normalmap_pars_fragment:goe,clearcoat_normal_fragment_begin:voe,clearcoat_normal_fragment_maps:yoe,clearcoat_pars_fragment:xoe,iridescence_pars_fragment:boe,opaque_fragment:_oe,packing:woe,premultiplied_alpha_fragment:Soe,project_vertex:Aoe,dithering_fragment:Moe,dithering_pars_fragment:Eoe,roughnessmap_fragment:Toe,roughnessmap_pars_fragment:Coe,shadowmap_pars_fragment:Poe,shadowmap_pars_vertex:Roe,shadowmap_vertex:Ooe,shadowmask_pars_fragment:Ioe,skinbase_vertex:Boe,skinning_pars_vertex:Doe,skinning_vertex:Loe,skinnormal_vertex:Noe,specularmap_fragment:koe,specularmap_pars_fragment:Foe,tonemapping_fragment:Uoe,tonemapping_pars_fragment:joe,transmission_fragment:zoe,transmission_pars_fragment:Hoe,uv_pars_fragment:Goe,uv_pars_vertex:Voe,uv_vertex:Woe,worldpos_vertex:$oe,background_vert:Xoe,background_frag:Koe,backgroundCube_vert:Yoe,backgroundCube_frag:Joe,cube_vert:qoe,cube_frag:Zoe,depth_vert:Qoe,depth_frag:eae,distanceRGBA_vert:tae,distanceRGBA_frag:nae,equirect_vert:rae,equirect_frag:iae,linedashed_vert:sae,linedashed_frag:oae,meshbasic_vert:aae,meshbasic_frag:lae,meshlambert_vert:cae,meshlambert_frag:uae,meshmatcap_vert:fae,meshmatcap_frag:hae,meshnormal_vert:dae,meshnormal_frag:pae,meshphong_vert:mae,meshphong_frag:gae,meshphysical_vert:vae,meshphysical_frag:yae,meshtoon_vert:xae,meshtoon_frag:bae,points_vert:_ae,points_frag:wae,shadow_vert:Sae,shadow_frag:Aae,sprite_vert:Mae,sprite_frag:Eae},pt={common:{diffuse:{value:new gt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new gt(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},Ko={basic:{uniforms:Xi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.fog]),vertexShader:Zt.meshbasic_vert,fragmentShader:Zt.meshbasic_frag},lambert:{uniforms:Xi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new gt(0)}}]),vertexShader:Zt.meshlambert_vert,fragmentShader:Zt.meshlambert_frag},phong:{uniforms:Xi([pt.common,pt.specularmap,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,pt.lights,{emissive:{value:new gt(0)},specular:{value:new gt(1118481)},shininess:{value:30}}]),vertexShader:Zt.meshphong_vert,fragmentShader:Zt.meshphong_frag},standard:{uniforms:Xi([pt.common,pt.envmap,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.roughnessmap,pt.metalnessmap,pt.fog,pt.lights,{emissive:{value:new gt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag},toon:{uniforms:Xi([pt.common,pt.aomap,pt.lightmap,pt.emissivemap,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.gradientmap,pt.fog,pt.lights,{emissive:{value:new gt(0)}}]),vertexShader:Zt.meshtoon_vert,fragmentShader:Zt.meshtoon_frag},matcap:{uniforms:Xi([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,pt.fog,{matcap:{value:null}}]),vertexShader:Zt.meshmatcap_vert,fragmentShader:Zt.meshmatcap_frag},points:{uniforms:Xi([pt.points,pt.fog]),vertexShader:Zt.points_vert,fragmentShader:Zt.points_frag},dashed:{uniforms:Xi([pt.common,pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zt.linedashed_vert,fragmentShader:Zt.linedashed_frag},depth:{uniforms:Xi([pt.common,pt.displacementmap]),vertexShader:Zt.depth_vert,fragmentShader:Zt.depth_frag},normal:{uniforms:Xi([pt.common,pt.bumpmap,pt.normalmap,pt.displacementmap,{opacity:{value:1}}]),vertexShader:Zt.meshnormal_vert,fragmentShader:Zt.meshnormal_frag},sprite:{uniforms:Xi([pt.sprite,pt.fog]),vertexShader:Zt.sprite_vert,fragmentShader:Zt.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Zt.background_vert,fragmentShader:Zt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Zt.backgroundCube_vert,fragmentShader:Zt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zt.cube_vert,fragmentShader:Zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zt.equirect_vert,fragmentShader:Zt.equirect_frag},distanceRGBA:{uniforms:Xi([pt.common,pt.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zt.distanceRGBA_vert,fragmentShader:Zt.distanceRGBA_frag},shadow:{uniforms:Xi([pt.lights,pt.fog,{color:{value:new gt(0)},opacity:{value:1}}]),vertexShader:Zt.shadow_vert,fragmentShader:Zt.shadow_frag}};Ko.physical={uniforms:Xi([Ko.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new gt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new gt(0)},specularColor:{value:new gt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:Zt.meshphysical_vert,fragmentShader:Zt.meshphysical_frag};const nb={r:0,b:0,g:0};function Tae(t,e,n,r,i,s,o){const a=new gt(0);let l=s===!0?0:1,c,u,f=null,h=0,d=null;function m(y,v){let b=!1,_=v.isScene===!0?v.background:null;_&&_.isTexture&&(_=(v.backgroundBlurriness>0?n:e).get(_)),_===null?x(a,l):_&&_.isColor&&(x(_,1),b=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Up)?(u===void 0&&(u=new tr(new th(1,1,1),new xi({name:"BackgroundCubeMaterial",uniforms:ip(Ko.backgroundCube.uniforms),vertexShader:Ko.backgroundCube.vertexShader,fragmentShader:Ko.backgroundCube.fragmentShader,side:Qi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,A,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=On.getTransfer(_.colorSpace)!==zn,(f!==_||h!==_.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=_,h=_.version,d=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new tr(new Fl(2,2),new xi({name:"BackgroundMaterial",uniforms:ip(Ko.background.uniforms),vertexShader:Ko.background.vertexShader,fragmentShader:Ko.background.fragmentShader,side:ja,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=On.getTransfer(_.colorSpace)!==zn,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||h!==_.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,h=_.version,d=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function x(y,v){y.getRGB(nb,bW(t)),r.buffers.color.setClear(nb.r,nb.g,nb.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(y,v=1){a.set(y),l=v,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(a,l)},render:m}}function Cae(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(z,K,Y,ie,G){let J=!1;if(o){const te=x(ie,Y,K);c!==te&&(c=te,d(c.object)),J=v(z,ie,Y,G),J&&b(z,ie,Y,G)}else{const te=K.wireframe===!0;(c.geometry!==ie.id||c.program!==Y.id||c.wireframe!==te)&&(c.geometry=ie.id,c.program=Y.id,c.wireframe=te,J=!0)}G!==null&&n.update(G,t.ELEMENT_ARRAY_BUFFER),(J||u)&&(u=!1,C(z,K,Y,ie),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(G).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function d(z){return r.isWebGL2?t.bindVertexArray(z):s.bindVertexArrayOES(z)}function m(z){return r.isWebGL2?t.deleteVertexArray(z):s.deleteVertexArrayOES(z)}function x(z,K,Y){const ie=Y.wireframe===!0;let G=a[z.id];G===void 0&&(G={},a[z.id]=G);let J=G[K.id];J===void 0&&(J={},G[K.id]=J);let te=J[ie];return te===void 0&&(te=y(h()),J[ie]=te),te}function y(z){const K=[],Y=[],ie=[];for(let G=0;G<i;G++)K[G]=0,Y[G]=0,ie[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:Y,attributeDivisors:ie,object:z,attributes:{},index:null}}function v(z,K,Y,ie){const G=c.attributes,J=K.attributes;let te=0;const re=Y.getAttributes();for(const fe in re)if(re[fe].location>=0){const pe=G[fe];let Ae=J[fe];if(Ae===void 0&&(fe==="instanceMatrix"&&z.instanceMatrix&&(Ae=z.instanceMatrix),fe==="instanceColor"&&z.instanceColor&&(Ae=z.instanceColor)),pe===void 0||pe.attribute!==Ae||Ae&&pe.data!==Ae.data)return!0;te++}return c.attributesNum!==te||c.index!==ie}function b(z,K,Y,ie){const G={},J=K.attributes;let te=0;const re=Y.getAttributes();for(const fe in re)if(re[fe].location>=0){let pe=J[fe];pe===void 0&&(fe==="instanceMatrix"&&z.instanceMatrix&&(pe=z.instanceMatrix),fe==="instanceColor"&&z.instanceColor&&(pe=z.instanceColor));const Ae={};Ae.attribute=pe,pe&&pe.data&&(Ae.data=pe.data),G[fe]=Ae,te++}c.attributes=G,c.attributesNum=te,c.index=ie}function _(){const z=c.newAttributes;for(let K=0,Y=z.length;K<Y;K++)z[K]=0}function M(z){w(z,0)}function w(z,K){const Y=c.newAttributes,ie=c.enabledAttributes,G=c.attributeDivisors;Y[z]=1,ie[z]===0&&(t.enableVertexAttribArray(z),ie[z]=1),G[z]!==K&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,K),G[z]=K)}function A(){const z=c.newAttributes,K=c.enabledAttributes;for(let Y=0,ie=K.length;Y<ie;Y++)K[Y]!==z[Y]&&(t.disableVertexAttribArray(Y),K[Y]=0)}function E(z,K,Y,ie,G,J,te){te===!0?t.vertexAttribIPointer(z,K,Y,G,J):t.vertexAttribPointer(z,K,Y,ie,G,J)}function C(z,K,Y,ie){if(r.isWebGL2===!1&&(z.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const G=ie.attributes,J=Y.getAttributes(),te=K.defaultAttributeValues;for(const re in J){const fe=J[re];if(fe.location>=0){let we=G[re];if(we===void 0&&(re==="instanceMatrix"&&z.instanceMatrix&&(we=z.instanceMatrix),re==="instanceColor"&&z.instanceColor&&(we=z.instanceColor)),we!==void 0){const pe=we.normalized,Ae=we.itemSize,Pe=n.get(we);if(Pe===void 0)continue;const Ze=Pe.buffer,nt=Pe.type,Ie=Pe.bytesPerElement,et=r.isWebGL2===!0&&(nt===t.INT||nt===t.UNSIGNED_INT||we.gpuType===uS);if(we.isInterleavedBufferAttribute){const Xe=we.data,X=Xe.stride,Le=we.offset;if(Xe.isInstancedInterleavedBuffer){for(let Se=0;Se<fe.locationSize;Se++)w(fe.location+Se,Xe.meshPerAttribute);z.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=Xe.meshPerAttribute*Xe.count)}else for(let Se=0;Se<fe.locationSize;Se++)M(fe.location+Se);t.bindBuffer(t.ARRAY_BUFFER,Ze);for(let Se=0;Se<fe.locationSize;Se++)E(fe.location+Se,Ae/fe.locationSize,nt,pe,X*Ie,(Le+Ae/fe.locationSize*Se)*Ie,et)}else{if(we.isInstancedBufferAttribute){for(let Xe=0;Xe<fe.locationSize;Xe++)w(fe.location+Xe,we.meshPerAttribute);z.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let Xe=0;Xe<fe.locationSize;Xe++)M(fe.location+Xe);t.bindBuffer(t.ARRAY_BUFFER,Ze);for(let Xe=0;Xe<fe.locationSize;Xe++)E(fe.location+Xe,Ae/fe.locationSize,nt,pe,Ae*Ie,Ae/fe.locationSize*Xe*Ie,et)}}else if(te!==void 0){const pe=te[re];if(pe!==void 0)switch(pe.length){case 2:t.vertexAttrib2fv(fe.location,pe);break;case 3:t.vertexAttrib3fv(fe.location,pe);break;case 4:t.vertexAttrib4fv(fe.location,pe);break;default:t.vertexAttrib1fv(fe.location,pe)}}}}A()}function L(){H();for(const z in a){const K=a[z];for(const Y in K){const ie=K[Y];for(const G in ie)m(ie[G].object),delete ie[G];delete K[Y]}delete a[z]}}function P(z){if(a[z.id]===void 0)return;const K=a[z.id];for(const Y in K){const ie=K[Y];for(const G in ie)m(ie[G].object),delete ie[G];delete K[Y]}delete a[z.id]}function B(z){for(const K in a){const Y=a[K];if(Y[z.id]===void 0)continue;const ie=Y[z.id];for(const G in ie)m(ie[G].object),delete ie[G];delete Y[z.id]}}function H(){q(),u=!0,c!==l&&(c=l,d(c.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:H,resetDefaultState:q,dispose:L,releaseStatesOfGeometry:P,releaseStatesOfProgram:B,initAttributes:_,enableAttribute:M,disableUnusedAttributes:A}}function Pae(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){t.drawArrays(s,u,f),n.update(f,s,1)}function l(u,f,h){if(h===0)return;let d,m;if(i)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,u,f,h),n.update(f,s,h)}function c(u,f,h){if(h===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let m=0;m<h;m++)this.render(u[m],f[m]);else{d.multiDrawArraysWEBGL(s,u,0,f,0,h);let m=0;for(let x=0;x<h;x++)m+=f[x];n.update(m,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function Rae(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(E){if(E==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=h>0,M=o||e.has("OES_texture_float"),w=_&&M,A=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:m,maxAttributes:x,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:M,floatVertexTextures:w,maxSamples:A}}function Oae(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new cl,a=new tn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||r!==0||i;return i=h,r=f.length,d},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=u(f,h,0)},this.setState=function(f,h,d){const m=f.clippingPlanes,x=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!i||m===null||m.length===0||s&&!y)s?u(null):c();else{const b=s?0:r,_=b*4;let M=v.clippingState||null;l.value=M,M=u(m,h,_,d);for(let w=0;w!==_;++w)M[w]=n[w];v.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,h,d,m){const x=f!==null?f.length:0;let y=null;if(x!==0){if(y=l.value,m!==!0||y===null){const v=d+x*4,b=h.matrixWorldInverse;a.getNormalMatrix(b),(y===null||y.length<v)&&(y=new Float32Array(v));for(let _=0,M=d;_!==x;++_,M+=4)o.copy(f[_]).applyMatrix4(b,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function Iae(t){let e=new WeakMap;function n(o,a){return a===ep?o.mapping=za:a===Mv&&(o.mapping=$c),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===ep||a===Mv)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new YI(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ba extends Jy{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const gd=4,yF=[.125,.215,.35,.446,.526,.582],Zu=20,HE=new Ba,xF=new gt;let GE=null,VE=0,WE=0;const Gu=(1+Math.sqrt(5))/2,Uh=1/Gu,bF=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,Gu,Uh),new Z(0,Gu,-Uh),new Z(Uh,0,Gu),new Z(-Uh,0,Gu),new Z(Gu,Uh,0),new Z(-Gu,Uh,0)];class r2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){GE=this._renderer.getRenderTarget(),VE=this._renderer.getActiveCubeFace(),WE=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=SF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(GE,VE,WE),e.scissorTest=!1,rb(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===za||e.mapping===$c?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),GE=this._renderer.getRenderTarget(),VE=this._renderer.getActiveCubeFace(),WE=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:hn,minFilter:hn,generateMipmaps:!1,type:Xr,format:jr,colorSpace:js,depthBuffer:!1},i=_F(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_F(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Bae(s)),this._blurMaterial=Dae(s,e,n)}return i}_compileMaterial(e){const n=new tr(this._lodPlanes[0],e);this._renderer.compile(n,HE)}_sceneToCubeUV(e,n,r,i){const a=new Sr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(xF),u.toneMapping=Ia,u.autoClear=!1;const d=new fs({name:"PMREM.Background",side:Qi,depthWrite:!1,depthTest:!1}),m=new tr(new th,d);let x=!1;const y=e.background;y?y.isColor&&(d.color.copy(y),e.background=null,x=!0):(d.color.copy(xF),x=!0);for(let v=0;v<6;v++){const b=v%3;b===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):b===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const _=this._cubeSize;rb(i,b*_,v>2?_:0,_,_),u.setRenderTarget(i),x&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===za||e.mapping===$c;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=SF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wF());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new tr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;rb(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,HE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=bF[(i-1)%bF.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new tr(this._lodPlanes[i],c),h=c.uniforms,d=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Zu-1),x=s/m,y=isFinite(s)?1+Math.floor(u*x):Zu;y>Zu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Zu}`);const v=[];let b=0;for(let E=0;E<Zu;++E){const C=E/x,L=Math.exp(-C*C/2);v.push(L),E===0?b+=L:E<y&&(b+=2*L)}for(let E=0;E<v.length;E++)v[E]=v[E]/b;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=v,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:_}=this;h.dTheta.value=m,h.mipInt.value=_-r;const M=this._sizeLods[i],w=3*M*(i>_-gd?i-_+gd:0),A=4*(this._cubeSize-M);rb(n,w,A,3*M,2*M),l.setRenderTarget(n),l.render(f,HE)}}function Bae(t){const e=[],n=[],r=[];let i=t;const s=t-gd+1+yF.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-gd?l=yF[o-t+gd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,m=6,x=3,y=2,v=1,b=new Float32Array(x*m*d),_=new Float32Array(y*m*d),M=new Float32Array(v*m*d);for(let A=0;A<d;A++){const E=A%3*2/3-1,C=A>2?0:-1,L=[E,C,0,E+2/3,C,0,E+2/3,C+1,0,E,C,0,E+2/3,C+1,0,E,C+1,0];b.set(L,x*m*A),_.set(h,y*m*A);const P=[A,A,A,A,A,A];M.set(P,v*m*A)}const w=new qt;w.setAttribute("position",new xn(b,x)),w.setAttribute("uv",new xn(_,y)),w.setAttribute("faceIndex",new xn(M,v)),e.push(w),i>gd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function _F(t,e,n){const r=new yi(t,e,n);return r.texture.mapping=Up,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function rb(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Dae(t,e,n){const r=new Float32Array(Zu),i=new Z(0,1,0);return new xi({name:"SphericalGaussianBlur",defines:{n:Zu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:JI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Oa,depthTest:!1,depthWrite:!1})}function wF(){return new xi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:JI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Oa,depthTest:!1,depthWrite:!1})}function SF(){return new xi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:JI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Oa,depthTest:!1,depthWrite:!1})}function JI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Lae(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ep||l===Mv,u=l===za||l===$c;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new r2(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new r2(t));const h=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Nae(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function kae(t,e,n,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);for(const m in h.morphAttributes){const x=h.morphAttributes[m];for(let y=0,v=x.length;y<v;y++)e.remove(x[y])}h.removeEventListener("dispose",o),delete i[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER);const d=f.morphAttributes;for(const m in d){const x=d[m];for(let y=0,v=x.length;y<v;y++)e.update(x[y],t.ARRAY_BUFFER)}}function c(f){const h=[],d=f.index,m=f.attributes.position;let x=0;if(d!==null){const b=d.array;x=d.version;for(let _=0,M=b.length;_<M;_+=3){const w=b[_+0],A=b[_+1],E=b[_+2];h.push(w,A,A,E,E,w)}}else if(m!==void 0){const b=m.array;x=m.version;for(let _=0,M=b.length/3-1;_<M;_+=3){const w=_+0,A=_+1,E=_+2;h.push(w,A,A,E,E,w)}}else return;const y=new(gW(h)?XI:$I)(h,1);y.version=x;const v=s.get(f);v&&e.remove(v),s.set(f,y)}function u(f){const h=s.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Fae(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,m){t.drawElements(s,m,a,d*l),n.update(m,s,1)}function f(d,m,x){if(x===0)return;let y,v;if(i)y=t,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,m,a,d*l,x),n.update(m,s,x)}function h(d,m,x){if(x===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<x;v++)this.render(d[v]/l,m[v]);else{y.multiDrawElementsWEBGL(s,m,0,a,d,0,x);let v=0;for(let b=0;b<x;b++)v+=m[b];n.update(v,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=h}function Uae(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function jae(t,e){return t[0]-e[0]}function zae(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Hae(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Bn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const d=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=d!==void 0?d.length:0;let x=s.get(u);if(x===void 0||x.count!==m){let b=function(){q.dispose(),s.delete(u),u.removeEventListener("dispose",b)};x!==void 0&&x.texture.dispose();const _=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,A=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let L=0;_===!0&&(L=1),M===!0&&(L=2),w===!0&&(L=3);let P=u.attributes.position.count*L,B=1;P>e.maxTextureSize&&(B=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const H=new Float32Array(P*B*4*m),q=new dS(H,P,B,m);q.type=Pr,q.needsUpdate=!0;const z=L*4;for(let K=0;K<m;K++){const Y=A[K],ie=E[K],G=C[K],J=P*B*4*K;for(let te=0;te<Y.count;te++){const re=te*z;_===!0&&(o.fromBufferAttribute(Y,te),H[J+re+0]=o.x,H[J+re+1]=o.y,H[J+re+2]=o.z,H[J+re+3]=0),M===!0&&(o.fromBufferAttribute(ie,te),H[J+re+4]=o.x,H[J+re+5]=o.y,H[J+re+6]=o.z,H[J+re+7]=0),w===!0&&(o.fromBufferAttribute(G,te),H[J+re+8]=o.x,H[J+re+9]=o.y,H[J+re+10]=o.z,H[J+re+11]=G.itemSize===4?o.w:1)}}x={count:m,texture:q,size:new ze(P,B)},s.set(u,x),u.addEventListener("dispose",b)}let y=0;for(let b=0;b<h.length;b++)y+=h[b];const v=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",v),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const d=h===void 0?0:h.length;let m=r[u.id];if(m===void 0||m.length!==d){m=[];for(let _=0;_<d;_++)m[_]=[_,0];r[u.id]=m}for(let _=0;_<d;_++){const M=m[_];M[0]=_,M[1]=h[_]}m.sort(zae);for(let _=0;_<8;_++)_<d&&m[_][1]?(a[_][0]=m[_][0],a[_][1]=m[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(jae);const x=u.morphAttributes.position,y=u.morphAttributes.normal;let v=0;for(let _=0;_<8;_++){const M=a[_],w=M[0],A=M[1];w!==Number.MAX_SAFE_INTEGER&&A?(x&&u.getAttribute("morphTarget"+_)!==x[w]&&u.setAttribute("morphTarget"+_,x[w]),y&&u.getAttribute("morphNormal"+_)!==y[w]&&u.setAttribute("morphNormal"+_,y[w]),i[_]=A,v+=A):(x&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),y&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const b=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Gae(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class qI extends Pn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Nc,u!==Nc&&u!==Uf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Nc&&(r=Ea),r===void 0&&u===Uf&&(r=Lc),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:sr,this.minFilter=l!==void 0?l:sr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const SW=new Pn,AW=new qI(1,1);AW.compareFunction=HI;const MW=new dS,EW=new WI,TW=new qy,AF=[],MF=[],EF=new Float32Array(16),TF=new Float32Array(9),CF=new Float32Array(4);function jp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=AF[i];if(s===void 0&&(s=new Float32Array(i),AF[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function qr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Zr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function pS(t,e){let n=MF[e];n===void 0&&(n=new Int32Array(e),MF[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Vae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Wae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2fv(this.addr,e),Zr(n,e)}}function $ae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(qr(n,e))return;t.uniform3fv(this.addr,e),Zr(n,e)}}function Xae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4fv(this.addr,e),Zr(n,e)}}function Kae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Zr(n,e)}else{if(qr(n,r))return;CF.set(r),t.uniformMatrix2fv(this.addr,!1,CF),Zr(n,r)}}function Yae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Zr(n,e)}else{if(qr(n,r))return;TF.set(r),t.uniformMatrix3fv(this.addr,!1,TF),Zr(n,r)}}function Jae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(qr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Zr(n,e)}else{if(qr(n,r))return;EF.set(r),t.uniformMatrix4fv(this.addr,!1,EF),Zr(n,r)}}function qae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Zae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2iv(this.addr,e),Zr(n,e)}}function Qae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qr(n,e))return;t.uniform3iv(this.addr,e),Zr(n,e)}}function ele(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4iv(this.addr,e),Zr(n,e)}}function tle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function nle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qr(n,e))return;t.uniform2uiv(this.addr,e),Zr(n,e)}}function rle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qr(n,e))return;t.uniform3uiv(this.addr,e),Zr(n,e)}}function ile(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qr(n,e))return;t.uniform4uiv(this.addr,e),Zr(n,e)}}function sle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?AW:SW;n.setTexture2D(e||s,i)}function ole(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||EW,i)}function ale(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||TW,i)}function lle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||MW,i)}function cle(t){switch(t){case 5126:return Vae;case 35664:return Wae;case 35665:return $ae;case 35666:return Xae;case 35674:return Kae;case 35675:return Yae;case 35676:return Jae;case 5124:case 35670:return qae;case 35667:case 35671:return Zae;case 35668:case 35672:return Qae;case 35669:case 35673:return ele;case 5125:return tle;case 36294:return nle;case 36295:return rle;case 36296:return ile;case 35678:case 36198:case 36298:case 36306:case 35682:return sle;case 35679:case 36299:case 36307:return ole;case 35680:case 36300:case 36308:case 36293:return ale;case 36289:case 36303:case 36311:case 36292:return lle}}function ule(t,e){t.uniform1fv(this.addr,e)}function fle(t,e){const n=jp(e,this.size,2);t.uniform2fv(this.addr,n)}function hle(t,e){const n=jp(e,this.size,3);t.uniform3fv(this.addr,n)}function dle(t,e){const n=jp(e,this.size,4);t.uniform4fv(this.addr,n)}function ple(t,e){const n=jp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function mle(t,e){const n=jp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function gle(t,e){const n=jp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function vle(t,e){t.uniform1iv(this.addr,e)}function yle(t,e){t.uniform2iv(this.addr,e)}function xle(t,e){t.uniform3iv(this.addr,e)}function ble(t,e){t.uniform4iv(this.addr,e)}function _le(t,e){t.uniform1uiv(this.addr,e)}function wle(t,e){t.uniform2uiv(this.addr,e)}function Sle(t,e){t.uniform3uiv(this.addr,e)}function Ale(t,e){t.uniform4uiv(this.addr,e)}function Mle(t,e,n){const r=this.cache,i=e.length,s=pS(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Zr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||SW,s[o])}function Ele(t,e,n){const r=this.cache,i=e.length,s=pS(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Zr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||EW,s[o])}function Tle(t,e,n){const r=this.cache,i=e.length,s=pS(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Zr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||TW,s[o])}function Cle(t,e,n){const r=this.cache,i=e.length,s=pS(n,i);qr(r,s)||(t.uniform1iv(this.addr,s),Zr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||MW,s[o])}function Ple(t){switch(t){case 5126:return ule;case 35664:return fle;case 35665:return hle;case 35666:return dle;case 35674:return ple;case 35675:return mle;case 35676:return gle;case 5124:case 35670:return vle;case 35667:case 35671:return yle;case 35668:case 35672:return xle;case 35669:case 35673:return ble;case 5125:return _le;case 36294:return wle;case 36295:return Sle;case 36296:return Ale;case 35678:case 36198:case 36298:case 36306:case 35682:return Mle;case 35679:case 36299:case 36307:return Ele;case 35680:case 36300:case 36308:case 36293:return Tle;case 36289:case 36303:case 36311:case 36292:return Cle}}class Rle{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=cle(n.type)}}class Ole{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Ple(n.type)}}class Ile{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const $E=/(\w+)(\])?(\[|\.)?/g;function PF(t,e){t.seq.push(e),t.map[e.id]=e}function Ble(t,e,n){const r=t.name,i=r.length;for($E.lastIndex=0;;){const s=$E.exec(r),o=$E.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){PF(n,c===void 0?new Rle(a,t,e):new Ole(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Ile(a),PF(n,f)),n=f}}}class D_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Ble(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function RF(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Dle=37297;let Lle=0;function Nle(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function kle(t){const e=On.getPrimaries(On.workingColorSpace),n=On.getPrimaries(t);let r;switch(e===n?r="":e===Rv&&n===Pv?r="LinearDisplayP3ToLinearSRGB":e===Pv&&n===Rv&&(r="LinearSRGBToLinearDisplayP3"),t){case js:case Ky:return[r,"LinearTransferOETF"];case Fr:case hS:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function OF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Nle(t.getShaderSource(e),o)}else return i}function Fle(t,e){const n=kle(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Ule(t,e){let n;switch(e){case W9:n="Linear";break;case $9:n="Reinhard";break;case X9:n="OptimizedCineon";break;case PI:n="ACESFilmic";break;case Y9:n="AgX";break;case K9:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function jle(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vd).join(`
`)}function zle(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(vd).join(`
`)}function Hle(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Gle(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function vd(t){return t!==""}function IF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function BF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Vle=/^[ \t]*#include +<([\w\d./]+)>/gm;function i2(t){return t.replace(Vle,$le)}const Wle=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function $le(t,e){let n=Zt[e];if(n===void 0){const r=Wle.get(e);if(r!==void 0)n=Zt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return i2(n)}const Xle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DF(t){return t.replace(Xle,Kle)}function Kle(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function LF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Yle(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===lS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Fg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===jo&&(e="SHADOWMAP_TYPE_VSM"),e}function Jle(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case za:case $c:e="ENVMAP_TYPE_CUBE";break;case Up:e="ENVMAP_TYPE_CUBE_UV";break}return e}function qle(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case $c:e="ENVMAP_MODE_REFRACTION";break}return e}function Zle(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Xy:e="ENVMAP_BLENDING_MULTIPLY";break;case G9:e="ENVMAP_BLENDING_MIX";break;case V9:e="ENVMAP_BLENDING_ADD";break}return e}function Qle(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function ece(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Yle(n),c=Jle(n),u=qle(n),f=Zle(n),h=Qle(n),d=n.isWebGL2?"":jle(n),m=zle(n),x=Hle(s),y=i.createProgram();let v,b,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(vd).join(`
`),v.length>0&&(v+=`
`),b=[d,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(vd).join(`
`),b.length>0&&(b+=`
`)):(v=[LF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vd).join(`
`),b=[d,LF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ia?"#define TONE_MAPPING":"",n.toneMapping!==Ia?Zt.tonemapping_pars_fragment:"",n.toneMapping!==Ia?Ule("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Zt.colorspace_pars_fragment,Fle("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(vd).join(`
`)),o=i2(o),o=IF(o,n),o=BF(o,n),a=i2(a),a=IF(a,n),a=BF(a,n),o=DF(o),a=DF(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=[m,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,b=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===t2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===t2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const M=_+v+o,w=_+b+a,A=RF(i,i.VERTEX_SHADER,M),E=RF(i,i.FRAGMENT_SHADER,w);i.attachShader(y,A),i.attachShader(y,E),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function C(H){if(t.debug.checkShaderErrors){const q=i.getProgramInfoLog(y).trim(),z=i.getShaderInfoLog(A).trim(),K=i.getShaderInfoLog(E).trim();let Y=!0,ie=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(Y=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,A,E);else{const G=OF(i,A,"vertex"),J=OF(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+q+`
`+G+`
`+J)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(z===""||K==="")&&(ie=!1);ie&&(H.diagnostics={runnable:Y,programLog:q,vertexShader:{log:z,prefix:v},fragmentShader:{log:K,prefix:b}})}i.deleteShader(A),i.deleteShader(E),L=new D_(i,y),P=Gle(i,y)}let L;this.getUniforms=function(){return L===void 0&&C(this),L};let P;this.getAttributes=function(){return P===void 0&&C(this),P};let B=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=i.getProgramParameter(y,Dle)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Lle++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=A,this.fragmentShader=E,this}let tce=0;class nce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new rce(e),n.set(e,r)),r}}class rce{constructor(e){this.id=tce++,this.code=e,this.usedTimes=0}}function ice(t,e,n,r,i,s,o){const a=new Ef,l=new nce,c=new Set,u=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P){return c.add(P),P===0?"uv":`uv${P}`}function v(P,B,H,q,z){const K=q.fog,Y=z.geometry,ie=P.isMeshStandardMaterial?q.environment:null,G=(P.isMeshStandardMaterial?n:e).get(P.envMap||ie),J=G&&G.mapping===Up?G.image.height:null,te=x[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const re=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,fe=re!==void 0?re.length:0;let we=0;Y.morphAttributes.position!==void 0&&(we=1),Y.morphAttributes.normal!==void 0&&(we=2),Y.morphAttributes.color!==void 0&&(we=3);let pe,Ae,Pe,Ze;if(te){const Xt=Ko[te];pe=Xt.vertexShader,Ae=Xt.fragmentShader}else pe=P.vertexShader,Ae=P.fragmentShader,l.update(P),Pe=l.getVertexShaderID(P),Ze=l.getFragmentShaderID(P);const nt=t.getRenderTarget(),Ie=z.isInstancedMesh===!0,et=z.isBatchedMesh===!0,Xe=!!P.map,X=!!P.matcap,Le=!!G,Se=!!P.aoMap,Ve=!!P.lightMap,Re=!!P.bumpMap,dt=!!P.normalMap,it=!!P.displacementMap,Q=!!P.emissiveMap,$=!!P.metalnessMap,xe=!!P.roughnessMap,He=P.anisotropy>0,We=P.clearcoat>0,Ue=P.iridescence>0,ut=P.sheen>0,ft=P.transmission>0,j=He&&!!P.anisotropyMap,O=We&&!!P.clearcoatMap,D=We&&!!P.clearcoatNormalMap,V=We&&!!P.clearcoatRoughnessMap,he=Ue&&!!P.iridescenceMap,ge=Ue&&!!P.iridescenceThicknessMap,_e=ut&&!!P.sheenColorMap,Ke=ut&&!!P.sheenRoughnessMap,tt=!!P.specularMap,ue=!!P.specularColorMap,Ce=!!P.specularIntensityMap,Ge=ft&&!!P.transmissionMap,vt=ft&&!!P.thicknessMap,$e=!!P.gradientMap,ae=!!P.alphaMap,Qe=P.alphaTest>0,st=!!P.alphaHash,At=!!P.extensions;let Tt=Ia;P.toneMapped&&(nt===null||nt.isXRRenderTarget===!0)&&(Tt=t.toneMapping);const Vt={isWebGL2:f,shaderID:te,shaderType:P.type,shaderName:P.name,vertexShader:pe,fragmentShader:Ae,defines:P.defines,customVertexShaderID:Pe,customFragmentShaderID:Ze,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,batching:et,instancing:Ie,instancingColor:Ie&&z.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:nt===null?t.outputColorSpace:nt.isXRRenderTarget===!0?nt.texture.colorSpace:js,alphaToCoverage:!!P.alphaToCoverage,map:Xe,matcap:X,envMap:Le,envMapMode:Le&&G.mapping,envMapCubeUVHeight:J,aoMap:Se,lightMap:Ve,bumpMap:Re,normalMap:dt,displacementMap:d&&it,emissiveMap:Q,normalMapObjectSpace:dt&&P.normalMapType===lW,normalMapTangentSpace:dt&&P.normalMapType===iu,metalnessMap:$,roughnessMap:xe,anisotropy:He,anisotropyMap:j,clearcoat:We,clearcoatMap:O,clearcoatNormalMap:D,clearcoatRoughnessMap:V,iridescence:Ue,iridescenceMap:he,iridescenceThicknessMap:ge,sheen:ut,sheenColorMap:_e,sheenRoughnessMap:Ke,specularMap:tt,specularColorMap:ue,specularIntensityMap:Ce,transmission:ft,transmissionMap:Ge,thicknessMap:vt,gradientMap:$e,opaque:P.transparent===!1&&P.blending===Sf&&P.alphaToCoverage===!1,alphaMap:ae,alphaTest:Qe,alphaHash:st,combine:P.combine,mapUv:Xe&&y(P.map.channel),aoMapUv:Se&&y(P.aoMap.channel),lightMapUv:Ve&&y(P.lightMap.channel),bumpMapUv:Re&&y(P.bumpMap.channel),normalMapUv:dt&&y(P.normalMap.channel),displacementMapUv:it&&y(P.displacementMap.channel),emissiveMapUv:Q&&y(P.emissiveMap.channel),metalnessMapUv:$&&y(P.metalnessMap.channel),roughnessMapUv:xe&&y(P.roughnessMap.channel),anisotropyMapUv:j&&y(P.anisotropyMap.channel),clearcoatMapUv:O&&y(P.clearcoatMap.channel),clearcoatNormalMapUv:D&&y(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:V&&y(P.clearcoatRoughnessMap.channel),iridescenceMapUv:he&&y(P.iridescenceMap.channel),iridescenceThicknessMapUv:ge&&y(P.iridescenceThicknessMap.channel),sheenColorMapUv:_e&&y(P.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&y(P.sheenRoughnessMap.channel),specularMapUv:tt&&y(P.specularMap.channel),specularColorMapUv:ue&&y(P.specularColorMap.channel),specularIntensityMapUv:Ce&&y(P.specularIntensityMap.channel),transmissionMapUv:Ge&&y(P.transmissionMap.channel),thicknessMapUv:vt&&y(P.thicknessMap.channel),alphaMapUv:ae&&y(P.alphaMap.channel),vertexTangents:!!Y.attributes.tangent&&(dt||He),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,pointsUvs:z.isPoints===!0&&!!Y.attributes.uv&&(Xe||ae),fog:!!K,useFog:P.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:z.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:fe,morphTextureStride:we,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&H.length>0,shadowMapType:t.shadowMap.type,toneMapping:Tt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Xe&&P.map.isVideoTexture===!0&&On.getTransfer(P.map.colorSpace)===zn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===uo,flipSided:P.side===Qi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:At&&P.extensions.derivatives===!0,extensionFragDepth:At&&P.extensions.fragDepth===!0,extensionDrawBuffers:At&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:At&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:At&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:At&&P.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Vt.vertexUv1s=c.has(1),Vt.vertexUv2s=c.has(2),Vt.vertexUv3s=c.has(3),c.clear(),Vt}function b(P){const B=[];if(P.shaderID?B.push(P.shaderID):(B.push(P.customVertexShaderID),B.push(P.customFragmentShaderID)),P.defines!==void 0)for(const H in P.defines)B.push(H),B.push(P.defines[H]);return P.isRawShaderMaterial===!1&&(_(B,P),M(B,P),B.push(t.outputColorSpace)),B.push(P.customProgramCacheKey),B.join()}function _(P,B){P.push(B.precision),P.push(B.outputColorSpace),P.push(B.envMapMode),P.push(B.envMapCubeUVHeight),P.push(B.mapUv),P.push(B.alphaMapUv),P.push(B.lightMapUv),P.push(B.aoMapUv),P.push(B.bumpMapUv),P.push(B.normalMapUv),P.push(B.displacementMapUv),P.push(B.emissiveMapUv),P.push(B.metalnessMapUv),P.push(B.roughnessMapUv),P.push(B.anisotropyMapUv),P.push(B.clearcoatMapUv),P.push(B.clearcoatNormalMapUv),P.push(B.clearcoatRoughnessMapUv),P.push(B.iridescenceMapUv),P.push(B.iridescenceThicknessMapUv),P.push(B.sheenColorMapUv),P.push(B.sheenRoughnessMapUv),P.push(B.specularMapUv),P.push(B.specularColorMapUv),P.push(B.specularIntensityMapUv),P.push(B.transmissionMapUv),P.push(B.thicknessMapUv),P.push(B.combine),P.push(B.fogExp2),P.push(B.sizeAttenuation),P.push(B.morphTargetsCount),P.push(B.morphAttributeCount),P.push(B.numDirLights),P.push(B.numPointLights),P.push(B.numSpotLights),P.push(B.numSpotLightMaps),P.push(B.numHemiLights),P.push(B.numRectAreaLights),P.push(B.numDirLightShadows),P.push(B.numPointLightShadows),P.push(B.numSpotLightShadows),P.push(B.numSpotLightShadowsWithMaps),P.push(B.numLightProbes),P.push(B.shadowMapType),P.push(B.toneMapping),P.push(B.numClippingPlanes),P.push(B.numClipIntersection),P.push(B.depthPacking)}function M(P,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),B.alphaHash&&a.enable(18),B.batching&&a.enable(19),P.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),B.alphaToCoverage&&a.enable(20),P.push(a.mask)}function w(P){const B=x[P.type];let H;if(B){const q=Ko[B];H=KI.clone(q.uniforms)}else H=P.uniforms;return H}function A(P,B){let H;for(let q=0,z=u.length;q<z;q++){const K=u[q];if(K.cacheKey===B){H=K,++H.usedTimes;break}}return H===void 0&&(H=new ece(t,B,P,s),u.push(H)),H}function E(P){if(--P.usedTimes===0){const B=u.indexOf(P);u[B]=u[u.length-1],u.pop(),P.destroy()}}function C(P){l.remove(P)}function L(){l.dispose()}return{getParameters:v,getProgramCacheKey:b,getUniforms:w,acquireProgram:A,releaseProgram:E,releaseShaderCache:C,programs:u,dispose:L}}function sce(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function oce(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function NF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function kF(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,d,m,x,y){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:h,material:d,groupOrder:m,renderOrder:f.renderOrder,z:x,group:y},t[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=d,v.groupOrder=m,v.renderOrder=f.renderOrder,v.z=x,v.group=y),e++,v}function a(f,h,d,m,x,y){const v=o(f,h,d,m,x,y);d.transmission>0?r.push(v):d.transparent===!0?i.push(v):n.push(v)}function l(f,h,d,m,x,y){const v=o(f,h,d,m,x,y);d.transmission>0?r.unshift(v):d.transparent===!0?i.unshift(v):n.unshift(v)}function c(f,h){n.length>1&&n.sort(f||oce),r.length>1&&r.sort(h||NF),i.length>1&&i.sort(h||NF)}function u(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function ace(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new kF,t.set(r,[o])):i>=s.length?(o=new kF,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function lce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Z,color:new gt};break;case"SpotLight":n={position:new Z,direction:new Z,color:new gt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Z,color:new gt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Z,skyColor:new gt,groundColor:new gt};break;case"RectAreaLight":n={color:new gt,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return t[e.id]=n,n}}}function cce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let uce=0;function fce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function hce(t,e){const n=new lce,r=cce(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new Z);const s=new Z,o=new Ft,a=new Ft;function l(u,f){let h=0,d=0,m=0;for(let H=0;H<9;H++)i.probe[H].set(0,0,0);let x=0,y=0,v=0,b=0,_=0,M=0,w=0,A=0,E=0,C=0,L=0;u.sort(fce);const P=f===!0?Math.PI:1;for(let H=0,q=u.length;H<q;H++){const z=u[H],K=z.color,Y=z.intensity,ie=z.distance,G=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)h+=K.r*Y*P,d+=K.g*Y*P,m+=K.b*Y*P;else if(z.isLightProbe){for(let J=0;J<9;J++)i.probe[J].addScaledVector(z.sh.coefficients[J],Y);L++}else if(z.isDirectionalLight){const J=n.get(z);if(J.color.copy(z.color).multiplyScalar(z.intensity*P),z.castShadow){const te=z.shadow,re=r.get(z);re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,i.directionalShadow[x]=re,i.directionalShadowMap[x]=G,i.directionalShadowMatrix[x]=z.shadow.matrix,M++}i.directional[x]=J,x++}else if(z.isSpotLight){const J=n.get(z);J.position.setFromMatrixPosition(z.matrixWorld),J.color.copy(K).multiplyScalar(Y*P),J.distance=ie,J.coneCos=Math.cos(z.angle),J.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),J.decay=z.decay,i.spot[v]=J;const te=z.shadow;if(z.map&&(i.spotLightMap[E]=z.map,E++,te.updateMatrices(z),z.castShadow&&C++),i.spotLightMatrix[v]=te.matrix,z.castShadow){const re=r.get(z);re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,i.spotShadow[v]=re,i.spotShadowMap[v]=G,A++}v++}else if(z.isRectAreaLight){const J=n.get(z);J.color.copy(K).multiplyScalar(Y),J.halfWidth.set(z.width*.5,0,0),J.halfHeight.set(0,z.height*.5,0),i.rectArea[b]=J,b++}else if(z.isPointLight){const J=n.get(z);if(J.color.copy(z.color).multiplyScalar(z.intensity*P),J.distance=z.distance,J.decay=z.decay,z.castShadow){const te=z.shadow,re=r.get(z);re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,re.shadowCameraNear=te.camera.near,re.shadowCameraFar=te.camera.far,i.pointShadow[y]=re,i.pointShadowMap[y]=G,i.pointShadowMatrix[y]=z.shadow.matrix,w++}i.point[y]=J,y++}else if(z.isHemisphereLight){const J=n.get(z);J.skyColor.copy(z.color).multiplyScalar(Y*P),J.groundColor.copy(z.groundColor).multiplyScalar(Y*P),i.hemi[_]=J,_++}}b>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_FLOAT_1,i.rectAreaLTC2=pt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=pt.LTC_HALF_1,i.rectAreaLTC2=pt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=m;const B=i.hash;(B.directionalLength!==x||B.pointLength!==y||B.spotLength!==v||B.rectAreaLength!==b||B.hemiLength!==_||B.numDirectionalShadows!==M||B.numPointShadows!==w||B.numSpotShadows!==A||B.numSpotMaps!==E||B.numLightProbes!==L)&&(i.directional.length=x,i.spot.length=v,i.rectArea.length=b,i.point.length=y,i.hemi.length=_,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=A+E-C,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=L,B.directionalLength=x,B.pointLength=y,B.spotLength=v,B.rectAreaLength=b,B.hemiLength=_,B.numDirectionalShadows=M,B.numPointShadows=w,B.numSpotShadows=A,B.numSpotMaps=E,B.numLightProbes=L,i.version=uce++)}function c(u,f){let h=0,d=0,m=0,x=0,y=0;const v=f.matrixWorldInverse;for(let b=0,_=u.length;b<_;b++){const M=u[b];if(M.isDirectionalLight){const w=i.directional[h];w.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),h++}else if(M.isSpotLight){const w=i.spot[m];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),m++}else if(M.isRectAreaLight){const w=i.rectArea[x];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(v),a.identity(),o.copy(M.matrixWorld),o.premultiply(v),a.extractRotation(o),w.halfWidth.set(M.width*.5,0,0),w.halfHeight.set(0,M.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const w=i.point[d];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(v),d++}else if(M.isHemisphereLight){const w=i.hemi[y];w.direction.setFromMatrixPosition(M.matrixWorld),w.direction.transformDirection(v),y++}}}return{setup:l,setupView:c,state:i}}function FF(t,e){const n=new hce(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function dce(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new FF(t,e),n.set(s,[l])):o>=a.length?(l=new FF(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class mS extends Jr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=oW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ZI extends Jr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const pce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gce(t,e,n){let r=new Zy;const i=new ze,s=new ze,o=new Bn,a=new mS({depthPacking:aW}),l=new ZI,c={},u=n.maxTextureSize,f={[ja]:Qi,[Qi]:ja,[uo]:uo},h=new xi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:pce,fragmentShader:mce}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const m=new qt;m.setAttribute("position",new xn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new tr(m,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lS;let v=this.type;this.render=function(A,E,C){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const L=t.getRenderTarget(),P=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),H=t.state;H.setBlending(Oa),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const q=v!==jo&&this.type===jo,z=v===jo&&this.type!==jo;for(let K=0,Y=A.length;K<Y;K++){const ie=A[K],G=ie.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;i.copy(G.mapSize);const J=G.getFrameExtents();if(i.multiply(J),s.copy(G.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/J.x),i.x=s.x*J.x,G.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/J.y),i.y=s.y*J.y,G.mapSize.y=s.y)),G.map===null||q===!0||z===!0){const re=this.type!==jo?{minFilter:sr,magFilter:sr}:{};G.map!==null&&G.map.dispose(),G.map=new yi(i.x,i.y,re),G.map.texture.name=ie.name+".shadowMap",G.camera.updateProjectionMatrix()}t.setRenderTarget(G.map),t.clear();const te=G.getViewportCount();for(let re=0;re<te;re++){const fe=G.getViewport(re);o.set(s.x*fe.x,s.y*fe.y,s.x*fe.z,s.y*fe.w),H.viewport(o),G.updateMatrices(ie,re),r=G.getFrustum(),M(E,C,G.camera,ie,this.type)}G.isPointLightShadow!==!0&&this.type===jo&&b(G,C),G.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(L,P,B)};function b(A,E){const C=e.update(x);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,d.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new yi(i.x,i.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(E,null,C,h,x,null),d.uniforms.shadow_pass.value=A.mapPass.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(E,null,C,d,x,null)}function _(A,E,C,L){let P=null;const B=C.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(B!==void 0)P=B;else if(P=C.isPointLight===!0?l:a,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const H=P.uuid,q=E.uuid;let z=c[H];z===void 0&&(z={},c[H]=z);let K=z[q];K===void 0&&(K=P.clone(),z[q]=K,E.addEventListener("dispose",w)),P=K}if(P.visible=E.visible,P.wireframe=E.wireframe,L===jo?P.side=E.shadowSide!==null?E.shadowSide:E.side:P.side=E.shadowSide!==null?E.shadowSide:f[E.side],P.alphaMap=E.alphaMap,P.alphaTest=E.alphaTest,P.map=E.map,P.clipShadows=E.clipShadows,P.clippingPlanes=E.clippingPlanes,P.clipIntersection=E.clipIntersection,P.displacementMap=E.displacementMap,P.displacementScale=E.displacementScale,P.displacementBias=E.displacementBias,P.wireframeLinewidth=E.wireframeLinewidth,P.linewidth=E.linewidth,C.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const H=t.properties.get(P);H.light=C}return P}function M(A,E,C,L,P){if(A.visible===!1)return;if(A.layers.test(E.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===jo)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,A.matrixWorld);const q=e.update(A),z=A.material;if(Array.isArray(z)){const K=q.groups;for(let Y=0,ie=K.length;Y<ie;Y++){const G=K[Y],J=z[G.materialIndex];if(J&&J.visible){const te=_(A,J,L,P);A.onBeforeShadow(t,A,E,C,q,te,G),t.renderBufferDirect(C,null,q,te,A,G),A.onAfterShadow(t,A,E,C,q,te,G)}}}else if(z.visible){const K=_(A,z,L,P);A.onBeforeShadow(t,A,E,C,q,K,null),t.renderBufferDirect(C,null,q,K,A,null),A.onAfterShadow(t,A,E,C,q,K,null)}}const H=A.children;for(let q=0,z=H.length;q<z;q++)M(H[q],E,C,L,P)}function w(A){A.target.removeEventListener("dispose",w);for(const C in c){const L=c[C],P=A.target.uuid;P in L&&(L[P].dispose(),delete L[P])}}}function vce(t,e,n){const r=n.isWebGL2;function i(){let ae=!1;const Qe=new Bn;let st=null;const At=new Bn(0,0,0,0);return{setMask:function(Tt){st!==Tt&&!ae&&(t.colorMask(Tt,Tt,Tt,Tt),st=Tt)},setLocked:function(Tt){ae=Tt},setClear:function(Tt,Vt,Xt,bn,Xn){Xn===!0&&(Tt*=bn,Vt*=bn,Xt*=bn),Qe.set(Tt,Vt,Xt,bn),At.equals(Qe)===!1&&(t.clearColor(Tt,Vt,Xt,bn),At.copy(Qe))},reset:function(){ae=!1,st=null,At.set(-1,0,0,0)}}}function s(){let ae=!1,Qe=null,st=null,At=null;return{setTest:function(Tt){Tt?Ie(t.DEPTH_TEST):et(t.DEPTH_TEST)},setMask:function(Tt){Qe!==Tt&&!ae&&(t.depthMask(Tt),Qe=Tt)},setFunc:function(Tt){if(st!==Tt){switch(Tt){case N9:t.depthFunc(t.NEVER);break;case k9:t.depthFunc(t.ALWAYS);break;case F9:t.depthFunc(t.LESS);break;case Av:t.depthFunc(t.LEQUAL);break;case U9:t.depthFunc(t.EQUAL);break;case j9:t.depthFunc(t.GEQUAL);break;case z9:t.depthFunc(t.GREATER);break;case H9:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}st=Tt}},setLocked:function(Tt){ae=Tt},setClear:function(Tt){At!==Tt&&(t.clearDepth(Tt),At=Tt)},reset:function(){ae=!1,Qe=null,st=null,At=null}}}function o(){let ae=!1,Qe=null,st=null,At=null,Tt=null,Vt=null,Xt=null,bn=null,Xn=null;return{setTest:function(on){ae||(on?Ie(t.STENCIL_TEST):et(t.STENCIL_TEST))},setMask:function(on){Qe!==on&&!ae&&(t.stencilMask(on),Qe=on)},setFunc:function(on,de,ye){(st!==on||At!==de||Tt!==ye)&&(t.stencilFunc(on,de,ye),st=on,At=de,Tt=ye)},setOp:function(on,de,ye){(Vt!==on||Xt!==de||bn!==ye)&&(t.stencilOp(on,de,ye),Vt=on,Xt=de,bn=ye)},setLocked:function(on){ae=on},setClear:function(on){Xn!==on&&(t.clearStencil(on),Xn=on)},reset:function(){ae=!1,Qe=null,st=null,At=null,Tt=null,Vt=null,Xt=null,bn=null,Xn=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let h={},d={},m=new WeakMap,x=[],y=null,v=!1,b=null,_=null,M=null,w=null,A=null,E=null,C=null,L=new gt(0,0,0),P=0,B=!1,H=null,q=null,z=null,K=null,Y=null;const ie=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,J=0;const te=t.getParameter(t.VERSION);te.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(te)[1]),G=J>=1):te.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),G=J>=2);let re=null,fe={};const we=t.getParameter(t.SCISSOR_BOX),pe=t.getParameter(t.VIEWPORT),Ae=new Bn().fromArray(we),Pe=new Bn().fromArray(pe);function Ze(ae,Qe,st,At){const Tt=new Uint8Array(4),Vt=t.createTexture();t.bindTexture(ae,Vt),t.texParameteri(ae,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ae,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Xt=0;Xt<st;Xt++)r&&(ae===t.TEXTURE_3D||ae===t.TEXTURE_2D_ARRAY)?t.texImage3D(Qe,0,t.RGBA,1,1,At,0,t.RGBA,t.UNSIGNED_BYTE,Tt):t.texImage2D(Qe+Xt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Tt);return Vt}const nt={};nt[t.TEXTURE_2D]=Ze(t.TEXTURE_2D,t.TEXTURE_2D,1),nt[t.TEXTURE_CUBE_MAP]=Ze(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(nt[t.TEXTURE_2D_ARRAY]=Ze(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),nt[t.TEXTURE_3D]=Ze(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ie(t.DEPTH_TEST),l.setFunc(Av),it(!1),Q(_P),Ie(t.CULL_FACE),Re(Oa);function Ie(ae){h[ae]!==!0&&(t.enable(ae),h[ae]=!0)}function et(ae){h[ae]!==!1&&(t.disable(ae),h[ae]=!1)}function Xe(ae,Qe){return d[ae]!==Qe?(t.bindFramebuffer(ae,Qe),d[ae]=Qe,r&&(ae===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Qe),ae===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Qe)),!0):!1}function X(ae,Qe){let st=x,At=!1;if(ae)if(st=m.get(Qe),st===void 0&&(st=[],m.set(Qe,st)),ae.isWebGLMultipleRenderTargets){const Tt=ae.texture;if(st.length!==Tt.length||st[0]!==t.COLOR_ATTACHMENT0){for(let Vt=0,Xt=Tt.length;Vt<Xt;Vt++)st[Vt]=t.COLOR_ATTACHMENT0+Vt;st.length=Tt.length,At=!0}}else st[0]!==t.COLOR_ATTACHMENT0&&(st[0]=t.COLOR_ATTACHMENT0,At=!0);else st[0]!==t.BACK&&(st[0]=t.BACK,At=!0);At&&(n.isWebGL2?t.drawBuffers(st):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(st))}function Le(ae){return y!==ae?(t.useProgram(ae),y=ae,!0):!1}const Se={[gc]:t.FUNC_ADD,[_9]:t.FUNC_SUBTRACT,[w9]:t.FUNC_REVERSE_SUBTRACT};if(r)Se[MP]=t.MIN,Se[EP]=t.MAX;else{const ae=e.get("EXT_blend_minmax");ae!==null&&(Se[MP]=ae.MIN_EXT,Se[EP]=ae.MAX_EXT)}const Ve={[S9]:t.ZERO,[A9]:t.ONE,[M9]:t.SRC_COLOR,[_1]:t.SRC_ALPHA,[O9]:t.SRC_ALPHA_SATURATE,[P9]:t.DST_COLOR,[T9]:t.DST_ALPHA,[E9]:t.ONE_MINUS_SRC_COLOR,[w1]:t.ONE_MINUS_SRC_ALPHA,[R9]:t.ONE_MINUS_DST_COLOR,[C9]:t.ONE_MINUS_DST_ALPHA,[I9]:t.CONSTANT_COLOR,[B9]:t.ONE_MINUS_CONSTANT_COLOR,[D9]:t.CONSTANT_ALPHA,[L9]:t.ONE_MINUS_CONSTANT_ALPHA};function Re(ae,Qe,st,At,Tt,Vt,Xt,bn,Xn,on){if(ae===Oa){v===!0&&(et(t.BLEND),v=!1);return}if(v===!1&&(Ie(t.BLEND),v=!0),ae!==b9){if(ae!==b||on!==B){if((_!==gc||A!==gc)&&(t.blendEquation(t.FUNC_ADD),_=gc,A=gc),on)switch(ae){case Sf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case wP:t.blendFunc(t.ONE,t.ONE);break;case SP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case AP:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case Sf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case wP:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case AP:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}M=null,w=null,E=null,C=null,L.set(0,0,0),P=0,b=ae,B=on}return}Tt=Tt||Qe,Vt=Vt||st,Xt=Xt||At,(Qe!==_||Tt!==A)&&(t.blendEquationSeparate(Se[Qe],Se[Tt]),_=Qe,A=Tt),(st!==M||At!==w||Vt!==E||Xt!==C)&&(t.blendFuncSeparate(Ve[st],Ve[At],Ve[Vt],Ve[Xt]),M=st,w=At,E=Vt,C=Xt),(bn.equals(L)===!1||Xn!==P)&&(t.blendColor(bn.r,bn.g,bn.b,Xn),L.copy(bn),P=Xn),b=ae,B=!1}function dt(ae,Qe){ae.side===uo?et(t.CULL_FACE):Ie(t.CULL_FACE);let st=ae.side===Qi;Qe&&(st=!st),it(st),ae.blending===Sf&&ae.transparent===!1?Re(Oa):Re(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.blendColor,ae.blendAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),a.setMask(ae.colorWrite);const At=ae.stencilWrite;c.setTest(At),At&&(c.setMask(ae.stencilWriteMask),c.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),c.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),xe(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?Ie(t.SAMPLE_ALPHA_TO_COVERAGE):et(t.SAMPLE_ALPHA_TO_COVERAGE)}function it(ae){H!==ae&&(ae?t.frontFace(t.CW):t.frontFace(t.CCW),H=ae)}function Q(ae){ae!==v9?(Ie(t.CULL_FACE),ae!==q&&(ae===_P?t.cullFace(t.BACK):ae===y9?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):et(t.CULL_FACE),q=ae}function $(ae){ae!==z&&(G&&t.lineWidth(ae),z=ae)}function xe(ae,Qe,st){ae?(Ie(t.POLYGON_OFFSET_FILL),(K!==Qe||Y!==st)&&(t.polygonOffset(Qe,st),K=Qe,Y=st)):et(t.POLYGON_OFFSET_FILL)}function He(ae){ae?Ie(t.SCISSOR_TEST):et(t.SCISSOR_TEST)}function We(ae){ae===void 0&&(ae=t.TEXTURE0+ie-1),re!==ae&&(t.activeTexture(ae),re=ae)}function Ue(ae,Qe,st){st===void 0&&(re===null?st=t.TEXTURE0+ie-1:st=re);let At=fe[st];At===void 0&&(At={type:void 0,texture:void 0},fe[st]=At),(At.type!==ae||At.texture!==Qe)&&(re!==st&&(t.activeTexture(st),re=st),t.bindTexture(ae,Qe||nt[ae]),At.type=ae,At.texture=Qe)}function ut(){const ae=fe[re];ae!==void 0&&ae.type!==void 0&&(t.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function ft(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function j(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function O(){try{t.texSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function D(){try{t.texSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function V(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function he(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ge(){try{t.texStorage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function _e(){try{t.texStorage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Ke(){try{t.texImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function tt(){try{t.texImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ue(ae){Ae.equals(ae)===!1&&(t.scissor(ae.x,ae.y,ae.z,ae.w),Ae.copy(ae))}function Ce(ae){Pe.equals(ae)===!1&&(t.viewport(ae.x,ae.y,ae.z,ae.w),Pe.copy(ae))}function Ge(ae,Qe){let st=f.get(Qe);st===void 0&&(st=new WeakMap,f.set(Qe,st));let At=st.get(ae);At===void 0&&(At=t.getUniformBlockIndex(Qe,ae.name),st.set(ae,At))}function vt(ae,Qe){const At=f.get(Qe).get(ae);u.get(Qe)!==At&&(t.uniformBlockBinding(Qe,At,ae.__bindingPointIndex),u.set(Qe,At))}function $e(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},re=null,fe={},d={},m=new WeakMap,x=[],y=null,v=!1,b=null,_=null,M=null,w=null,A=null,E=null,C=null,L=new gt(0,0,0),P=0,B=!1,H=null,q=null,z=null,K=null,Y=null,Ae.set(0,0,t.canvas.width,t.canvas.height),Pe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ie,disable:et,bindFramebuffer:Xe,drawBuffers:X,useProgram:Le,setBlending:Re,setMaterial:dt,setFlipSided:it,setCullFace:Q,setLineWidth:$,setPolygonOffset:xe,setScissorTest:He,activeTexture:We,bindTexture:Ue,unbindTexture:ut,compressedTexImage2D:ft,compressedTexImage3D:j,texImage2D:Ke,texImage3D:tt,updateUBOMapping:Ge,uniformBlockBinding:vt,texStorage2D:ge,texStorage3D:_e,texSubImage2D:O,texSubImage3D:D,compressedTexSubImage2D:V,compressedTexSubImage3D:he,scissor:ue,viewport:Ce,reset:$e}}function yce(t,e,n,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(Q,$){return d?new OffscreenCanvas(Q,$):Bv("canvas")}function x(Q,$,xe,He){let We=1;if((Q.width>He||Q.height>He)&&(We=He/Math.max(Q.width,Q.height)),We<1||$===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Ue=$?M1:Math.floor,ut=Ue(We*Q.width),ft=Ue(We*Q.height);f===void 0&&(f=m(ut,ft));const j=xe?m(ut,ft):f;return j.width=ut,j.height=ft,j.getContext("2d").drawImage(Q,0,0,ut,ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ut+"x"+ft+")."),j}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function y(Q){return n2(Q.width)&&n2(Q.height)}function v(Q){return a?!1:Q.wrapS!==Zn||Q.wrapT!==Zn||Q.minFilter!==sr&&Q.minFilter!==hn}function b(Q,$){return Q.generateMipmaps&&$&&Q.minFilter!==sr&&Q.minFilter!==hn}function _(Q){t.generateMipmap(Q)}function M(Q,$,xe,He,We=!1){if(a===!1)return $;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ue=$;if($===t.RED&&(xe===t.FLOAT&&(Ue=t.R32F),xe===t.HALF_FLOAT&&(Ue=t.R16F),xe===t.UNSIGNED_BYTE&&(Ue=t.R8)),$===t.RED_INTEGER&&(xe===t.UNSIGNED_BYTE&&(Ue=t.R8UI),xe===t.UNSIGNED_SHORT&&(Ue=t.R16UI),xe===t.UNSIGNED_INT&&(Ue=t.R32UI),xe===t.BYTE&&(Ue=t.R8I),xe===t.SHORT&&(Ue=t.R16I),xe===t.INT&&(Ue=t.R32I)),$===t.RG&&(xe===t.FLOAT&&(Ue=t.RG32F),xe===t.HALF_FLOAT&&(Ue=t.RG16F),xe===t.UNSIGNED_BYTE&&(Ue=t.RG8)),$===t.RGBA){const ut=We?Cv:On.getTransfer(He);xe===t.FLOAT&&(Ue=t.RGBA32F),xe===t.HALF_FLOAT&&(Ue=t.RGBA16F),xe===t.UNSIGNED_BYTE&&(Ue=ut===zn?t.SRGB8_ALPHA8:t.RGBA8),xe===t.UNSIGNED_SHORT_4_4_4_4&&(Ue=t.RGBA4),xe===t.UNSIGNED_SHORT_5_5_5_1&&(Ue=t.RGB5_A1)}return(Ue===t.R16F||Ue===t.R32F||Ue===t.RG16F||Ue===t.RG32F||Ue===t.RGBA16F||Ue===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ue}function w(Q,$,xe){return b(Q,xe)===!0||Q.isFramebufferTexture&&Q.minFilter!==sr&&Q.minFilter!==hn?Math.log2(Math.max($.width,$.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?$.mipmaps.length:1}function A(Q){return Q===sr||Q===Ev||Q===vc?t.NEAREST:t.LINEAR}function E(Q){const $=Q.target;$.removeEventListener("dispose",E),L($),$.isVideoTexture&&u.delete($)}function C(Q){const $=Q.target;$.removeEventListener("dispose",C),B($)}function L(Q){const $=r.get(Q);if($.__webglInit===void 0)return;const xe=Q.source,He=h.get(xe);if(He){const We=He[$.__cacheKey];We.usedTimes--,We.usedTimes===0&&P(Q),Object.keys(He).length===0&&h.delete(xe)}r.remove(Q)}function P(Q){const $=r.get(Q);t.deleteTexture($.__webglTexture);const xe=Q.source,He=h.get(xe);delete He[$.__cacheKey],o.memory.textures--}function B(Q){const $=Q.texture,xe=r.get(Q),He=r.get($);if(He.__webglTexture!==void 0&&(t.deleteTexture(He.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let We=0;We<6;We++){if(Array.isArray(xe.__webglFramebuffer[We]))for(let Ue=0;Ue<xe.__webglFramebuffer[We].length;Ue++)t.deleteFramebuffer(xe.__webglFramebuffer[We][Ue]);else t.deleteFramebuffer(xe.__webglFramebuffer[We]);xe.__webglDepthbuffer&&t.deleteRenderbuffer(xe.__webglDepthbuffer[We])}else{if(Array.isArray(xe.__webglFramebuffer))for(let We=0;We<xe.__webglFramebuffer.length;We++)t.deleteFramebuffer(xe.__webglFramebuffer[We]);else t.deleteFramebuffer(xe.__webglFramebuffer);if(xe.__webglDepthbuffer&&t.deleteRenderbuffer(xe.__webglDepthbuffer),xe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(xe.__webglMultisampledFramebuffer),xe.__webglColorRenderbuffer)for(let We=0;We<xe.__webglColorRenderbuffer.length;We++)xe.__webglColorRenderbuffer[We]&&t.deleteRenderbuffer(xe.__webglColorRenderbuffer[We]);xe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(xe.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let We=0,Ue=$.length;We<Ue;We++){const ut=r.get($[We]);ut.__webglTexture&&(t.deleteTexture(ut.__webglTexture),o.memory.textures--),r.remove($[We])}r.remove($),r.remove(Q)}let H=0;function q(){H=0}function z(){const Q=H;return Q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+i.maxTextures),H+=1,Q}function K(Q){const $=[];return $.push(Q.wrapS),$.push(Q.wrapT),$.push(Q.wrapR||0),$.push(Q.magFilter),$.push(Q.minFilter),$.push(Q.anisotropy),$.push(Q.internalFormat),$.push(Q.format),$.push(Q.type),$.push(Q.generateMipmaps),$.push(Q.premultiplyAlpha),$.push(Q.flipY),$.push(Q.unpackAlignment),$.push(Q.colorSpace),$.join()}function Y(Q,$){const xe=r.get(Q);if(Q.isVideoTexture&&dt(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&xe.__version!==Q.version){const He=Q.image;if(He===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(He.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ae(xe,Q,$);return}}n.bindTexture(t.TEXTURE_2D,xe.__webglTexture,t.TEXTURE0+$)}function ie(Q,$){const xe=r.get(Q);if(Q.version>0&&xe.__version!==Q.version){Ae(xe,Q,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,xe.__webglTexture,t.TEXTURE0+$)}function G(Q,$){const xe=r.get(Q);if(Q.version>0&&xe.__version!==Q.version){Ae(xe,Q,$);return}n.bindTexture(t.TEXTURE_3D,xe.__webglTexture,t.TEXTURE0+$)}function J(Q,$){const xe=r.get(Q);if(Q.version>0&&xe.__version!==Q.version){Pe(xe,Q,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture,t.TEXTURE0+$)}const te={[Xc]:t.REPEAT,[Zn]:t.CLAMP_TO_EDGE,[tp]:t.MIRRORED_REPEAT},re={[sr]:t.NEAREST,[Ev]:t.NEAREST_MIPMAP_NEAREST,[vc]:t.NEAREST_MIPMAP_LINEAR,[hn]:t.LINEAR,[Nd]:t.LINEAR_MIPMAP_NEAREST,[po]:t.LINEAR_MIPMAP_LINEAR},fe={[cW]:t.NEVER,[mW]:t.ALWAYS,[uW]:t.LESS,[HI]:t.LEQUAL,[fW]:t.EQUAL,[pW]:t.GEQUAL,[hW]:t.GREATER,[dW]:t.NOTEQUAL};function we(Q,$,xe){if($.type===Pr&&e.has("OES_texture_float_linear")===!1&&($.magFilter===hn||$.magFilter===Nd||$.magFilter===vc||$.magFilter===po||$.minFilter===hn||$.minFilter===Nd||$.minFilter===vc||$.minFilter===po)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),xe?(t.texParameteri(Q,t.TEXTURE_WRAP_S,te[$.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,te[$.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,te[$.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,re[$.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,re[$.minFilter])):(t.texParameteri(Q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),($.wrapS!==Zn||$.wrapT!==Zn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,A($.magFilter)),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,A($.minFilter)),$.minFilter!==sr&&$.minFilter!==hn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),$.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,fe[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const He=e.get("EXT_texture_filter_anisotropic");if($.magFilter===sr||$.minFilter!==vc&&$.minFilter!==po||$.type===Pr&&e.has("OES_texture_float_linear")===!1||a===!1&&$.type===Xr&&e.has("OES_texture_half_float_linear")===!1)return;($.anisotropy>1||r.get($).__currentAnisotropy)&&(t.texParameterf(Q,He.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy)}}function pe(Q,$){let xe=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,$.addEventListener("dispose",E));const He=$.source;let We=h.get(He);We===void 0&&(We={},h.set(He,We));const Ue=K($);if(Ue!==Q.__cacheKey){We[Ue]===void 0&&(We[Ue]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,xe=!0),We[Ue].usedTimes++;const ut=We[Q.__cacheKey];ut!==void 0&&(We[Q.__cacheKey].usedTimes--,ut.usedTimes===0&&P($)),Q.__cacheKey=Ue,Q.__webglTexture=We[Ue].texture}return xe}function Ae(Q,$,xe){let He=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(He=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(He=t.TEXTURE_3D);const We=pe(Q,$),Ue=$.source;n.bindTexture(He,Q.__webglTexture,t.TEXTURE0+xe);const ut=r.get(Ue);if(Ue.version!==ut.__version||We===!0){n.activeTexture(t.TEXTURE0+xe);const ft=On.getPrimaries(On.workingColorSpace),j=$.colorSpace===Os?null:On.getPrimaries($.colorSpace),O=$.colorSpace===Os||ft===j?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,O);const D=v($)&&y($.image)===!1;let V=x($.image,D,!1,i.maxTextureSize);V=it($,V);const he=y(V)||a,ge=s.convert($.format,$.colorSpace);let _e=s.convert($.type),Ke=M($.internalFormat,ge,_e,$.colorSpace,$.isVideoTexture);we(He,$,he);let tt;const ue=$.mipmaps,Ce=a&&$.isVideoTexture!==!0&&Ke!==FI,Ge=ut.__version===void 0||We===!0,vt=Ue.dataReady,$e=w($,V,he);if($.isDepthTexture)Ke=t.DEPTH_COMPONENT,a?$.type===Pr?Ke=t.DEPTH_COMPONENT32F:$.type===Ea?Ke=t.DEPTH_COMPONENT24:$.type===Lc?Ke=t.DEPTH24_STENCIL8:Ke=t.DEPTH_COMPONENT16:$.type===Pr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),$.format===Nc&&Ke===t.DEPTH_COMPONENT&&$.type!==cS&&$.type!==Ea&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),$.type=Ea,_e=s.convert($.type)),$.format===Uf&&Ke===t.DEPTH_COMPONENT&&(Ke=t.DEPTH_STENCIL,$.type!==Lc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),$.type=Lc,_e=s.convert($.type))),Ge&&(Ce?n.texStorage2D(t.TEXTURE_2D,1,Ke,V.width,V.height):n.texImage2D(t.TEXTURE_2D,0,Ke,V.width,V.height,0,ge,_e,null));else if($.isDataTexture)if(ue.length>0&&he){Ce&&Ge&&n.texStorage2D(t.TEXTURE_2D,$e,Ke,ue[0].width,ue[0].height);for(let ae=0,Qe=ue.length;ae<Qe;ae++)tt=ue[ae],Ce?vt&&n.texSubImage2D(t.TEXTURE_2D,ae,0,0,tt.width,tt.height,ge,_e,tt.data):n.texImage2D(t.TEXTURE_2D,ae,Ke,tt.width,tt.height,0,ge,_e,tt.data);$.generateMipmaps=!1}else Ce?(Ge&&n.texStorage2D(t.TEXTURE_2D,$e,Ke,V.width,V.height),vt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,V.width,V.height,ge,_e,V.data)):n.texImage2D(t.TEXTURE_2D,0,Ke,V.width,V.height,0,ge,_e,V.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Ce&&Ge&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,Ke,ue[0].width,ue[0].height,V.depth);for(let ae=0,Qe=ue.length;ae<Qe;ae++)tt=ue[ae],$.format!==jr?ge!==null?Ce?vt&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,tt.width,tt.height,V.depth,ge,tt.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ae,Ke,tt.width,tt.height,V.depth,0,tt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ce?vt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,tt.width,tt.height,V.depth,ge,_e,tt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ae,Ke,tt.width,tt.height,V.depth,0,ge,_e,tt.data)}else{Ce&&Ge&&n.texStorage2D(t.TEXTURE_2D,$e,Ke,ue[0].width,ue[0].height);for(let ae=0,Qe=ue.length;ae<Qe;ae++)tt=ue[ae],$.format!==jr?ge!==null?Ce?vt&&n.compressedTexSubImage2D(t.TEXTURE_2D,ae,0,0,tt.width,tt.height,ge,tt.data):n.compressedTexImage2D(t.TEXTURE_2D,ae,Ke,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ce?vt&&n.texSubImage2D(t.TEXTURE_2D,ae,0,0,tt.width,tt.height,ge,_e,tt.data):n.texImage2D(t.TEXTURE_2D,ae,Ke,tt.width,tt.height,0,ge,_e,tt.data)}else if($.isDataArrayTexture)Ce?(Ge&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,Ke,V.width,V.height,V.depth),vt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,V.width,V.height,V.depth,ge,_e,V.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ke,V.width,V.height,V.depth,0,ge,_e,V.data);else if($.isData3DTexture)Ce?(Ge&&n.texStorage3D(t.TEXTURE_3D,$e,Ke,V.width,V.height,V.depth),vt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,V.width,V.height,V.depth,ge,_e,V.data)):n.texImage3D(t.TEXTURE_3D,0,Ke,V.width,V.height,V.depth,0,ge,_e,V.data);else if($.isFramebufferTexture){if(Ge)if(Ce)n.texStorage2D(t.TEXTURE_2D,$e,Ke,V.width,V.height);else{let ae=V.width,Qe=V.height;for(let st=0;st<$e;st++)n.texImage2D(t.TEXTURE_2D,st,Ke,ae,Qe,0,ge,_e,null),ae>>=1,Qe>>=1}}else if(ue.length>0&&he){Ce&&Ge&&n.texStorage2D(t.TEXTURE_2D,$e,Ke,ue[0].width,ue[0].height);for(let ae=0,Qe=ue.length;ae<Qe;ae++)tt=ue[ae],Ce?vt&&n.texSubImage2D(t.TEXTURE_2D,ae,0,0,ge,_e,tt):n.texImage2D(t.TEXTURE_2D,ae,Ke,ge,_e,tt);$.generateMipmaps=!1}else Ce?(Ge&&n.texStorage2D(t.TEXTURE_2D,$e,Ke,V.width,V.height),vt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ge,_e,V)):n.texImage2D(t.TEXTURE_2D,0,Ke,ge,_e,V);b($,he)&&_(He),ut.__version=Ue.version,$.onUpdate&&$.onUpdate($)}Q.__version=$.version}function Pe(Q,$,xe){if($.image.length!==6)return;const He=pe(Q,$),We=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+xe);const Ue=r.get(We);if(We.version!==Ue.__version||He===!0){n.activeTexture(t.TEXTURE0+xe);const ut=On.getPrimaries(On.workingColorSpace),ft=$.colorSpace===Os?null:On.getPrimaries($.colorSpace),j=$.colorSpace===Os||ut===ft?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,j);const O=$.isCompressedTexture||$.image[0].isCompressedTexture,D=$.image[0]&&$.image[0].isDataTexture,V=[];for(let ae=0;ae<6;ae++)!O&&!D?V[ae]=x($.image[ae],!1,!0,i.maxCubemapSize):V[ae]=D?$.image[ae].image:$.image[ae],V[ae]=it($,V[ae]);const he=V[0],ge=y(he)||a,_e=s.convert($.format,$.colorSpace),Ke=s.convert($.type),tt=M($.internalFormat,_e,Ke,$.colorSpace),ue=a&&$.isVideoTexture!==!0,Ce=Ue.__version===void 0||He===!0,Ge=We.dataReady;let vt=w($,he,ge);we(t.TEXTURE_CUBE_MAP,$,ge);let $e;if(O){ue&&Ce&&n.texStorage2D(t.TEXTURE_CUBE_MAP,vt,tt,he.width,he.height);for(let ae=0;ae<6;ae++){$e=V[ae].mipmaps;for(let Qe=0;Qe<$e.length;Qe++){const st=$e[Qe];$.format!==jr?_e!==null?ue?Ge&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe,0,0,st.width,st.height,_e,st.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe,tt,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?Ge&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe,0,0,st.width,st.height,_e,Ke,st.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe,tt,st.width,st.height,0,_e,Ke,st.data)}}}else{$e=$.mipmaps,ue&&Ce&&($e.length>0&&vt++,n.texStorage2D(t.TEXTURE_CUBE_MAP,vt,tt,V[0].width,V[0].height));for(let ae=0;ae<6;ae++)if(D){ue?Ge&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,V[ae].width,V[ae].height,_e,Ke,V[ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,tt,V[ae].width,V[ae].height,0,_e,Ke,V[ae].data);for(let Qe=0;Qe<$e.length;Qe++){const At=$e[Qe].image[ae].image;ue?Ge&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe+1,0,0,At.width,At.height,_e,Ke,At.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe+1,tt,At.width,At.height,0,_e,Ke,At.data)}}else{ue?Ge&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,_e,Ke,V[ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,tt,_e,Ke,V[ae]);for(let Qe=0;Qe<$e.length;Qe++){const st=$e[Qe];ue?Ge&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe+1,0,0,_e,Ke,st.image[ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Qe+1,tt,_e,Ke,st.image[ae])}}}b($,ge)&&_(t.TEXTURE_CUBE_MAP),Ue.__version=We.version,$.onUpdate&&$.onUpdate($)}Q.__version=$.version}function Ze(Q,$,xe,He,We,Ue){const ut=s.convert(xe.format,xe.colorSpace),ft=s.convert(xe.type),j=M(xe.internalFormat,ut,ft,xe.colorSpace);if(!r.get($).__hasExternalTextures){const D=Math.max(1,$.width>>Ue),V=Math.max(1,$.height>>Ue);We===t.TEXTURE_3D||We===t.TEXTURE_2D_ARRAY?n.texImage3D(We,Ue,j,D,V,$.depth,0,ut,ft,null):n.texImage2D(We,Ue,j,D,V,0,ut,ft,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),Re($)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,He,We,r.get(xe).__webglTexture,0,Ve($)):(We===t.TEXTURE_2D||We>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&We<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,He,We,r.get(xe).__webglTexture,Ue),n.bindFramebuffer(t.FRAMEBUFFER,null)}function nt(Q,$,xe){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),$.depthBuffer&&!$.stencilBuffer){let He=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(xe||Re($)){const We=$.depthTexture;We&&We.isDepthTexture&&(We.type===Pr?He=t.DEPTH_COMPONENT32F:We.type===Ea&&(He=t.DEPTH_COMPONENT24));const Ue=Ve($);Re($)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ue,He,$.width,$.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ue,He,$.width,$.height)}else t.renderbufferStorage(t.RENDERBUFFER,He,$.width,$.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Q)}else if($.depthBuffer&&$.stencilBuffer){const He=Ve($);xe&&Re($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,t.DEPTH24_STENCIL8,$.width,$.height):Re($)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,t.DEPTH24_STENCIL8,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Q)}else{const He=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let We=0;We<He.length;We++){const Ue=He[We],ut=s.convert(Ue.format,Ue.colorSpace),ft=s.convert(Ue.type),j=M(Ue.internalFormat,ut,ft,Ue.colorSpace),O=Ve($);xe&&Re($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,O,j,$.width,$.height):Re($)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,O,j,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,j,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ie(Q,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),Y($.depthTexture,0);const He=r.get($.depthTexture).__webglTexture,We=Ve($);if($.depthTexture.format===Nc)Re($)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,He,0,We):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,He,0);else if($.depthTexture.format===Uf)Re($)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,He,0,We):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,He,0);else throw new Error("Unknown depthTexture format")}function et(Q){const $=r.get(Q),xe=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!$.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");Ie($.__webglFramebuffer,Q)}else if(xe){$.__webglDepthbuffer=[];for(let He=0;He<6;He++)n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[He]),$.__webglDepthbuffer[He]=t.createRenderbuffer(),nt($.__webglDepthbuffer[He],Q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer=t.createRenderbuffer(),nt($.__webglDepthbuffer,Q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(Q,$,xe){const He=r.get(Q);$!==void 0&&Ze(He.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),xe!==void 0&&et(Q)}function X(Q){const $=Q.texture,xe=r.get(Q),He=r.get($);Q.addEventListener("dispose",C),Q.isWebGLMultipleRenderTargets!==!0&&(He.__webglTexture===void 0&&(He.__webglTexture=t.createTexture()),He.__version=$.version,o.memory.textures++);const We=Q.isWebGLCubeRenderTarget===!0,Ue=Q.isWebGLMultipleRenderTargets===!0,ut=y(Q)||a;if(We){xe.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)if(a&&$.mipmaps&&$.mipmaps.length>0){xe.__webglFramebuffer[ft]=[];for(let j=0;j<$.mipmaps.length;j++)xe.__webglFramebuffer[ft][j]=t.createFramebuffer()}else xe.__webglFramebuffer[ft]=t.createFramebuffer()}else{if(a&&$.mipmaps&&$.mipmaps.length>0){xe.__webglFramebuffer=[];for(let ft=0;ft<$.mipmaps.length;ft++)xe.__webglFramebuffer[ft]=t.createFramebuffer()}else xe.__webglFramebuffer=t.createFramebuffer();if(Ue)if(i.drawBuffers){const ft=Q.texture;for(let j=0,O=ft.length;j<O;j++){const D=r.get(ft[j]);D.__webglTexture===void 0&&(D.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Re(Q)===!1){const ft=Ue?$:[$];xe.__webglMultisampledFramebuffer=t.createFramebuffer(),xe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let j=0;j<ft.length;j++){const O=ft[j];xe.__webglColorRenderbuffer[j]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,xe.__webglColorRenderbuffer[j]);const D=s.convert(O.format,O.colorSpace),V=s.convert(O.type),he=M(O.internalFormat,D,V,O.colorSpace,Q.isXRRenderTarget===!0),ge=Ve(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,ge,he,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+j,t.RENDERBUFFER,xe.__webglColorRenderbuffer[j])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(xe.__webglDepthRenderbuffer=t.createRenderbuffer(),nt(xe.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(We){n.bindTexture(t.TEXTURE_CUBE_MAP,He.__webglTexture),we(t.TEXTURE_CUBE_MAP,$,ut);for(let ft=0;ft<6;ft++)if(a&&$.mipmaps&&$.mipmaps.length>0)for(let j=0;j<$.mipmaps.length;j++)Ze(xe.__webglFramebuffer[ft][j],Q,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft,j);else Ze(xe.__webglFramebuffer[ft],Q,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0);b($,ut)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ue){const ft=Q.texture;for(let j=0,O=ft.length;j<O;j++){const D=ft[j],V=r.get(D);n.bindTexture(t.TEXTURE_2D,V.__webglTexture),we(t.TEXTURE_2D,D,ut),Ze(xe.__webglFramebuffer,Q,D,t.COLOR_ATTACHMENT0+j,t.TEXTURE_2D,0),b(D,ut)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let ft=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?ft=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(ft,He.__webglTexture),we(ft,$,ut),a&&$.mipmaps&&$.mipmaps.length>0)for(let j=0;j<$.mipmaps.length;j++)Ze(xe.__webglFramebuffer[j],Q,$,t.COLOR_ATTACHMENT0,ft,j);else Ze(xe.__webglFramebuffer,Q,$,t.COLOR_ATTACHMENT0,ft,0);b($,ut)&&_(ft),n.unbindTexture()}Q.depthBuffer&&et(Q)}function Le(Q){const $=y(Q)||a,xe=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let He=0,We=xe.length;He<We;He++){const Ue=xe[He];if(b(Ue,$)){const ut=Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ft=r.get(Ue).__webglTexture;n.bindTexture(ut,ft),_(ut),n.unbindTexture()}}}function Se(Q){if(a&&Q.samples>0&&Re(Q)===!1){const $=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],xe=Q.width,He=Q.height;let We=t.COLOR_BUFFER_BIT;const Ue=[],ut=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ft=r.get(Q),j=Q.isWebGLMultipleRenderTargets===!0;if(j)for(let O=0;O<$.length;O++)n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+O,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+O,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let O=0;O<$.length;O++){Ue.push(t.COLOR_ATTACHMENT0+O),Q.depthBuffer&&Ue.push(ut);const D=ft.__ignoreDepthValues!==void 0?ft.__ignoreDepthValues:!1;if(D===!1&&(Q.depthBuffer&&(We|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(We|=t.STENCIL_BUFFER_BIT)),j&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ft.__webglColorRenderbuffer[O]),D===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ut]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ut])),j){const V=r.get($[O]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,V,0)}t.blitFramebuffer(0,0,xe,He,0,0,xe,He,We,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ue)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),j)for(let O=0;O<$.length;O++){n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+O,t.RENDERBUFFER,ft.__webglColorRenderbuffer[O]);const D=r.get($[O]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+O,t.TEXTURE_2D,D,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}}function Ve(Q){return Math.min(i.maxSamples,Q.samples)}function Re(Q){const $=r.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function dt(Q){const $=o.render.frame;u.get(Q)!==$&&(u.set(Q,$),Q.update())}function it(Q,$){const xe=Q.colorSpace,He=Q.format,We=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===A1||xe!==js&&xe!==Os&&(On.getTransfer(xe)===zn?a===!1?e.has("EXT_sRGB")===!0&&He===jr?(Q.format=A1,Q.minFilter=hn,Q.generateMipmaps=!1):$=VI.sRGBToLinear($):(He!==jr||We!==ks)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),$}this.allocateTextureUnit=z,this.resetTextureUnits=q,this.setTexture2D=Y,this.setTexture2DArray=ie,this.setTexture3D=G,this.setTextureCube=J,this.rebindTextures=Xe,this.setupRenderTarget=X,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=Se,this.setupDepthRenderbuffer=et,this.setupFrameBufferTexture=Ze,this.useMultisampledRTT=Re}function CW(t,e,n){const r=n.isWebGL2;function i(s,o=Os){let a;const l=On.getTransfer(o);if(s===ks)return t.UNSIGNED_BYTE;if(s===II)return t.UNSIGNED_SHORT_4_4_4_4;if(s===BI)return t.UNSIGNED_SHORT_5_5_5_1;if(s===RI)return t.BYTE;if(s===OI)return t.SHORT;if(s===cS)return t.UNSIGNED_SHORT;if(s===uS)return t.INT;if(s===Ea)return t.UNSIGNED_INT;if(s===Pr)return t.FLOAT;if(s===Xr)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===q9)return t.ALPHA;if(s===jr)return t.RGBA;if(s===Z9)return t.LUMINANCE;if(s===Q9)return t.LUMINANCE_ALPHA;if(s===Nc)return t.DEPTH_COMPONENT;if(s===Uf)return t.DEPTH_STENCIL;if(s===A1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===DI)return t.RED;if(s===LI)return t.RED_INTEGER;if(s===eW)return t.RG;if(s===NI)return t.RG_INTEGER;if(s===kI)return t.RGBA_INTEGER;if(s===C_||s===P_||s===R_||s===O_)if(l===zn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===C_)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===P_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===R_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===O_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===C_)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===P_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===R_)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===O_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===PP||s===RP||s===OP||s===IP)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===PP)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===RP)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===OP)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===IP)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===FI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===BP||s===DP)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===BP)return l===zn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===DP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===LP||s===NP||s===kP||s===FP||s===UP||s===jP||s===zP||s===HP||s===GP||s===VP||s===WP||s===$P||s===XP||s===KP)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===LP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===NP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===kP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===FP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===UP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===jP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===zP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===HP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===GP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===VP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===WP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===$P)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===XP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===KP)return l===zn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===I_||s===YP||s===JP)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===I_)return l===zn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===YP)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===JP)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===tW||s===qP||s===ZP||s===QP)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===I_)return a.COMPRESSED_RED_RGTC1_EXT;if(s===qP)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ZP)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===QP)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Lc?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class PW extends Sr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class pl extends yn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xce={type:"move"};class XE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),v=this._getHandJoint(c,x);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,m=.005;c.inputState.pinching&&h>d+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(xce)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new pl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const bce=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_ce=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class wce{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Pn,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new xi({extensions:{fragDepth:!0},vertexShader:bce,fragmentShader:_ce,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new tr(new Fl(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Sce extends kl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,h=null,d=null,m=null;const x=new wce,y=n.getContextAttributes();let v=null,b=null;const _=[],M=[],w=new ze;let A=null;const E=new Sr;E.layers.enable(1),E.viewport=new Bn;const C=new Sr;C.layers.enable(2),C.viewport=new Bn;const L=[E,C],P=new PW;P.layers.enable(1),P.layers.enable(2);let B=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let Ae=_[pe];return Ae===void 0&&(Ae=new XE,_[pe]=Ae),Ae.getTargetRaySpace()},this.getControllerGrip=function(pe){let Ae=_[pe];return Ae===void 0&&(Ae=new XE,_[pe]=Ae),Ae.getGripSpace()},this.getHand=function(pe){let Ae=_[pe];return Ae===void 0&&(Ae=new XE,_[pe]=Ae),Ae.getHandSpace()};function q(pe){const Ae=M.indexOf(pe.inputSource);if(Ae===-1)return;const Pe=_[Ae];Pe!==void 0&&(Pe.update(pe.inputSource,pe.frame,c||o),Pe.dispatchEvent({type:pe.type,data:pe.inputSource}))}function z(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",K);for(let pe=0;pe<_.length;pe++){const Ae=M[pe];Ae!==null&&(M[pe]=null,_[pe].disconnect(Ae))}B=null,H=null,x.reset(),e.setRenderTarget(v),d=null,h=null,f=null,i=null,b=null,we.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(w.width,w.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(pe){s=pe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){a=pe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(pe){c=pe},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(pe){if(i=pe,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",z),i.addEventListener("inputsourceschange",K),y.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(w),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Ae={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,n,Ae),i.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),b=new yi(d.framebufferWidth,d.framebufferHeight,{format:jr,type:ks,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Ae=null,Pe=null,Ze=null;y.depth&&(Ze=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ae=y.stencil?Uf:Nc,Pe=y.stencil?Lc:Ea);const nt={colorFormat:n.RGBA8,depthFormat:Ze,scaleFactor:s};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(nt),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),b=new yi(h.textureWidth,h.textureHeight,{format:jr,type:ks,depthTexture:new qI(h.textureWidth,h.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const Ie=e.properties.get(b);Ie.__ignoreDepthValues=h.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),we.setContext(i),we.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function K(pe){for(let Ae=0;Ae<pe.removed.length;Ae++){const Pe=pe.removed[Ae],Ze=M.indexOf(Pe);Ze>=0&&(M[Ze]=null,_[Ze].disconnect(Pe))}for(let Ae=0;Ae<pe.added.length;Ae++){const Pe=pe.added[Ae];let Ze=M.indexOf(Pe);if(Ze===-1){for(let Ie=0;Ie<_.length;Ie++)if(Ie>=M.length){M.push(Pe),Ze=Ie;break}else if(M[Ie]===null){M[Ie]=Pe,Ze=Ie;break}if(Ze===-1)break}const nt=_[Ze];nt&&nt.connect(Pe)}}const Y=new Z,ie=new Z;function G(pe,Ae,Pe){Y.setFromMatrixPosition(Ae.matrixWorld),ie.setFromMatrixPosition(Pe.matrixWorld);const Ze=Y.distanceTo(ie),nt=Ae.projectionMatrix.elements,Ie=Pe.projectionMatrix.elements,et=nt[14]/(nt[10]-1),Xe=nt[14]/(nt[10]+1),X=(nt[9]+1)/nt[5],Le=(nt[9]-1)/nt[5],Se=(nt[8]-1)/nt[0],Ve=(Ie[8]+1)/Ie[0],Re=et*Se,dt=et*Ve,it=Ze/(-Se+Ve),Q=it*-Se;Ae.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(Q),pe.translateZ(it),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert();const $=et+it,xe=Xe+it,He=Re-Q,We=dt+(Ze-Q),Ue=X*Xe/xe*$,ut=Le*Xe/xe*$;pe.projectionMatrix.makePerspective(He,We,Ue,ut,$,xe),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}function J(pe,Ae){Ae===null?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices(Ae.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(i===null)return;x.texture!==null&&(pe.near=x.depthNear,pe.far=x.depthFar),P.near=C.near=E.near=pe.near,P.far=C.far=E.far=pe.far,(B!==P.near||H!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),B=P.near,H=P.far,E.near=B,E.far=H,C.near=B,C.far=H,E.updateProjectionMatrix(),C.updateProjectionMatrix(),pe.updateProjectionMatrix());const Ae=pe.parent,Pe=P.cameras;J(P,Ae);for(let Ze=0;Ze<Pe.length;Ze++)J(Pe[Ze],Ae);Pe.length===2?G(P,E,C):P.projectionMatrix.copy(E.projectionMatrix),te(pe,P,Ae)};function te(pe,Ae,Pe){Pe===null?pe.matrix.copy(Ae.matrixWorld):(pe.matrix.copy(Pe.matrixWorld),pe.matrix.invert(),pe.matrix.multiply(Ae.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy(Ae.projectionMatrix),pe.projectionMatrixInverse.copy(Ae.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=rp*2*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(pe){l=pe,h!==null&&(h.fixedFoveation=pe),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=pe)},this.hasDepthSensing=function(){return x.texture!==null};let re=null;function fe(pe,Ae){if(u=Ae.getViewerPose(c||o),m=Ae,u!==null){const Pe=u.views;d!==null&&(e.setRenderTargetFramebuffer(b,d.framebuffer),e.setRenderTarget(b));let Ze=!1;Pe.length!==P.cameras.length&&(P.cameras.length=0,Ze=!0);for(let Ie=0;Ie<Pe.length;Ie++){const et=Pe[Ie];let Xe=null;if(d!==null)Xe=d.getViewport(et);else{const Le=f.getViewSubImage(h,et);Xe=Le.viewport,Ie===0&&(e.setRenderTargetTextures(b,Le.colorTexture,h.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(b))}let X=L[Ie];X===void 0&&(X=new Sr,X.layers.enable(Ie),X.viewport=new Bn,L[Ie]=X),X.matrix.fromArray(et.transform.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale),X.projectionMatrix.fromArray(et.projectionMatrix),X.projectionMatrixInverse.copy(X.projectionMatrix).invert(),X.viewport.set(Xe.x,Xe.y,Xe.width,Xe.height),Ie===0&&(P.matrix.copy(X.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Ze===!0&&P.cameras.push(X)}const nt=i.enabledFeatures;if(nt&&nt.includes("depth-sensing")){const Ie=f.getDepthInformation(Pe[0]);Ie&&Ie.isValid&&Ie.texture&&x.init(e,Ie,i.renderState)}}for(let Pe=0;Pe<_.length;Pe++){const Ze=M[Pe],nt=_[Pe];Ze!==null&&nt!==void 0&&nt.update(Ze,Ae,c||o)}x.render(e,P),re&&re(pe,Ae),Ae.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ae}),m=null}const we=new wW;we.setAnimationLoop(fe),this.setAnimationLoop=function(pe){re=pe},this.dispose=function(){}}}function Ace(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,bW(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,b,_,M){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),f(y,v)):v.isMeshPhongMaterial?(s(y,v),u(y,v)):v.isMeshStandardMaterial?(s(y,v),h(y,v),v.isMeshPhysicalMaterial&&d(y,v,M)):v.isMeshMatcapMaterial?(s(y,v),m(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),x(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&a(y,v)):v.isPointsMaterial?l(y,v,b,_):v.isSpriteMaterial?c(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Qi&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Qi&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const b=e.get(v).envMap;if(b&&(y.envMap.value=b,y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap){y.lightMap.value=v.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=v.lightMapIntensity*_,n(v.lightMap,y.lightMapTransform)}v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function a(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,b,_){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*b,y.scale.value=_*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function h(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),e.get(v).envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function d(y,v,b){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Qi&&y.clearcoatNormalScale.value.negate())),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function m(y,v){v.matcap&&(y.matcap.value=v.matcap)}function x(y,v){const b=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Mce(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(b,_){const M=_.program;r.uniformBlockBinding(b,M)}function c(b,_){let M=i[b.id];M===void 0&&(m(b),M=u(b),i[b.id]=M,b.addEventListener("dispose",y));const w=_.program;r.updateUBOMapping(b,w);const A=e.render.frame;s[b.id]!==A&&(h(b),s[b.id]=A)}function u(b){const _=f();b.__bindingPointIndex=_;const M=t.createBuffer(),w=b.__size,A=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,w,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,M),M}function f(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(b){const _=i[b.id],M=b.uniforms,w=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let A=0,E=M.length;A<E;A++){const C=Array.isArray(M[A])?M[A]:[M[A]];for(let L=0,P=C.length;L<P;L++){const B=C[L];if(d(B,A,L,w)===!0){const H=B.__offset,q=Array.isArray(B.value)?B.value:[B.value];let z=0;for(let K=0;K<q.length;K++){const Y=q[K],ie=x(Y);typeof Y=="number"||typeof Y=="boolean"?(B.__data[0]=Y,t.bufferSubData(t.UNIFORM_BUFFER,H+z,B.__data)):Y.isMatrix3?(B.__data[0]=Y.elements[0],B.__data[1]=Y.elements[1],B.__data[2]=Y.elements[2],B.__data[3]=0,B.__data[4]=Y.elements[3],B.__data[5]=Y.elements[4],B.__data[6]=Y.elements[5],B.__data[7]=0,B.__data[8]=Y.elements[6],B.__data[9]=Y.elements[7],B.__data[10]=Y.elements[8],B.__data[11]=0):(Y.toArray(B.__data,z),z+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,H,B.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(b,_,M,w){const A=b.value,E=_+"_"+M;if(w[E]===void 0)return typeof A=="number"||typeof A=="boolean"?w[E]=A:w[E]=A.clone(),!0;{const C=w[E];if(typeof A=="number"||typeof A=="boolean"){if(C!==A)return w[E]=A,!0}else if(C.equals(A)===!1)return C.copy(A),!0}return!1}function m(b){const _=b.uniforms;let M=0;const w=16;for(let E=0,C=_.length;E<C;E++){const L=Array.isArray(_[E])?_[E]:[_[E]];for(let P=0,B=L.length;P<B;P++){const H=L[P],q=Array.isArray(H.value)?H.value:[H.value];for(let z=0,K=q.length;z<K;z++){const Y=q[z],ie=x(Y),G=M%w;G!==0&&w-G<ie.boundary&&(M+=w-G),H.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=M,M+=ie.storage}}}const A=M%w;return A>0&&(M+=w-A),b.__size=M,b.__cache={},this}function x(b){const _={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function y(b){const _=b.target;_.removeEventListener("dispose",y);const M=o.indexOf(_.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function v(){for(const b in i)t.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:c,dispose:v}}class gS{constructor(e={}){const{canvas:n=vW(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=o;const d=new Uint32Array(4),m=new Int32Array(4);let x=null,y=null;const v=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Fr,this._useLegacyLights=!1,this.toneMapping=Ia,this.toneMappingExposure=1;const _=this;let M=!1,w=0,A=0,E=null,C=-1,L=null;const P=new Bn,B=new Bn;let H=null;const q=new gt(0);let z=0,K=n.width,Y=n.height,ie=1,G=null,J=null;const te=new Bn(0,0,K,Y),re=new Bn(0,0,K,Y);let fe=!1;const we=new Zy;let pe=!1,Ae=!1,Pe=null;const Ze=new Ft,nt=new ze,Ie=new Z,et={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Xe(){return E===null?ie:1}let X=r;function Le(F,ee){for(let ne=0;ne<F.length;ne++){const le=F[ne],se=n.getContext(le,ee);if(se!==null)return se}return null}try{const F={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Fp}`),n.addEventListener("webglcontextlost",$e,!1),n.addEventListener("webglcontextrestored",ae,!1),n.addEventListener("webglcontextcreationerror",Qe,!1),X===null){const ee=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ee.shift(),X=Le(ee,F),X===null)throw Le(ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let Se,Ve,Re,dt,it,Q,$,xe,He,We,Ue,ut,ft,j,O,D,V,he,ge,_e,Ke,tt,ue,Ce;function Ge(){Se=new Nae(X),Ve=new Rae(X,Se,e),Se.init(Ve),tt=new CW(X,Se,Ve),Re=new vce(X,Se,Ve),dt=new Uae(X),it=new sce,Q=new yce(X,Se,Re,it,Ve,tt,dt),$=new Iae(_),xe=new Lae(_),He=new Xie(X,Ve),ue=new Cae(X,Se,He,Ve),We=new kae(X,He,dt,ue),Ue=new Gae(X,We,He,dt),ge=new Hae(X,Ve,Q),D=new Oae(it),ut=new ice(_,$,xe,Se,Ve,ue,D),ft=new Ace(_,it),j=new ace,O=new dce(Se,Ve),he=new Tae(_,$,xe,Re,Ue,h,l),V=new gce(_,Ue,Ve),Ce=new Mce(X,dt,Ve,Re),_e=new Pae(X,Se,dt,Ve),Ke=new Fae(X,Se,dt,Ve),dt.programs=ut.programs,_.capabilities=Ve,_.extensions=Se,_.properties=it,_.renderLists=j,_.shadowMap=V,_.state=Re,_.info=dt}Ge();const vt=new Sce(_,X);this.xr=vt,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const F=Se.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=Se.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(F){F!==void 0&&(ie=F,this.setSize(K,Y,!1))},this.getSize=function(F){return F.set(K,Y)},this.setSize=function(F,ee,ne=!0){if(vt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=F,Y=ee,n.width=Math.floor(F*ie),n.height=Math.floor(ee*ie),ne===!0&&(n.style.width=F+"px",n.style.height=ee+"px"),this.setViewport(0,0,F,ee)},this.getDrawingBufferSize=function(F){return F.set(K*ie,Y*ie).floor()},this.setDrawingBufferSize=function(F,ee,ne){K=F,Y=ee,ie=ne,n.width=Math.floor(F*ne),n.height=Math.floor(ee*ne),this.setViewport(0,0,F,ee)},this.getCurrentViewport=function(F){return F.copy(P)},this.getViewport=function(F){return F.copy(te)},this.setViewport=function(F,ee,ne,le){F.isVector4?te.set(F.x,F.y,F.z,F.w):te.set(F,ee,ne,le),Re.viewport(P.copy(te).multiplyScalar(ie).floor())},this.getScissor=function(F){return F.copy(re)},this.setScissor=function(F,ee,ne,le){F.isVector4?re.set(F.x,F.y,F.z,F.w):re.set(F,ee,ne,le),Re.scissor(B.copy(re).multiplyScalar(ie).floor())},this.getScissorTest=function(){return fe},this.setScissorTest=function(F){Re.setScissorTest(fe=F)},this.setOpaqueSort=function(F){G=F},this.setTransparentSort=function(F){J=F},this.getClearColor=function(F){return F.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor.apply(he,arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha.apply(he,arguments)},this.clear=function(F=!0,ee=!0,ne=!0){let le=0;if(F){let se=!1;if(E!==null){const Me=E.texture.format;se=Me===kI||Me===NI||Me===LI}if(se){const Me=E.texture.type,Oe=Me===ks||Me===Ea||Me===cS||Me===Lc||Me===II||Me===BI,De=he.getClearColor(),Be=he.getClearAlpha(),bt=De.r,Ye=De.g,qe=De.b;Oe?(d[0]=bt,d[1]=Ye,d[2]=qe,d[3]=Be,X.clearBufferuiv(X.COLOR,0,d)):(m[0]=bt,m[1]=Ye,m[2]=qe,m[3]=Be,X.clearBufferiv(X.COLOR,0,m))}else le|=X.COLOR_BUFFER_BIT}ee&&(le|=X.DEPTH_BUFFER_BIT),ne&&(le|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",$e,!1),n.removeEventListener("webglcontextrestored",ae,!1),n.removeEventListener("webglcontextcreationerror",Qe,!1),j.dispose(),O.dispose(),it.dispose(),$.dispose(),xe.dispose(),Ue.dispose(),ue.dispose(),Ce.dispose(),ut.dispose(),vt.dispose(),vt.removeEventListener("sessionstart",Xn),vt.removeEventListener("sessionend",on),Pe&&(Pe.dispose(),Pe=null),de.stop()};function $e(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ae(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const F=dt.autoReset,ee=V.enabled,ne=V.autoUpdate,le=V.needsUpdate,se=V.type;Ge(),dt.autoReset=F,V.enabled=ee,V.autoUpdate=ne,V.needsUpdate=le,V.type=se}function Qe(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function st(F){const ee=F.target;ee.removeEventListener("dispose",st),At(ee)}function At(F){Tt(F),it.remove(F)}function Tt(F){const ee=it.get(F).programs;ee!==void 0&&(ee.forEach(function(ne){ut.releaseProgram(ne)}),F.isShaderMaterial&&ut.releaseShaderCache(F))}this.renderBufferDirect=function(F,ee,ne,le,se,Me){ee===null&&(ee=et);const Oe=se.isMesh&&se.matrixWorld.determinant()<0,De=k(F,ee,ne,le,se);Re.setMaterial(le,Oe);let Be=ne.index,bt=1;if(le.wireframe===!0){if(Be=We.getWireframeAttribute(ne),Be===void 0)return;bt=2}const Ye=ne.drawRange,qe=ne.attributes.position;let wt=Ye.start*bt,It=(Ye.start+Ye.count)*bt;Me!==null&&(wt=Math.max(wt,Me.start*bt),It=Math.min(It,(Me.start+Me.count)*bt)),Be!==null?(wt=Math.max(wt,0),It=Math.min(It,Be.count)):qe!=null&&(wt=Math.max(wt,0),It=Math.min(It,qe.count));const ht=It-wt;if(ht<0||ht===1/0)return;ue.setup(se,le,De,ne,Be);let Et,yt=_e;if(Be!==null&&(Et=He.get(Be),yt=Ke,yt.setIndex(Et)),se.isMesh)le.wireframe===!0?(Re.setLineWidth(le.wireframeLinewidth*Xe()),yt.setMode(X.LINES)):yt.setMode(X.TRIANGLES);else if(se.isLine){let ct=le.linewidth;ct===void 0&&(ct=1),Re.setLineWidth(ct*Xe()),se.isLineSegments?yt.setMode(X.LINES):se.isLineLoop?yt.setMode(X.LINE_LOOP):yt.setMode(X.LINE_STRIP)}else se.isPoints?yt.setMode(X.POINTS):se.isSprite&&yt.setMode(X.TRIANGLES);if(se.isBatchedMesh)yt.renderMultiDraw(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount);else if(se.isInstancedMesh)yt.renderInstances(wt,ht,se.count);else if(ne.isInstancedBufferGeometry){const ct=ne._maxInstanceCount!==void 0?ne._maxInstanceCount:1/0,Dt=Math.min(ne.instanceCount,ct);yt.renderInstances(wt,ht,Dt)}else yt.render(wt,ht)};function Vt(F,ee,ne){F.transparent===!0&&F.side===uo&&F.forceSinglePass===!1?(F.side=Qi,F.needsUpdate=!0,ot(F,ee,ne),F.side=ja,F.needsUpdate=!0,ot(F,ee,ne),F.side=uo):ot(F,ee,ne)}this.compile=function(F,ee,ne=null){ne===null&&(ne=F),y=O.get(ne),y.init(),b.push(y),ne.traverseVisible(function(se){se.isLight&&se.layers.test(ee.layers)&&(y.pushLight(se),se.castShadow&&y.pushShadow(se))}),F!==ne&&F.traverseVisible(function(se){se.isLight&&se.layers.test(ee.layers)&&(y.pushLight(se),se.castShadow&&y.pushShadow(se))}),y.setupLights(_._useLegacyLights);const le=new Set;return F.traverse(function(se){const Me=se.material;if(Me)if(Array.isArray(Me))for(let Oe=0;Oe<Me.length;Oe++){const De=Me[Oe];Vt(De,ne,se),le.add(De)}else Vt(Me,ne,se),le.add(Me)}),b.pop(),y=null,le},this.compileAsync=function(F,ee,ne=null){const le=this.compile(F,ee,ne);return new Promise(se=>{function Me(){if(le.forEach(function(Oe){it.get(Oe).currentProgram.isReady()&&le.delete(Oe)}),le.size===0){se(F);return}setTimeout(Me,10)}Se.get("KHR_parallel_shader_compile")!==null?Me():setTimeout(Me,10)})};let Xt=null;function bn(F){Xt&&Xt(F)}function Xn(){de.stop()}function on(){de.start()}const de=new wW;de.setAnimationLoop(bn),typeof self<"u"&&de.setContext(self),this.setAnimationLoop=function(F){Xt=F,vt.setAnimationLoop(F),F===null?de.stop():de.start()},vt.addEventListener("sessionstart",Xn),vt.addEventListener("sessionend",on),this.render=function(F,ee){if(ee!==void 0&&ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ee.parent===null&&ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),vt.enabled===!0&&vt.isPresenting===!0&&(vt.cameraAutoUpdate===!0&&vt.updateCamera(ee),ee=vt.getCamera()),F.isScene===!0&&F.onBeforeRender(_,F,ee,E),y=O.get(F,b.length),y.init(),b.push(y),Ze.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),we.setFromProjectionMatrix(Ze),Ae=this.localClippingEnabled,pe=D.init(this.clippingPlanes,Ae),x=j.get(F,v.length),x.init(),v.push(x),ye(F,ee,0,_.sortObjects),x.finish(),_.sortObjects===!0&&x.sort(G,J),this.info.render.frame++,pe===!0&&D.beginShadows();const ne=y.state.shadowsArray;if(V.render(ne,F,ee),pe===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),(vt.enabled===!1||vt.isPresenting===!1||vt.hasDepthSensing()===!1)&&he.render(x,F),y.setupLights(_._useLegacyLights),ee.isArrayCamera){const le=ee.cameras;for(let se=0,Me=le.length;se<Me;se++){const Oe=le[se];Ee(x,F,Oe,Oe.viewport)}}else Ee(x,F,ee);E!==null&&(Q.updateMultisampleRenderTarget(E),Q.updateRenderTargetMipmap(E)),F.isScene===!0&&F.onAfterRender(_,F,ee),ue.resetDefaultState(),C=-1,L=null,b.pop(),b.length>0?y=b[b.length-1]:y=null,v.pop(),v.length>0?x=v[v.length-1]:x=null};function ye(F,ee,ne,le){if(F.visible===!1)return;if(F.layers.test(ee.layers)){if(F.isGroup)ne=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(ee);else if(F.isLight)y.pushLight(F),F.castShadow&&y.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||we.intersectsSprite(F)){le&&Ie.setFromMatrixPosition(F.matrixWorld).applyMatrix4(Ze);const Oe=Ue.update(F),De=F.material;De.visible&&x.push(F,Oe,De,ne,Ie.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||we.intersectsObject(F))){const Oe=Ue.update(F),De=F.material;if(le&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),Ie.copy(F.boundingSphere.center)):(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),Ie.copy(Oe.boundingSphere.center)),Ie.applyMatrix4(F.matrixWorld).applyMatrix4(Ze)),Array.isArray(De)){const Be=Oe.groups;for(let bt=0,Ye=Be.length;bt<Ye;bt++){const qe=Be[bt],wt=De[qe.materialIndex];wt&&wt.visible&&x.push(F,Oe,wt,ne,Ie.z,qe)}}else De.visible&&x.push(F,Oe,De,ne,Ie.z,null)}}const Me=F.children;for(let Oe=0,De=Me.length;Oe<De;Oe++)ye(Me[Oe],ee,ne,le)}function Ee(F,ee,ne,le){const se=F.opaque,Me=F.transmissive,Oe=F.transparent;y.setupLightsView(ne),pe===!0&&D.setGlobalState(_.clippingPlanes,ne),Me.length>0&&Je(se,Me,ee,ne),le&&Re.viewport(P.copy(le)),se.length>0&&at(se,ee,ne),Me.length>0&&at(Me,ee,ne),Oe.length>0&&at(Oe,ee,ne),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function Je(F,ee,ne,le){if((ne.isScene===!0?ne.overrideMaterial:null)!==null)return;const Me=Ve.isWebGL2;Pe===null&&(Pe=new yi(1,1,{generateMipmaps:!0,type:Se.has("EXT_color_buffer_half_float")?Xr:ks,minFilter:po,samples:Me?4:0})),_.getDrawingBufferSize(nt),Me?Pe.setSize(nt.x,nt.y):Pe.setSize(M1(nt.x),M1(nt.y));const Oe=_.getRenderTarget();_.setRenderTarget(Pe),_.getClearColor(q),z=_.getClearAlpha(),z<1&&_.setClearColor(16777215,.5),_.clear();const De=_.toneMapping;_.toneMapping=Ia,at(F,ne,le),Q.updateMultisampleRenderTarget(Pe),Q.updateRenderTargetMipmap(Pe);let Be=!1;for(let bt=0,Ye=ee.length;bt<Ye;bt++){const qe=ee[bt],wt=qe.object,It=qe.geometry,ht=qe.material,Et=qe.group;if(ht.side===uo&&wt.layers.test(le.layers)){const yt=ht.side;ht.side=Qi,ht.needsUpdate=!0,Mt(wt,ne,le,It,ht,Et),ht.side=yt,ht.needsUpdate=!0,Be=!0}}Be===!0&&(Q.updateMultisampleRenderTarget(Pe),Q.updateRenderTargetMipmap(Pe)),_.setRenderTarget(Oe),_.setClearColor(q,z),_.toneMapping=De}function at(F,ee,ne){const le=ee.isScene===!0?ee.overrideMaterial:null;for(let se=0,Me=F.length;se<Me;se++){const Oe=F[se],De=Oe.object,Be=Oe.geometry,bt=le===null?Oe.material:le,Ye=Oe.group;De.layers.test(ne.layers)&&Mt(De,ee,ne,Be,bt,Ye)}}function Mt(F,ee,ne,le,se,Me){F.onBeforeRender(_,ee,ne,le,se,Me),F.modelViewMatrix.multiplyMatrices(ne.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),se.onBeforeRender(_,ee,ne,le,F,Me),se.transparent===!0&&se.side===uo&&se.forceSinglePass===!1?(se.side=Qi,se.needsUpdate=!0,_.renderBufferDirect(ne,ee,le,se,F,Me),se.side=ja,se.needsUpdate=!0,_.renderBufferDirect(ne,ee,le,se,F,Me),se.side=uo):_.renderBufferDirect(ne,ee,le,se,F,Me),F.onAfterRender(_,ee,ne,le,se,Me)}function ot(F,ee,ne){ee.isScene!==!0&&(ee=et);const le=it.get(F),se=y.state.lights,Me=y.state.shadowsArray,Oe=se.state.version,De=ut.getParameters(F,se.state,Me,ee,ne),Be=ut.getProgramCacheKey(De);let bt=le.programs;le.environment=F.isMeshStandardMaterial?ee.environment:null,le.fog=ee.fog,le.envMap=(F.isMeshStandardMaterial?xe:$).get(F.envMap||le.environment),bt===void 0&&(F.addEventListener("dispose",st),bt=new Map,le.programs=bt);let Ye=bt.get(Be);if(Ye!==void 0){if(le.currentProgram===Ye&&le.lightsStateVersion===Oe)return Ct(F,De),Ye}else De.uniforms=ut.getUniforms(F),F.onBuild(ne,De,_),F.onBeforeCompile(De,_),Ye=ut.acquireProgram(De,Be),bt.set(Be,Ye),le.uniforms=De.uniforms;const qe=le.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(qe.clippingPlanes=D.uniform),Ct(F,De),le.needsLights=ce(F),le.lightsStateVersion=Oe,le.needsLights&&(qe.ambientLightColor.value=se.state.ambient,qe.lightProbe.value=se.state.probe,qe.directionalLights.value=se.state.directional,qe.directionalLightShadows.value=se.state.directionalShadow,qe.spotLights.value=se.state.spot,qe.spotLightShadows.value=se.state.spotShadow,qe.rectAreaLights.value=se.state.rectArea,qe.ltc_1.value=se.state.rectAreaLTC1,qe.ltc_2.value=se.state.rectAreaLTC2,qe.pointLights.value=se.state.point,qe.pointLightShadows.value=se.state.pointShadow,qe.hemisphereLights.value=se.state.hemi,qe.directionalShadowMap.value=se.state.directionalShadowMap,qe.directionalShadowMatrix.value=se.state.directionalShadowMatrix,qe.spotShadowMap.value=se.state.spotShadowMap,qe.spotLightMatrix.value=se.state.spotLightMatrix,qe.spotLightMap.value=se.state.spotLightMap,qe.pointShadowMap.value=se.state.pointShadowMap,qe.pointShadowMatrix.value=se.state.pointShadowMatrix),le.currentProgram=Ye,le.uniformsList=null,Ye}function St(F){if(F.uniformsList===null){const ee=F.currentProgram.getUniforms();F.uniformsList=D_.seqWithValue(ee.seq,F.uniforms)}return F.uniformsList}function Ct(F,ee){const ne=it.get(F);ne.outputColorSpace=ee.outputColorSpace,ne.batching=ee.batching,ne.instancing=ee.instancing,ne.instancingColor=ee.instancingColor,ne.skinning=ee.skinning,ne.morphTargets=ee.morphTargets,ne.morphNormals=ee.morphNormals,ne.morphColors=ee.morphColors,ne.morphTargetsCount=ee.morphTargetsCount,ne.numClippingPlanes=ee.numClippingPlanes,ne.numIntersection=ee.numClipIntersection,ne.vertexAlphas=ee.vertexAlphas,ne.vertexTangents=ee.vertexTangents,ne.toneMapping=ee.toneMapping}function k(F,ee,ne,le,se){ee.isScene!==!0&&(ee=et),Q.resetTextureUnits();const Me=ee.fog,Oe=le.isMeshStandardMaterial?ee.environment:null,De=E===null?_.outputColorSpace:E.isXRRenderTarget===!0?E.texture.colorSpace:js,Be=(le.isMeshStandardMaterial?xe:$).get(le.envMap||Oe),bt=le.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,Ye=!!ne.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),qe=!!ne.morphAttributes.position,wt=!!ne.morphAttributes.normal,It=!!ne.morphAttributes.color;let ht=Ia;le.toneMapped&&(E===null||E.isXRRenderTarget===!0)&&(ht=_.toneMapping);const Et=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,yt=Et!==void 0?Et.length:0,ct=it.get(le),Dt=y.state.lights;if(pe===!0&&(Ae===!0||F!==L)){const Kt=F===L&&le.id===C;D.setState(le,F,Kt)}let Nt=!1;le.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==Dt.state.version||ct.outputColorSpace!==De||se.isBatchedMesh&&ct.batching===!1||!se.isBatchedMesh&&ct.batching===!0||se.isInstancedMesh&&ct.instancing===!1||!se.isInstancedMesh&&ct.instancing===!0||se.isSkinnedMesh&&ct.skinning===!1||!se.isSkinnedMesh&&ct.skinning===!0||se.isInstancedMesh&&ct.instancingColor===!0&&se.instanceColor===null||se.isInstancedMesh&&ct.instancingColor===!1&&se.instanceColor!==null||ct.envMap!==Be||le.fog===!0&&ct.fog!==Me||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==D.numPlanes||ct.numIntersection!==D.numIntersection)||ct.vertexAlphas!==bt||ct.vertexTangents!==Ye||ct.morphTargets!==qe||ct.morphNormals!==wt||ct.morphColors!==It||ct.toneMapping!==ht||Ve.isWebGL2===!0&&ct.morphTargetsCount!==yt)&&(Nt=!0):(Nt=!0,ct.__version=le.version);let zt=ct.currentProgram;Nt===!0&&(zt=ot(le,ee,se));let Tn=!1,gr=!1,nr=!1;const mn=zt.getUniforms(),sn=ct.uniforms;if(Re.useProgram(zt.program)&&(Tn=!0,gr=!0,nr=!0),le.id!==C&&(C=le.id,gr=!0),Tn||L!==F){mn.setValue(X,"projectionMatrix",F.projectionMatrix),mn.setValue(X,"viewMatrix",F.matrixWorldInverse);const Kt=mn.map.cameraPosition;Kt!==void 0&&Kt.setValue(X,Ie.setFromMatrixPosition(F.matrixWorld)),Ve.logarithmicDepthBuffer&&mn.setValue(X,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&mn.setValue(X,"isOrthographic",F.isOrthographicCamera===!0),L!==F&&(L=F,gr=!0,nr=!0)}if(se.isSkinnedMesh){mn.setOptional(X,se,"bindMatrix"),mn.setOptional(X,se,"bindMatrixInverse");const Kt=se.skeleton;Kt&&(Ve.floatVertexTextures?(Kt.boneTexture===null&&Kt.computeBoneTexture(),mn.setValue(X,"boneTexture",Kt.boneTexture,Q)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}se.isBatchedMesh&&(mn.setOptional(X,se,"batchingTexture"),mn.setValue(X,"batchingTexture",se._matricesTexture,Q));const lr=ne.morphAttributes;if((lr.position!==void 0||lr.normal!==void 0||lr.color!==void 0&&Ve.isWebGL2===!0)&&ge.update(se,ne,zt),(gr||ct.receiveShadow!==se.receiveShadow)&&(ct.receiveShadow=se.receiveShadow,mn.setValue(X,"receiveShadow",se.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(sn.envMap.value=Be,sn.flipEnvMap.value=Be.isCubeTexture&&Be.isRenderTargetTexture===!1?-1:1),gr&&(mn.setValue(X,"toneMappingExposure",_.toneMappingExposure),ct.needsLights&&W(sn,nr),Me&&le.fog===!0&&ft.refreshFogUniforms(sn,Me),ft.refreshMaterialUniforms(sn,le,ie,Y,Pe),D_.upload(X,St(ct),sn,Q)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(D_.upload(X,St(ct),sn,Q),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&mn.setValue(X,"center",se.center),mn.setValue(X,"modelViewMatrix",se.modelViewMatrix),mn.setValue(X,"normalMatrix",se.normalMatrix),mn.setValue(X,"modelMatrix",se.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const Kt=le.uniformsGroups;for(let cn=0,jn=Kt.length;cn<jn;cn++)if(Ve.isWebGL2){const Vs=Kt[cn];Ce.update(Vs,zt),Ce.bind(Vs,zt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return zt}function W(F,ee){F.ambientLightColor.needsUpdate=ee,F.lightProbe.needsUpdate=ee,F.directionalLights.needsUpdate=ee,F.directionalLightShadows.needsUpdate=ee,F.pointLights.needsUpdate=ee,F.pointLightShadows.needsUpdate=ee,F.spotLights.needsUpdate=ee,F.spotLightShadows.needsUpdate=ee,F.rectAreaLights.needsUpdate=ee,F.hemisphereLights.needsUpdate=ee}function ce(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(F,ee,ne){it.get(F.texture).__webglTexture=ee,it.get(F.depthTexture).__webglTexture=ne;const le=it.get(F);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=ne===void 0,le.__autoAllocateDepthBuffer||Se.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,ee){const ne=it.get(F);ne.__webglFramebuffer=ee,ne.__useDefaultFramebuffer=ee===void 0},this.setRenderTarget=function(F,ee=0,ne=0){E=F,w=ee,A=ne;let le=!0,se=null,Me=!1,Oe=!1;if(F){const Be=it.get(F);Be.__useDefaultFramebuffer!==void 0?(Re.bindFramebuffer(X.FRAMEBUFFER,null),le=!1):Be.__webglFramebuffer===void 0?Q.setupRenderTarget(F):Be.__hasExternalTextures&&Q.rebindTextures(F,it.get(F.texture).__webglTexture,it.get(F.depthTexture).__webglTexture);const bt=F.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(Oe=!0);const Ye=it.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(Ye[ee])?se=Ye[ee][ne]:se=Ye[ee],Me=!0):Ve.isWebGL2&&F.samples>0&&Q.useMultisampledRTT(F)===!1?se=it.get(F).__webglMultisampledFramebuffer:Array.isArray(Ye)?se=Ye[ne]:se=Ye,P.copy(F.viewport),B.copy(F.scissor),H=F.scissorTest}else P.copy(te).multiplyScalar(ie).floor(),B.copy(re).multiplyScalar(ie).floor(),H=fe;if(Re.bindFramebuffer(X.FRAMEBUFFER,se)&&Ve.drawBuffers&&le&&Re.drawBuffers(F,se),Re.viewport(P),Re.scissor(B),Re.setScissorTest(H),Me){const Be=it.get(F.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Be.__webglTexture,ne)}else if(Oe){const Be=it.get(F.texture),bt=ee||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,Be.__webglTexture,ne||0,bt)}C=-1},this.readRenderTargetPixels=function(F,ee,ne,le,se,Me,Oe){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let De=it.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Oe!==void 0&&(De=De[Oe]),De){Re.bindFramebuffer(X.FRAMEBUFFER,De);try{const Be=F.texture,bt=Be.format,Ye=Be.type;if(bt!==jr&&tt.convert(bt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const qe=Ye===Xr&&(Se.has("EXT_color_buffer_half_float")||Ve.isWebGL2&&Se.has("EXT_color_buffer_float"));if(Ye!==ks&&tt.convert(Ye)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ye===Pr&&(Ve.isWebGL2||Se.has("OES_texture_float")||Se.has("WEBGL_color_buffer_float")))&&!qe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ee>=0&&ee<=F.width-le&&ne>=0&&ne<=F.height-se&&X.readPixels(ee,ne,le,se,tt.convert(bt),tt.convert(Ye),Me)}finally{const Be=E!==null?it.get(E).__webglFramebuffer:null;Re.bindFramebuffer(X.FRAMEBUFFER,Be)}}},this.copyFramebufferToTexture=function(F,ee,ne=0){const le=Math.pow(2,-ne),se=Math.floor(ee.image.width*le),Me=Math.floor(ee.image.height*le);Q.setTexture2D(ee,0),X.copyTexSubImage2D(X.TEXTURE_2D,ne,0,0,F.x,F.y,se,Me),Re.unbindTexture()},this.copyTextureToTexture=function(F,ee,ne,le=0){const se=ee.image.width,Me=ee.image.height,Oe=tt.convert(ne.format),De=tt.convert(ne.type);Q.setTexture2D(ne,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ne.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ne.unpackAlignment),ee.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,le,F.x,F.y,se,Me,Oe,De,ee.image.data):ee.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,le,F.x,F.y,ee.mipmaps[0].width,ee.mipmaps[0].height,Oe,ee.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,le,F.x,F.y,Oe,De,ee.image),le===0&&ne.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),Re.unbindTexture()},this.copyTextureToTexture3D=function(F,ee,ne,le,se=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Me=F.max.x-F.min.x+1,Oe=F.max.y-F.min.y+1,De=F.max.z-F.min.z+1,Be=tt.convert(le.format),bt=tt.convert(le.type);let Ye;if(le.isData3DTexture)Q.setTexture3D(le,0),Ye=X.TEXTURE_3D;else if(le.isDataArrayTexture||le.isCompressedArrayTexture)Q.setTexture2DArray(le,0),Ye=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,le.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,le.unpackAlignment);const qe=X.getParameter(X.UNPACK_ROW_LENGTH),wt=X.getParameter(X.UNPACK_IMAGE_HEIGHT),It=X.getParameter(X.UNPACK_SKIP_PIXELS),ht=X.getParameter(X.UNPACK_SKIP_ROWS),Et=X.getParameter(X.UNPACK_SKIP_IMAGES),yt=ne.isCompressedTexture?ne.mipmaps[se]:ne.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,yt.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,yt.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,F.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,F.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,F.min.z),ne.isDataTexture||ne.isData3DTexture?X.texSubImage3D(Ye,se,ee.x,ee.y,ee.z,Me,Oe,De,Be,bt,yt.data):ne.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(Ye,se,ee.x,ee.y,ee.z,Me,Oe,De,Be,yt.data)):X.texSubImage3D(Ye,se,ee.x,ee.y,ee.z,Me,Oe,De,Be,bt,yt),X.pixelStorei(X.UNPACK_ROW_LENGTH,qe),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,wt),X.pixelStorei(X.UNPACK_SKIP_PIXELS,It),X.pixelStorei(X.UNPACK_SKIP_ROWS,ht),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Et),se===0&&le.generateMipmaps&&X.generateMipmap(Ye),Re.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?Q.setTextureCube(F,0):F.isData3DTexture?Q.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Q.setTexture2DArray(F,0):Q.setTexture2D(F,0),Re.unbindTexture()},this.resetState=function(){w=0,A=0,E=null,Re.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ta}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===hS?"display-p3":"srgb",n.unpackColorSpace=On.workingColorSpace===Ky?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Fr?kc:zI}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===kc?Fr:js}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class RW extends gS{}RW.prototype.isWebGL1Renderer=!0;class vS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new gt(e),this.density=n}clone(){return new vS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new gt(e),this.near=n,this.far=r}clone(){return new yS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Qy extends yn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class e0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ov,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Fs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Mf("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Wi=new Z;class Kc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Wi.fromBufferAttribute(this,n),Wi.applyMatrix4(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Wi.fromBufferAttribute(this,n),Wi.applyNormalMatrix(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Wi.fromBufferAttribute(this,n),Wi.transformDirection(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Yi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Yt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Yt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Yt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Yt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Yt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Yi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Yi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Yi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Yi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array),i=Yt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yt(n,this.array),r=Yt(r,this.array),i=Yt(i,this.array),s=Yt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new xn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Kc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QI extends Jr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jh;const Hm=new Z,zh=new Z,Hh=new Z,Gh=new ze,Gm=new ze,OW=new Ft,ib=new Z,Vm=new Z,sb=new Z,UF=new ze,KE=new ze,jF=new ze;class IW extends yn{constructor(e=new QI){if(super(),this.isSprite=!0,this.type="Sprite",jh===void 0){jh=new qt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new e0(n,5);jh.setIndex([0,1,2,0,2,3]),jh.setAttribute("position",new Kc(r,3,0,!1)),jh.setAttribute("uv",new Kc(r,2,3,!1))}this.geometry=jh,this.material=e,this.center=new ze(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zh.setFromMatrixScale(this.matrixWorld),OW.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Hh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zh.multiplyScalar(-Hh.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;ob(ib.set(-.5,-.5,0),Hh,o,zh,i,s),ob(Vm.set(.5,-.5,0),Hh,o,zh,i,s),ob(sb.set(.5,.5,0),Hh,o,zh,i,s),UF.set(0,0),KE.set(1,0),jF.set(1,1);let a=e.ray.intersectTriangle(ib,Vm,sb,!1,Hm);if(a===null&&(ob(Vm.set(-.5,.5,0),Hh,o,zh,i,s),KE.set(0,1),a=e.ray.intersectTriangle(ib,sb,Vm,!1,Hm),a===null))return;const l=e.ray.origin.distanceTo(Hm);l<e.near||l>e.far||n.push({distance:l,point:Hm.clone(),uv:Is.getInterpolation(Hm,ib,Vm,sb,UF,KE,jF,new ze),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ob(t,e,n,r,i,s){Gh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Gm.x=s*Gh.x-i*Gh.y,Gm.y=i*Gh.x+s*Gh.y):Gm.copy(Gh),t.copy(e),t.x+=Gm.x,t.y+=Gm.y,t.applyMatrix4(OW)}const ab=new Z,zF=new Z;class BW extends yn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){ab.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ab);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){ab.setFromMatrixPosition(e.matrixWorld),zF.setFromMatrixPosition(this.matrixWorld);const r=ab.distanceTo(zF)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const HF=new Z,GF=new Bn,VF=new Bn,Ece=new Z,WF=new Ft,lb=new Z,YE=new ai,$F=new Ft,JE=new eh;class eB extends tr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=TP,this.bindMatrix=new Ft,this.bindMatrixInverse=new Ft,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Yr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,lb),this.boundingBox.expandByPoint(lb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ai),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,lb),this.boundingSphere.expandByPoint(lb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),YE.copy(this.boundingSphere),YE.applyMatrix4(i),e.ray.intersectsSphere(YE)!==!1&&($F.copy(i).invert(),JE.copy(e.ray).applyMatrix4($F),!(this.boundingBox!==null&&JE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,JE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Bn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===TP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===J9?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;GF.fromBufferAttribute(i.attributes.skinIndex,e),VF.fromBufferAttribute(i.attributes.skinWeight,e),HF.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=VF.getComponent(s);if(o!==0){const a=GF.getComponent(s);WF.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Ece.copy(HF).applyMatrix4(WF),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class xS extends yn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fc extends Pn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=sr,u=sr,f,h){super(null,o,a,l,c,u,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const XF=new Ft,Tce=new Ft;class t0{constructor(e=[],n=[]){this.uuid=Fs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ft)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ft;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Tce;XF.multiplyMatrices(a,n[s]),XF.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new t0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Fc(n,e,e,jr,Pr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new xS),this.bones.push(o),this.boneInverses.push(new Ft().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class zf extends xn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vh=new Ft,KF=new Ft,cb=[],YF=new Yr,Cce=new Ft,Wm=new tr,$m=new ai;class tB extends tr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new zf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Cce)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Yr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Vh),YF.copy(e.boundingBox).applyMatrix4(Vh),this.boundingBox.union(YF)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ai),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Vh),$m.copy(e.boundingSphere).applyMatrix4(Vh),this.boundingSphere.union($m)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Wm.geometry=this.geometry,Wm.material=this.material,Wm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$m.copy(this.boundingSphere),$m.applyMatrix4(r),e.ray.intersectsSphere($m)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Vh),KF.multiplyMatrices(r,Vh),Wm.matrixWorld=KF,Wm.raycast(e,cb);for(let o=0,a=cb.length;o<a;o++){const l=cb[o];l.instanceId=s,l.object=this,n.push(l)}cb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new zf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Pce(t,e){return t.z-e.z}function Rce(t,e){return e.z-t.z}class Oce{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const Wh="batchId",rc=new Ft,JF=new Ft,Ice=new Ft,qF=new Ft,qE=new Zy,ub=new Yr,Eu=new ai,Xm=new Z,ZE=new Oce,Pi=new tr,fb=[];function Bce(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class DW extends tr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new qt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Fc(n,e,e,jr,Pr);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:f}=l,h=new c.constructor(r*u),d=new l.constructor(h,u,f);d.setUsage(l.usage),n.setAttribute(a,d)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new xn(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Wh,new xn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Wh))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Wh}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Wh)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yr);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,rc),this.getBoundingBoxAt(i,ub).applyMatrix4(rc),n.union(ub))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,rc),this.getBoundingSphereAt(i,Eu).applyMatrix4(rc),n.union(Eu))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,h=this._active,d=this._matricesTexture,m=this._matricesTexture.image.data;f.push(!0),h.push(!0);const x=this._geometryCount;this._geometryCount++,Ice.toArray(m,x*16),d.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Yr,sphereInitialized:!1,sphere:new ai});const y=this.geometry.getAttribute(Wh);for(let v=0;v<i.vertexCount;v++)y.setX(i.vertexStart+v,x);return y.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const d in r.attributes){if(d===Wh)continue;const m=n.getAttribute(d),x=r.getAttribute(d);Bce(m,x,l);const y=m.itemSize;for(let v=m.count,b=c;v<b;v++){const _=l+v;for(let M=0;M<y;M++)x.setComponent(_,M,0)}x.needsUpdate=!0}if(i){const d=a.indexStart;for(let m=0;m<o.count;m++)s.setX(d+m,l+o.getX(m));for(let m=o.count,x=a.indexCount;m<x;m++)s.setX(d+m,l);s.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],h=n.getAttribute("position");return f.count=i?o.count:h.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let h=u;a&&(h=a.getX(h)),s.expandByPoint(Xm.fromBufferAttribute(l,h))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,ub),ub.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,h=c.start+c.count;f<h;f++){let d=f;a&&(d=a.getX(d)),Xm.fromBufferAttribute(l,d),u=Math.max(u,s.center.distanceToSquared(Xm))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Pi.material=this.material,Pi.geometry.index=l.index,Pi.geometry.attributes=l.attributes,Pi.geometry.boundingBox===null&&(Pi.geometry.boundingBox=new Yr),Pi.geometry.boundingSphere===null&&(Pi.geometry.boundingSphere=new ai);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];Pi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Pi.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Pi.geometry.boundingBox),this.getBoundingSphereAt(c,Pi.geometry.boundingSphere),Pi.raycast(e,fb);for(let f=0,h=fb.length;f<h;f++){const d=fb[f];d.object=this,d.batchId=c,n.push(d)}fb.length=0}Pi.material=null,Pi.geometry.index=null,Pi.geometry.attributes={},Pi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,f=this._multiDrawCounts,h=this._drawRanges,d=this.perObjectFrustumCulled;d&&(qF.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),qE.setFromProjectionMatrix(qF,e.coordinateSystem));let m=0;if(this.sortObjects){JF.copy(this.matrixWorld).invert(),Xm.setFromMatrixPosition(r.matrixWorld).applyMatrix4(JF);for(let v=0,b=c.length;v<b;v++)if(c[v]&&l[v]){this.getMatrixAt(v,rc),this.getBoundingSphereAt(v,Eu).applyMatrix4(rc);let _=!1;if(d&&(_=!qE.intersectsSphere(Eu)),!_){const M=Xm.distanceTo(Eu.center);ZE.push(h[v],M)}}const x=ZE.list,y=this.customSort;y===null?x.sort(s.transparent?Rce:Pce):y.call(this,x,r);for(let v=0,b=x.length;v<b;v++){const _=x[v];u[m]=_.start*a,f[m]=_.count,m++}ZE.reset()}else for(let x=0,y=c.length;x<y;x++)if(c[x]&&l[x]){let v=!1;if(d&&(this.getMatrixAt(x,rc),this.getBoundingSphereAt(x,Eu).applyMatrix4(rc),v=!qE.intersectsSphere(Eu)),!v){const b=h[x];u[m]=b.start*a,f[m]=b.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class zi extends Jr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ZF=new Z,QF=new Z,eU=new Ft,QE=new eh,hb=new ai;let Cl=class extends yn{constructor(e=new qt,n=new zi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)ZF.fromBufferAttribute(n,i-1),QF.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=ZF.distanceTo(QF);e.setAttribute("lineDistance",new Bt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),hb.copy(r.boundingSphere),hb.applyMatrix4(i),hb.radius+=s,e.ray.intersectsSphere(hb)===!1)return;eU.copy(i).invert(),QE.copy(e.ray).applyMatrix4(eU);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Z,u=new Z,f=new Z,h=new Z,d=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const v=Math.max(0,o.start),b=Math.min(m.count,o.start+o.count);for(let _=v,M=b-1;_<M;_+=d){const w=m.getX(_),A=m.getX(_+1);if(c.fromBufferAttribute(y,w),u.fromBufferAttribute(y,A),QE.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),b=Math.min(y.count,o.start+o.count);for(let _=v,M=b-1;_<M;_+=d){if(c.fromBufferAttribute(y,_),u.fromBufferAttribute(y,_+1),QE.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(h);A<e.near||A>e.far||n.push({distance:A,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const tU=new Z,nU=new Z;class ia extends Cl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)tU.fromBufferAttribute(n,i),nU.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+tU.distanceTo(nU);e.setAttribute("lineDistance",new Bt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class nB extends Cl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class bS extends Jr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const rU=new Ft,s2=new eh,db=new ai,pb=new Z;class rB extends yn{constructor(e=new qt,n=new bS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),db.copy(r.boundingSphere),db.applyMatrix4(i),db.radius+=s,e.ray.intersectsSphere(db)===!1)return;rU.copy(i).invert(),s2.copy(e.ray).applyMatrix4(rU);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),d=Math.min(c.count,o.start+o.count);for(let m=h,x=d;m<x;m++){const y=c.getX(m);pb.fromBufferAttribute(f,y),iU(pb,y,l,i,e,n,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let m=h,x=d;m<x;m++)pb.fromBufferAttribute(f,m),iU(pb,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function iU(t,e,n,r,i,s,o){const a=s2.distanceSqToPoint(t);if(a<n){const l=new Z;s2.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Dce extends Pn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:hn,this.magFilter=s!==void 0?s:hn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Lce extends Pn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=sr,this.minFilter=sr,this.generateMipmaps=!1,this.needsUpdate=!0}}class _S extends Pn{constructor(e,n,r,i,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Nce extends _S{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Zn}}class kce extends _S{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,za),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Fce extends Pn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let sa=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],h=r[i+1]-u,d=(o-u)/h;return(i+d)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ze:new Z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Z,i=[],s=[],o=[],a=new Z,l=new Ft;for(let d=0;d<=e;d++){const m=d/e;i[d]=this.getTangentAt(m,new Z)}s[0]=new Z,o[0]=new Z;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(i[d-1],i[d]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(wr(i[d-1].dot(i[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(a,m))}o[d].crossVectors(i[d],s[d])}if(n===!0){let d=Math.acos(wr(s[0].dot(s[e]),-1,1));d/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(i[m],d*m)),o[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class wS extends sa{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ze,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class LW extends wS{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function iB(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,d=(a-o)/u-(l-o)/(u+f)+(l-a)/f;h*=u,d*=u,i(o,a,h,d)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const mb=new Z,eT=new iB,tT=new iB,nT=new iB;class NW extends sa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Z){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(mb.subVectors(i[0],i[1]).add(i[0]),c=mb);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(mb.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=mb),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(f),d),x=Math.pow(f.distanceToSquared(h),d),y=Math.pow(h.distanceToSquared(u),d);x<1e-4&&(x=1),m<1e-4&&(m=x),y<1e-4&&(y=x),eT.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,m,x,y),tT.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,m,x,y),nT.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,m,x,y)}else this.curveType==="catmullrom"&&(eT.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),tT.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),nT.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return r.set(eT.calc(l),tT.calc(l),nT.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function sU(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Uce(t,e){const n=1-t;return n*n*e}function jce(t,e){return 2*(1-t)*t*e}function zce(t,e){return t*t*e}function jg(t,e,n,r){return Uce(t,e)+jce(t,n)+zce(t,r)}function Hce(t,e){const n=1-t;return n*n*n*e}function Gce(t,e){const n=1-t;return 3*n*n*t*e}function Vce(t,e){return 3*(1-t)*t*t*e}function Wce(t,e){return t*t*t*e}function zg(t,e,n,r,i){return Hce(t,e)+Gce(t,n)+Vce(t,r)+Wce(t,i)}class sB extends sa{constructor(e=new ze,n=new ze,r=new ze,i=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(zg(e,i.x,s.x,o.x,a.x),zg(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kW extends sa{constructor(e=new Z,n=new Z,r=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Z){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(zg(e,i.x,s.x,o.x,a.x),zg(e,i.y,s.y,o.y,a.y),zg(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class oB extends sa{constructor(e=new ze,n=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ze){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ze){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FW extends sa{constructor(e=new Z,n=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Z){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Z){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aB extends sa{constructor(e=new ze,n=new ze,r=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(jg(e,i.x,s.x,o.x),jg(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lB extends sa{constructor(e=new Z,n=new Z,r=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Z){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(jg(e,i.x,s.x,o.x),jg(e,i.y,s.y,o.y),jg(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cB extends sa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ze){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(sU(a,l.x,c.x,u.x,f.x),sU(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ze().fromArray(i))}return this}}var E1=Object.freeze({__proto__:null,ArcCurve:LW,CatmullRomCurve3:NW,CubicBezierCurve:sB,CubicBezierCurve3:kW,EllipseCurve:wS,LineCurve:oB,LineCurve3:FW,QuadraticBezierCurve:aB,QuadraticBezierCurve3:lB,SplineCurve:cB});class UW extends sa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new E1[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new E1[i.type]().fromJSON(i))}return this}}let Dv=class extends UW{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new oB(this.currentPoint.clone(),new ze(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new aB(this.currentPoint.clone(),new ze(e,n),new ze(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new sB(this.currentPoint.clone(),new ze(e,n),new ze(r,i),new ze(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new cB(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new wS(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class n0 extends qt{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=wr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,f=new Z,h=new ze,d=new Z,m=new Z,x=new Z;let y=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,d.x=v*1,d.y=-y,d.z=v*0,x.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,d.x=v*1,d.y=-y,d.z=v*0,m.copy(d),d.x+=x.x,d.y+=x.y,d.z+=x.z,d.normalize(),l.push(d.x,d.y,d.z),x.copy(m)}for(let b=0;b<=n;b++){const _=r+b*u*i,M=Math.sin(_),w=Math.cos(_);for(let A=0;A<=e.length-1;A++){f.x=e[A].x*M,f.y=e[A].y,f.z=e[A].x*w,o.push(f.x,f.y,f.z),h.x=b/n,h.y=A/(e.length-1),a.push(h.x,h.y);const E=l[3*A+0]*M,C=l[3*A+1],L=l[3*A+0]*w;c.push(E,C,L)}}for(let b=0;b<n;b++)for(let _=0;_<e.length-1;_++){const M=_+b*e.length,w=M,A=M+e.length,E=M+e.length+1,C=M+1;s.push(w,A,C),s.push(E,C,A)}this.setIndex(s),this.setAttribute("position",new Bt(o,3)),this.setAttribute("uv",new Bt(a,2)),this.setAttribute("normal",new Bt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n0(e.points,e.segments,e.phiStart,e.phiLength)}}class SS extends n0{constructor(e=1,n=1,r=4,i=8){const s=new Dv;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new SS(e.radius,e.length,e.capSegments,e.radialSegments)}}class AS extends qt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new Z,u=new ze;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=r+f/n*i;c.x=e*Math.cos(d),c.y=e*Math.sin(d),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Bt(o,3)),this.setAttribute("normal",new Bt(a,3)),this.setAttribute("uv",new Bt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class zp extends qt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],h=[],d=[];let m=0;const x=[],y=r/2;let v=0;b(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Bt(f,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(d,2));function b(){const M=new Z,w=new Z;let A=0;const E=(n-e)/r;for(let C=0;C<=s;C++){const L=[],P=C/s,B=P*(n-e)+e;for(let H=0;H<=i;H++){const q=H/i,z=q*l+a,K=Math.sin(z),Y=Math.cos(z);w.x=B*K,w.y=-P*r+y,w.z=B*Y,f.push(w.x,w.y,w.z),M.set(K,E,Y).normalize(),h.push(M.x,M.y,M.z),d.push(q,1-P),L.push(m++)}x.push(L)}for(let C=0;C<i;C++)for(let L=0;L<s;L++){const P=x[L][C],B=x[L+1][C],H=x[L+1][C+1],q=x[L][C+1];u.push(P,B,q),u.push(B,H,q),A+=6}c.addGroup(v,A,0),v+=A}function _(M){const w=m,A=new ze,E=new Z;let C=0;const L=M===!0?e:n,P=M===!0?1:-1;for(let H=1;H<=i;H++)f.push(0,y*P,0),h.push(0,P,0),d.push(.5,.5),m++;const B=m;for(let H=0;H<=i;H++){const z=H/i*l+a,K=Math.cos(z),Y=Math.sin(z);E.x=L*Y,E.y=y*P,E.z=L*K,f.push(E.x,E.y,E.z),h.push(0,P,0),A.x=K*.5+.5,A.y=Y*.5*P+.5,d.push(A.x,A.y),m++}for(let H=0;H<i;H++){const q=w+H,z=B+H;M===!0?u.push(z,z+1,q):u.push(z+1,z,q),C+=3}c.addGroup(v,C,M===!0?1:2),v+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class MS extends zp{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new MS(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class su extends qt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Bt(s,3)),this.setAttribute("normal",new Bt(s.slice(),3)),this.setAttribute("uv",new Bt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const _=new Z,M=new Z,w=new Z;for(let A=0;A<n.length;A+=3)d(n[A+0],_),d(n[A+1],M),d(n[A+2],w),l(_,M,w,b)}function l(b,_,M,w){const A=w+1,E=[];for(let C=0;C<=A;C++){E[C]=[];const L=b.clone().lerp(M,C/A),P=_.clone().lerp(M,C/A),B=A-C;for(let H=0;H<=B;H++)H===0&&C===A?E[C][H]=L:E[C][H]=L.clone().lerp(P,H/B)}for(let C=0;C<A;C++)for(let L=0;L<2*(A-C)-1;L++){const P=Math.floor(L/2);L%2===0?(h(E[C][P+1]),h(E[C+1][P]),h(E[C][P])):(h(E[C][P+1]),h(E[C+1][P+1]),h(E[C+1][P]))}}function c(b){const _=new Z;for(let M=0;M<s.length;M+=3)_.x=s[M+0],_.y=s[M+1],_.z=s[M+2],_.normalize().multiplyScalar(b),s[M+0]=_.x,s[M+1]=_.y,s[M+2]=_.z}function u(){const b=new Z;for(let _=0;_<s.length;_+=3){b.x=s[_+0],b.y=s[_+1],b.z=s[_+2];const M=y(b)/2/Math.PI+.5,w=v(b)/Math.PI+.5;o.push(M,1-w)}m(),f()}function f(){for(let b=0;b<o.length;b+=6){const _=o[b+0],M=o[b+2],w=o[b+4],A=Math.max(_,M,w),E=Math.min(_,M,w);A>.9&&E<.1&&(_<.2&&(o[b+0]+=1),M<.2&&(o[b+2]+=1),w<.2&&(o[b+4]+=1))}}function h(b){s.push(b.x,b.y,b.z)}function d(b,_){const M=b*3;_.x=e[M+0],_.y=e[M+1],_.z=e[M+2]}function m(){const b=new Z,_=new Z,M=new Z,w=new Z,A=new ze,E=new ze,C=new ze;for(let L=0,P=0;L<s.length;L+=9,P+=6){b.set(s[L+0],s[L+1],s[L+2]),_.set(s[L+3],s[L+4],s[L+5]),M.set(s[L+6],s[L+7],s[L+8]),A.set(o[P+0],o[P+1]),E.set(o[P+2],o[P+3]),C.set(o[P+4],o[P+5]),w.copy(b).add(_).add(M).divideScalar(3);const B=y(w);x(A,P+0,b,B),x(E,P+2,_,B),x(C,P+4,M,B)}}function x(b,_,M,w){w<0&&b.x===1&&(o[_]=b.x-1),M.x===0&&M.z===0&&(o[_]=w/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new su(e.vertices,e.indices,e.radius,e.details)}}class ES extends su{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ES(e.radius,e.detail)}}const gb=new Z,vb=new Z,rT=new Z,yb=new Is;class jW extends qt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Af*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},d=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:x,b:y,c:v}=yb;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),yb.getNormal(rT),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const _=(b+1)%3,M=f[b],w=f[_],A=yb[u[b]],E=yb[u[_]],C=`${M}_${w}`,L=`${w}_${M}`;L in h&&h[L]?(rT.dot(h[L].normal)<=s&&(d.push(A.x,A.y,A.z),d.push(E.x,E.y,E.z)),h[L]=null):C in h||(h[C]={index0:c[b],index1:c[_],normal:rT.clone()})}}for(const m in h)if(h[m]){const{index0:x,index1:y}=h[m];gb.fromBufferAttribute(a,x),vb.fromBufferAttribute(a,y),d.push(gb.x,gb.y,gb.z),d.push(vb.x,vb.y,vb.z)}this.setAttribute("position",new Bt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Tf=class extends Dv{constructor(e){super(e),this.uuid=Fs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Dv().fromJSON(i))}return this}};const $ce={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=zW(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,h,d;if(r&&(s=qce(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let m=n;m<i;m+=n)f=t[m],h=t[m+1],f<a&&(a=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);d=Math.max(c-a,u-l),d=d!==0?32767/d:0}return Lv(s,o,n,a,l,d,0),o}};function zW(t,e,n,r,i){let s,o;if(i===lue(t,e,n,r)>0)for(s=e;s<n;s+=r)o=oU(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=oU(s,t[s],t[s+1],o);return o&&TS(o,o.next)&&(kv(o),o=o.next),o}function Hf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(TS(n,n.next)||fr(n.prev,n,n.next)===0)){if(kv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Lv(t,e,n,r,i,s,o){if(!t)return;!o&&s&&nue(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?Kce(t,r,i,s):Xce(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),kv(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Yce(Hf(t),e,n),Lv(t,e,n,r,i,s,2)):o===2&&Jce(t,e,n,r,i,s):Lv(Hf(t),e,n,r,i,s,1);break}}}function Xce(t){const e=t.prev,n=t,r=t.next;if(fr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,h=i>s?i>o?i:o:s>o?s:o,d=a>l?a>c?a:c:l>c?l:c;let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=h&&m.y>=f&&m.y<=d&&yd(i,a,s,l,o,c,m.x,m.y)&&fr(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Kce(t,e,n,r){const i=t.prev,s=t,o=t.next;if(fr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,h=o.y,d=a<l?a<c?a:c:l<c?l:c,m=u<f?u<h?u:h:f<h?f:h,x=a>l?a>c?a:c:l>c?l:c,y=u>f?u>h?u:h:f>h?f:h,v=o2(d,m,e,n,r),b=o2(x,y,e,n,r);let _=t.prevZ,M=t.nextZ;for(;_&&_.z>=v&&M&&M.z<=b;){if(_.x>=d&&_.x<=x&&_.y>=m&&_.y<=y&&_!==i&&_!==o&&yd(a,u,l,f,c,h,_.x,_.y)&&fr(_.prev,_,_.next)>=0||(_=_.prevZ,M.x>=d&&M.x<=x&&M.y>=m&&M.y<=y&&M!==i&&M!==o&&yd(a,u,l,f,c,h,M.x,M.y)&&fr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;_&&_.z>=v;){if(_.x>=d&&_.x<=x&&_.y>=m&&_.y<=y&&_!==i&&_!==o&&yd(a,u,l,f,c,h,_.x,_.y)&&fr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;M&&M.z<=b;){if(M.x>=d&&M.x<=x&&M.y>=m&&M.y<=y&&M!==i&&M!==o&&yd(a,u,l,f,c,h,M.x,M.y)&&fr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Yce(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!TS(i,s)&&HW(i,r,r.next,s)&&Nv(i,s)&&Nv(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),kv(r),kv(r.next),r=t=s),r=r.next}while(r!==t);return Hf(r)}function Jce(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&sue(o,a)){let l=GW(o,a);o=Hf(o,o.next),l=Hf(l,l.next),Lv(o,e,n,r,i,s,0),Lv(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function qce(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=zW(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(iue(c));for(i.sort(Zce),s=0;s<i.length;s++)n=Qce(i[s],n);return n}function Zce(t,e){return t.x-e.x}function Qce(t,e){const n=eue(t,e);if(!n)return e;const r=GW(n,t);return Hf(r,r.next),Hf(n,n.next)}function eue(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&yd(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),Nv(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&tue(i,n)))&&(i=n,u=f)),n=n.next;while(n!==a);return i}function tue(t,e){return fr(t.prev,t,e.prev)<0&&fr(e.next,t,t.next)<0}function nue(t,e,n,r){let i=t;do i.z===0&&(i.z=o2(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,rue(i)}function rue(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function o2(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function iue(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function yd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function sue(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!oue(t,e)&&(Nv(t,e)&&Nv(e,t)&&aue(t,e)&&(fr(t.prev,t,e.prev)||fr(t,e.prev,e))||TS(t,e)&&fr(t.prev,t,t.next)>0&&fr(e.prev,e,e.next)>0)}function fr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function TS(t,e){return t.x===e.x&&t.y===e.y}function HW(t,e,n,r){const i=bb(fr(t,e,n)),s=bb(fr(t,e,r)),o=bb(fr(n,r,t)),a=bb(fr(n,r,e));return!!(i!==s&&o!==a||i===0&&xb(t,n,e)||s===0&&xb(t,r,e)||o===0&&xb(n,t,r)||a===0&&xb(n,e,r))}function xb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function bb(t){return t>0?1:t<0?-1:0}function oue(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&HW(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Nv(t,e){return fr(t.prev,t,t.next)<0?fr(t,e,t.next)>=0&&fr(t,t.prev,e)>=0:fr(t,e,t.prev)<0||fr(t,t.next,e)<0}function aue(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function GW(t,e){const n=new a2(t.i,t.x,t.y),r=new a2(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function oU(t,e,n,r){const i=new a2(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function kv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function a2(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lue(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Da{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Da.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];aU(e),lU(r,e);let o=e.length;n.forEach(aU);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,lU(r,n[l]);const a=$ce.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function aU(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function lU(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class CS extends qt{constructor(e=new Tf([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Bt(i,3)),this.setAttribute("uv",new Bt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:d-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:cue;let _,M=!1,w,A,E,C;v&&(_=v.getSpacedPoints(u),M=!0,h=!1,w=v.computeFrenetFrames(u,!1),A=new Z,E=new Z,C=new Z),h||(y=0,d=0,m=0,x=0);const L=a.extractPoints(c);let P=L.shape;const B=L.holes;if(!Da.isClockWise(P)){P=P.reverse();for(let X=0,Le=B.length;X<Le;X++){const Se=B[X];Da.isClockWise(Se)&&(B[X]=Se.reverse())}}const q=Da.triangulateShape(P,B),z=P;for(let X=0,Le=B.length;X<Le;X++){const Se=B[X];P=P.concat(Se)}function K(X,Le,Se){return Le||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(Le,Se)}const Y=P.length,ie=q.length;function G(X,Le,Se){let Ve,Re,dt;const it=X.x-Le.x,Q=X.y-Le.y,$=Se.x-X.x,xe=Se.y-X.y,He=it*it+Q*Q,We=it*xe-Q*$;if(Math.abs(We)>Number.EPSILON){const Ue=Math.sqrt(He),ut=Math.sqrt($*$+xe*xe),ft=Le.x-Q/Ue,j=Le.y+it/Ue,O=Se.x-xe/ut,D=Se.y+$/ut,V=((O-ft)*xe-(D-j)*$)/(it*xe-Q*$);Ve=ft+it*V-X.x,Re=j+Q*V-X.y;const he=Ve*Ve+Re*Re;if(he<=2)return new ze(Ve,Re);dt=Math.sqrt(he/2)}else{let Ue=!1;it>Number.EPSILON?$>Number.EPSILON&&(Ue=!0):it<-Number.EPSILON?$<-Number.EPSILON&&(Ue=!0):Math.sign(Q)===Math.sign(xe)&&(Ue=!0),Ue?(Ve=-Q,Re=it,dt=Math.sqrt(He)):(Ve=it,Re=Q,dt=Math.sqrt(He/2))}return new ze(Ve/dt,Re/dt)}const J=[];for(let X=0,Le=z.length,Se=Le-1,Ve=X+1;X<Le;X++,Se++,Ve++)Se===Le&&(Se=0),Ve===Le&&(Ve=0),J[X]=G(z[X],z[Se],z[Ve]);const te=[];let re,fe=J.concat();for(let X=0,Le=B.length;X<Le;X++){const Se=B[X];re=[];for(let Ve=0,Re=Se.length,dt=Re-1,it=Ve+1;Ve<Re;Ve++,dt++,it++)dt===Re&&(dt=0),it===Re&&(it=0),re[Ve]=G(Se[Ve],Se[dt],Se[it]);te.push(re),fe=fe.concat(re)}for(let X=0;X<y;X++){const Le=X/y,Se=d*Math.cos(Le*Math.PI/2),Ve=m*Math.sin(Le*Math.PI/2)+x;for(let Re=0,dt=z.length;Re<dt;Re++){const it=K(z[Re],J[Re],Ve);Ze(it.x,it.y,-Se)}for(let Re=0,dt=B.length;Re<dt;Re++){const it=B[Re];re=te[Re];for(let Q=0,$=it.length;Q<$;Q++){const xe=K(it[Q],re[Q],Ve);Ze(xe.x,xe.y,-Se)}}}const we=m+x;for(let X=0;X<Y;X++){const Le=h?K(P[X],fe[X],we):P[X];M?(E.copy(w.normals[0]).multiplyScalar(Le.x),A.copy(w.binormals[0]).multiplyScalar(Le.y),C.copy(_[0]).add(E).add(A),Ze(C.x,C.y,C.z)):Ze(Le.x,Le.y,0)}for(let X=1;X<=u;X++)for(let Le=0;Le<Y;Le++){const Se=h?K(P[Le],fe[Le],we):P[Le];M?(E.copy(w.normals[X]).multiplyScalar(Se.x),A.copy(w.binormals[X]).multiplyScalar(Se.y),C.copy(_[X]).add(E).add(A),Ze(C.x,C.y,C.z)):Ze(Se.x,Se.y,f/u*X)}for(let X=y-1;X>=0;X--){const Le=X/y,Se=d*Math.cos(Le*Math.PI/2),Ve=m*Math.sin(Le*Math.PI/2)+x;for(let Re=0,dt=z.length;Re<dt;Re++){const it=K(z[Re],J[Re],Ve);Ze(it.x,it.y,f+Se)}for(let Re=0,dt=B.length;Re<dt;Re++){const it=B[Re];re=te[Re];for(let Q=0,$=it.length;Q<$;Q++){const xe=K(it[Q],re[Q],Ve);M?Ze(xe.x,xe.y+_[u-1].y,_[u-1].x+Se):Ze(xe.x,xe.y,f+Se)}}}pe(),Ae();function pe(){const X=i.length/3;if(h){let Le=0,Se=Y*Le;for(let Ve=0;Ve<ie;Ve++){const Re=q[Ve];nt(Re[2]+Se,Re[1]+Se,Re[0]+Se)}Le=u+y*2,Se=Y*Le;for(let Ve=0;Ve<ie;Ve++){const Re=q[Ve];nt(Re[0]+Se,Re[1]+Se,Re[2]+Se)}}else{for(let Le=0;Le<ie;Le++){const Se=q[Le];nt(Se[2],Se[1],Se[0])}for(let Le=0;Le<ie;Le++){const Se=q[Le];nt(Se[0]+Y*u,Se[1]+Y*u,Se[2]+Y*u)}}r.addGroup(X,i.length/3-X,0)}function Ae(){const X=i.length/3;let Le=0;Pe(z,Le),Le+=z.length;for(let Se=0,Ve=B.length;Se<Ve;Se++){const Re=B[Se];Pe(Re,Le),Le+=Re.length}r.addGroup(X,i.length/3-X,1)}function Pe(X,Le){let Se=X.length;for(;--Se>=0;){const Ve=Se;let Re=Se-1;Re<0&&(Re=X.length-1);for(let dt=0,it=u+y*2;dt<it;dt++){const Q=Y*dt,$=Y*(dt+1),xe=Le+Ve+Q,He=Le+Re+Q,We=Le+Re+$,Ue=Le+Ve+$;Ie(xe,He,We,Ue)}}}function Ze(X,Le,Se){l.push(X),l.push(Le),l.push(Se)}function nt(X,Le,Se){et(X),et(Le),et(Se);const Ve=i.length/3,Re=b.generateTopUV(r,i,Ve-3,Ve-2,Ve-1);Xe(Re[0]),Xe(Re[1]),Xe(Re[2])}function Ie(X,Le,Se,Ve){et(X),et(Le),et(Ve),et(Le),et(Se),et(Ve);const Re=i.length/3,dt=b.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);Xe(dt[0]),Xe(dt[1]),Xe(dt[3]),Xe(dt[1]),Xe(dt[2]),Xe(dt[3])}function et(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function Xe(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return uue(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new E1[i.type]().fromJSON(i)),new CS(r,e.options)}}const cue={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new ze(s,o),new ze(a,l),new ze(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],m=e[i*3+2],x=e[s*3],y=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new ze(o,1-l),new ze(c,1-f),new ze(h,1-m),new ze(x,1-v)]:[new ze(a,1-l),new ze(u,1-f),new ze(d,1-m),new ze(y,1-v)]}};function uue(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class r0 extends su{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new r0(e.radius,e.detail)}}class i0 extends su{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new i0(e.radius,e.detail)}}class PS extends qt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const h=(n-e)/i,d=new Z,m=new ze;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const v=s+y/r*o;d.x=f*Math.cos(v),d.y=f*Math.sin(v),l.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(d.x/n+1)/2,m.y=(d.y/n+1)/2,u.push(m.x,m.y)}f+=h}for(let x=0;x<i;x++){const y=x*(r+1);for(let v=0;v<r;v++){const b=v+y,_=b,M=b+r+1,w=b+r+2,A=b+1;a.push(_,M,A),a.push(M,w,A)}}this.setIndex(a),this.setAttribute("position",new Bt(l,3)),this.setAttribute("normal",new Bt(c,3)),this.setAttribute("uv",new Bt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class RS extends qt{constructor(e=new Tf([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Bt(i,3)),this.setAttribute("normal",new Bt(s,3)),this.setAttribute("uv",new Bt(o,2));function c(u){const f=i.length/3,h=u.extractPoints(n);let d=h.shape;const m=h.holes;Da.isClockWise(d)===!1&&(d=d.reverse());for(let y=0,v=m.length;y<v;y++){const b=m[y];Da.isClockWise(b)===!0&&(m[y]=b.reverse())}const x=Da.triangulateShape(d,m);for(let y=0,v=m.length;y<v;y++){const b=m[y];d=d.concat(b)}for(let y=0,v=d.length;y<v;y++){const b=d[y];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let y=0,v=x.length;y<v;y++){const b=x[y],_=b[0]+f,M=b[1]+f,w=b[2]+f;r.push(_,M,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return fue(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new RS(r,e.curveSegments)}}function fue(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class s0 extends qt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new Z,h=new Z,d=[],m=[],x=[],y=[];for(let v=0;v<=r;v++){const b=[],_=v/r;let M=0;v===0&&o===0?M=.5/n:v===r&&l===Math.PI&&(M=-.5/n);for(let w=0;w<=n;w++){const A=w/n;f.x=-e*Math.cos(i+A*s)*Math.sin(o+_*a),f.y=e*Math.cos(o+_*a),f.z=e*Math.sin(i+A*s)*Math.sin(o+_*a),m.push(f.x,f.y,f.z),h.copy(f).normalize(),x.push(h.x,h.y,h.z),y.push(A+M,1-_),b.push(c++)}u.push(b)}for(let v=0;v<r;v++)for(let b=0;b<n;b++){const _=u[v][b+1],M=u[v][b],w=u[v+1][b],A=u[v+1][b+1];(v!==0||o>0)&&d.push(_,M,A),(v!==r-1||l<Math.PI)&&d.push(M,w,A)}this.setIndex(d),this.setAttribute("position",new Bt(m,3)),this.setAttribute("normal",new Bt(x,3)),this.setAttribute("uv",new Bt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class OS extends su{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new OS(e.radius,e.detail)}}class IS extends qt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new Z,f=new Z,h=new Z;for(let d=0;d<=r;d++)for(let m=0;m<=i;m++){const x=m/i*s,y=d/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(x),f.y=(e+n*Math.cos(y))*Math.sin(x),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(m/i),c.push(d/r)}for(let d=1;d<=r;d++)for(let m=1;m<=i;m++){const x=(i+1)*d+m-1,y=(i+1)*(d-1)+m-1,v=(i+1)*(d-1)+m,b=(i+1)*d+m;o.push(x,y,b),o.push(y,v,b)}this.setIndex(o),this.setAttribute("position",new Bt(a,3)),this.setAttribute("normal",new Bt(l,3)),this.setAttribute("uv",new Bt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new IS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class BS extends qt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new Z,h=new Z,d=new Z,m=new Z,x=new Z,y=new Z,v=new Z;for(let _=0;_<=r;++_){const M=_/r*s*Math.PI*2;b(M,s,o,e,d),b(M+.01,s,o,e,m),y.subVectors(m,d),v.addVectors(m,d),x.crossVectors(y,v),v.crossVectors(x,y),x.normalize(),v.normalize();for(let w=0;w<=i;++w){const A=w/i*Math.PI*2,E=-n*Math.cos(A),C=n*Math.sin(A);f.x=d.x+(E*v.x+C*x.x),f.y=d.y+(E*v.y+C*x.y),f.z=d.z+(E*v.z+C*x.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(_/r),u.push(w/i)}}for(let _=1;_<=r;_++)for(let M=1;M<=i;M++){const w=(i+1)*(_-1)+(M-1),A=(i+1)*_+(M-1),E=(i+1)*_+M,C=(i+1)*(_-1)+M;a.push(w,A,C),a.push(A,E,C)}this.setIndex(a),this.setAttribute("position",new Bt(l,3)),this.setAttribute("normal",new Bt(c,3)),this.setAttribute("uv",new Bt(u,2));function b(_,M,w,A,E){const C=Math.cos(_),L=Math.sin(_),P=w/M*_,B=Math.cos(P);E.x=A*(2+B)*.5*C,E.y=A*(2+B)*L*.5,E.z=A*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class DS extends qt{constructor(e=new lB(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Z,l=new Z,c=new ze;let u=new Z;const f=[],h=[],d=[],m=[];x(),this.setIndex(m),this.setAttribute("position",new Bt(f,3)),this.setAttribute("normal",new Bt(h,3)),this.setAttribute("uv",new Bt(d,2));function x(){for(let _=0;_<n;_++)y(_);y(s===!1?n:0),b(),v()}function y(_){u=e.getPointAt(_/n,u);const M=o.normals[_],w=o.binormals[_];for(let A=0;A<=i;A++){const E=A/i*Math.PI*2,C=Math.sin(E),L=-Math.cos(E);l.x=L*M.x+C*w.x,l.y=L*M.y+C*w.y,l.z=L*M.z+C*w.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let _=1;_<=n;_++)for(let M=1;M<=i;M++){const w=(i+1)*(_-1)+(M-1),A=(i+1)*_+(M-1),E=(i+1)*_+M,C=(i+1)*(_-1)+M;m.push(w,A,C),m.push(A,E,C)}}function b(){for(let _=0;_<=n;_++)for(let M=0;M<=i;M++)c.x=_/n,c.y=M/i,d.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new DS(new E1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class VW extends qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Z,s=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let m=h,x=h+d;m<x;m+=3)for(let y=0;y<3;y++){const v=a.getX(m+y),b=a.getX(m+(y+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,b),cU(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),cU(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Bt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function cU(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var uU=Object.freeze({__proto__:null,BoxGeometry:th,CapsuleGeometry:SS,CircleGeometry:AS,ConeGeometry:MS,CylinderGeometry:zp,DodecahedronGeometry:ES,EdgesGeometry:jW,ExtrudeGeometry:CS,IcosahedronGeometry:r0,LatheGeometry:n0,OctahedronGeometry:i0,PlaneGeometry:Fl,PolyhedronGeometry:su,RingGeometry:PS,ShapeGeometry:RS,SphereGeometry:s0,TetrahedronGeometry:OS,TorusGeometry:IS,TorusKnotGeometry:BS,TubeGeometry:DS,WireframeGeometry:VW});class WW extends Jr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new gt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $W extends xi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class o0 extends Jr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new gt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Eo extends o0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new gt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new gt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class XW extends Jr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new gt(16777215),this.specular=new gt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KW extends Jr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class YW extends Jr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uB extends Jr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Xy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JW extends Jr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=iu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qW extends zi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function lf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function ZW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QW(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function l2(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function fB(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function hue(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const m=c.times[d]*i;if(!(m<n||m>=r)){f.push(c.times[d]);for(let x=0;x<u;++x)h.push(c.values[d*u+x])}}f.length!==0&&(c.times=lf(f,c.times.constructor),c.values=lf(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function due(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const m=a.times.length-1;let x;if(s<=a.times[0]){const v=u,b=f-u;x=a.values.slice(v,b)}else if(s>=a.times[m]){const v=m*f+u,b=v+f-u;x=a.values.slice(v,b)}else{const v=a.createInterpolant(),b=u,_=f-u;v.evaluate(s),x=v.resultBuffer.slice(b,_)}l==="quaternion"&&new Ir().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let v=0;v<y;++v){const b=v*d+h;if(l==="quaternion")Ir.multiplyQuaternionsFlat(c.values,b,x,0,c.values,b);else{const _=d-h*2;for(let M=0;M<_;++M)c.values[b+M]-=x[M]}}}return t.blendMode=UI,t}const pue={convertArray:lf,isTypedArray:ZW,getKeyframeOrder:QW,sortedArray:l2,flattenJSON:fB,subclip:hue,makeClipAdditive:due};class Hp{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class e$ extends Hp{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:rf,endingEnd:rf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case sf:s=e,a=2*n-r;break;case Tv:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case sf:o=e,l=2*r-n;break;case Tv:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,m=(r-n)/(i-n),x=m*m,y=x*m,v=-h*y+2*h*x-h*m,b=(1+h)*y+(-1.5-2*h)*x+(-.5+h)*m+1,_=(-1-d)*y+(1.5+d)*x+.5*m,M=d*y-d*x;for(let w=0;w!==a;++w)s[w]=v*o[u+w]+b*o[c+w]+_*o[l+w]+M*o[f+w];return s}}class hB extends Hp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),f=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*f+o[l+h]*u;return s}}class t$ extends Hp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class oa{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=lf(n,this.TimeBufferType),this.values=lf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:lf(e.times,Array),values:lf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new t$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new e$(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case np:n=this.InterpolantFactoryMethodDiscrete;break;case jf:n=this.InterpolantFactoryMethodLinear;break;case B_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return np;case this.InterpolantFactoryMethodLinear:return jf;case this.InterpolantFactoryMethodSmooth:return B_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&ZW(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===B_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,d=f+r;for(let m=0;m!==r;++m){const x=n[f+m];if(x!==n[h+m]||x!==n[d+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let d=0;d!==r;++d)n[h+d]=n[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}oa.prototype.TimeBufferType=Float32Array;oa.prototype.ValueBufferType=Float32Array;oa.prototype.DefaultInterpolation=jf;class nh extends oa{}nh.prototype.ValueTypeName="bool";nh.prototype.ValueBufferType=Array;nh.prototype.DefaultInterpolation=np;nh.prototype.InterpolantFactoryMethodLinear=void 0;nh.prototype.InterpolantFactoryMethodSmooth=void 0;class dB extends oa{}dB.prototype.ValueTypeName="color";class Gf extends oa{}Gf.prototype.ValueTypeName="number";class n$ extends Hp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ir.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Yc extends oa{InterpolantFactoryMethodLinear(e){return new n$(this.times,this.values,this.getValueSize(),e)}}Yc.prototype.ValueTypeName="quaternion";Yc.prototype.DefaultInterpolation=jf;Yc.prototype.InterpolantFactoryMethodSmooth=void 0;class rh extends oa{}rh.prototype.ValueTypeName="string";rh.prototype.ValueBufferType=Array;rh.prototype.DefaultInterpolation=np;rh.prototype.InterpolantFactoryMethodLinear=void 0;rh.prototype.InterpolantFactoryMethodSmooth=void 0;class Vf extends oa{}Vf.prototype.ValueTypeName="vector";class sp{constructor(e,n=-1,r,i=fS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Fs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(gue(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(oa.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=QW(l);l=l2(l,1,u),c=l2(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Gf(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let h=i[f];h||(i[f]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,m,x){if(d.length!==0){const y=[],v=[];fB(d,y,v,m),y.length!==0&&x.push(new f(h,y,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let x=0;x<h[m].morphTargets.length;x++)d[h[m].morphTargets[x]]=-1;for(const x in d){const y=[],v=[];for(let b=0;b!==h[m].morphTargets.length;++b){const _=h[m];y.push(_.time),v.push(_.morphTarget===x?1:0)}i.push(new Gf(".morphTargetInfluence["+x+"]",y,v))}l=d.length*o}else{const d=".bones["+n[f].name+"]";r(Vf,d+".position",h,"pos",i),r(Yc,d+".quaternion",h,"rot",i),r(Vf,d+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mue(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gf;case"vector":case"vector2":case"vector3":case"vector4":return Vf;case"color":return dB;case"quaternion":return Yc;case"bool":case"boolean":return nh;case"string":return rh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function gue(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mue(t.type);if(t.times===void 0){const n=[],r=[];fB(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ml={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LS{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],m=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return m}return null}}}const xd=new LS;class bi{constructor(e){this.manager=e!==void 0?e:xd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}bi.DEFAULT_MATERIAL_NAME="__DEFAULT";const tl={};class vue extends Error{constructor(e,n){super(e),this.response=n}}class gi extends bi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ml.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(tl[e]!==void 0){tl[e].push({onLoad:n,onProgress:r,onError:i});return}tl[e]=[],tl[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=tl[e],f=c.body.getReader(),h=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),d=h?parseInt(h):0,m=d!==0;let x=0;const y=new ReadableStream({start(v){b();function b(){f.read().then(({done:_,value:M})=>{if(_)v.close();else{x+=M.byteLength;const w=new ProgressEvent("progress",{lengthComputable:m,loaded:x,total:d});for(let A=0,E=u.length;A<E;A++){const C=u[A];C.onProgress&&C.onProgress(w)}v.enqueue(M),b()}})}}});return new Response(y)}else throw new vue(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return c.arrayBuffer().then(m=>d.decode(m))}}}).then(c=>{ml.add(e,c);const u=tl[e];delete tl[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(c)}}).catch(c=>{const u=tl[e];if(u===void 0)throw this.manager.itemError(e),c;delete tl[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yue extends bi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new gi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=sp.parse(e[r]);n.push(i)}return n}}class xue extends bi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new _S,l=new gi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const d=s.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(a.minFilter=hn),a.image=o,a.format=d.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let m=0;m<d;m++){o[m]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)o[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+x]),o[m].format=h.format,o[m].width=h.width,o[m].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=hn),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Fv extends bi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ml.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Bv("img");function l(){u(),ml.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class r$ extends bi{constructor(e){super(e)}load(e,n,r,i){const s=new qy;s.colorSpace=Fr;const o=new Fv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class pB extends bi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fc,a=new gi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Zn,o.wrapT=c.wrapT!==void 0?c.wrapT:Zn,o.magFilter=c.magFilter!==void 0?c.magFilter:hn,o.minFilter=c.minFilter!==void 0?c.minFilter:hn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=po),c.mipmapCount===1&&(o.minFilter=hn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class i$ extends bi{constructor(e){super(e)}load(e,n,r,i){const s=new Pn,o=new Fv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ou extends yn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new gt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class s$ extends ou{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(yn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const iT=new Ft,fU=new Z,hU=new Z;class mB{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.map=null,this.mapPass=null,this.matrix=new Ft,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zy,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new Bn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;fU.setFromMatrixPosition(e.matrixWorld),n.position.copy(fU),hU.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hU),n.updateMatrixWorld(),iT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(iT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class bue extends mB{constructor(){super(new Sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=rp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gB extends ou{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(yn.DEFAULT_UP),this.updateMatrix(),this.target=new yn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new bue}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const dU=new Ft,Km=new Z,sT=new Z;class _ue extends mB{constructor(){super(new Sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new Bn(2,1,1,1),new Bn(0,1,1,1),new Bn(3,1,1,1),new Bn(1,1,1,1),new Bn(3,0,1,1),new Bn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Km.setFromMatrixPosition(e.matrixWorld),r.position.copy(Km),sT.copy(r.position),sT.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(sT),r.updateMatrixWorld(),i.makeTranslation(-Km.x,-Km.y,-Km.z),dU.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dU)}}class vB extends ou{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new _ue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wue extends mB{constructor(){super(new Ba(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class yB extends ou{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(yn.DEFAULT_UP),this.updateMatrix(),this.target=new yn,this.shadow=new wue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class o$ extends ou{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class a$ extends ou{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class l${constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class c$ extends ou{constructor(e=new l$,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class NS extends bi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new gi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=NS.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new gt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new gt().setHex(o.value);break;case"v2":i.uniforms[s].value=new ze().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Bn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new tn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ft().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ze().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:WW,SpriteMaterial:QI,RawShaderMaterial:$W,ShaderMaterial:xi,PointsMaterial:bS,MeshPhysicalMaterial:Eo,MeshStandardMaterial:o0,MeshPhongMaterial:XW,MeshToonMaterial:KW,MeshNormalMaterial:YW,MeshLambertMaterial:uB,MeshDepthMaterial:mS,MeshDistanceMaterial:ZI,MeshBasicMaterial:fs,MeshMatcapMaterial:JW,LineDashedMaterial:qW,LineBasicMaterial:zi,Material:Jr};return new n[e]}}class Uc{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class u$ extends qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class f$ extends bi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new gi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(d,m){if(n[m]!==void 0)return n[m];const y=d.interleavedBuffers[m],v=s(d,y.buffer),b=md(y.type,v),_=new e0(b,y.stride);return _.uuid=y.uuid,n[m]=_,_}function s(d,m){if(r[m]!==void 0)return r[m];const y=d.arrayBuffers[m],v=new Uint32Array(y).buffer;return r[m]=v,v}const o=e.isInstancedBufferGeometry?new u$:new qt,a=e.data.index;if(a!==void 0){const d=md(a.type,a.array);o.setIndex(new xn(d,1))}const l=e.data.attributes;for(const d in l){const m=l[d];let x;if(m.isInterleavedBufferAttribute){const y=i(e.data,m.data);x=new Kc(y,m.itemSize,m.offset,m.normalized)}else{const y=md(m.type,m.array),v=m.isInstancedBufferAttribute?zf:xn;x=new v(y,m.itemSize,m.normalized)}m.name!==void 0&&(x.name=m.name),m.usage!==void 0&&x.setUsage(m.usage),o.setAttribute(d,x)}const c=e.data.morphAttributes;if(c)for(const d in c){const m=c[d],x=[];for(let y=0,v=m.length;y<v;y++){const b=m[y];let _;if(b.isInterleavedBufferAttribute){const M=i(e.data,b.data);_=new Kc(M,b.itemSize,b.offset,b.normalized)}else{const M=md(b.type,b.array);_=new xn(M,b.itemSize,b.normalized)}b.name!==void 0&&(_.name=b.name),x.push(_)}o.morphAttributes[d]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,m=f.length;d!==m;++d){const x=f[d];o.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new Z;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new ai(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Sue extends bi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Uc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new gi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Uc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new gi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Tf().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new t0().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new f$;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in uU?a=uU[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new NS;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=sp.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:md(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new LS(n);s=new Fv(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const d=[];for(let m=0,x=h.length;m<x;m++){const y=h[m],v=a(y);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Fc(v.data,v.width,v.height)))}i[f.uuid]=new of(d)}else{const d=a(f.url);i[f.uuid]=new of(d)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:md(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Fv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f],m=await s(d);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new Fc(m.data,m.width,m.height)))}r[l.uuid]=new of(u)}else{const u=await s(l.url);r[l.uuid]=new of(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new qy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Fc:u=new Pn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Aue)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],pU),u.wrapT=r(a.wrap[1],pU)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,mU)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,mU)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let m=0,x=h.length;m<x;m++){const y=h[m];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),d.push(r[y])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let u,f;switch(e.type){case"Scene":o=new Qy,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new gt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Sr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ba(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new o$(e.color,e.intensity);break;case"DirectionalLight":o=new yB(e.color,e.intensity);break;case"PointLight":o=new vB(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new a$(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new gB(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new s$(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new c$().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new eB(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new tr(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,m=e.instanceColor;o=new tB(u,f,h),o.instanceMatrix=new zf(new Float32Array(d.array),16),m!==void 0&&(o.instanceColor=new zf(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new DW(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const y=new Yr;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const v=new ai;return v.radius=x.sphereRadius,v.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new BW;break;case"Line":o=new Cl(a(e.geometry),l(e.material));break;case"LineLoop":o=new nB(a(e.geometry),l(e.material));break;case"LineSegments":o=new ia(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new rB(a(e.geometry),l(e.material));break;case"Sprite":o=new IW(l(e.material));break;case"Group":o=new pl;break;case"Bone":o=new xS;break;default:o=new yn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const m=h[d];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const m=h[d],x=o.getObjectByProperty("uuid",m.object);x!==void 0&&o.addLevel(x,m.distance,m.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Aue={UVMapping:Wc,CubeReflectionMapping:za,CubeRefractionMapping:$c,EquirectangularReflectionMapping:ep,EquirectangularRefractionMapping:Mv,CubeUVReflectionMapping:Up},pU={RepeatWrapping:Xc,ClampToEdgeWrapping:Zn,MirroredRepeatWrapping:tp},mU={NearestFilter:sr,NearestMipmapNearestFilter:Ev,NearestMipmapLinearFilter:vc,LinearFilter:hn,LinearMipmapNearestFilter:Nd,LinearMipmapLinearFilter:po};class h$ extends bi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ml.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return ml.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),ml.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});ml.add(e,l),s.manager.itemStart(e)}}let _b;class xB{static getContext(){return _b===void 0&&(_b=new(window.AudioContext||window.webkitAudioContext)),_b}static setContext(e){_b=e}}class Mue extends bi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new gi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);xB.getContext().decodeAudioData(c,function(f){n(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const gU=new Ft,vU=new Ft,Tu=new Ft;class Eue{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Tu.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Af*n.fov*.5)/n.zoom;let a,l;vU.elements[12]=-i,gU.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Tu.elements[0]=2*n.near/(l-a),Tu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Tu),a=-o*n.aspect-s,l=o*n.aspect-s,Tu.elements[0]=2*n.near/(l-a),Tu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Tu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vU),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gU)}}class bB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yU(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=yU();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function yU(){return(typeof performance>"u"?Date:performance).now()}const Cu=new Z,xU=new Ir,Tue=new Z,Pu=new Z;class Cue extends yn{constructor(){super(),this.type="AudioListener",this.context=xB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new bB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cu,xU,Tue),Pu.set(0,0,-1).applyQuaternion(xU),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Cu.x,i),n.positionY.linearRampToValueAtTime(Cu.y,i),n.positionZ.linearRampToValueAtTime(Cu.z,i),n.forwardX.linearRampToValueAtTime(Pu.x,i),n.forwardY.linearRampToValueAtTime(Pu.y,i),n.forwardZ.linearRampToValueAtTime(Pu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Cu.x,Cu.y,Cu.z),n.setOrientation(Pu.x,Pu.y,Pu.z,r.x,r.y,r.z)}}class d$ extends yn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ru=new Z,bU=new Ir,Pue=new Z,Ou=new Z;class Rue extends d${constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ru,bU,Pue),Ou.set(0,0,1).applyQuaternion(bU);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ru.x,r),n.positionY.linearRampToValueAtTime(Ru.y,r),n.positionZ.linearRampToValueAtTime(Ru.z,r),n.orientationX.linearRampToValueAtTime(Ou.x,r),n.orientationY.linearRampToValueAtTime(Ou.y,r),n.orientationZ.linearRampToValueAtTime(Ou.z,r)}else n.setPosition(Ru.x,Ru.y,Ru.z),n.setOrientation(Ou.x,Ou.y,Ou.z)}}class Oue{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class p${constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ir.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Ir.multiplyQuaternionsFlat(e,o,e,n,e,r),Ir.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const _B="\\[\\]\\.:\\/",Iue=new RegExp("["+_B+"]","g"),wB="[^"+_B+"]",Bue="[^"+_B.replace("\\.","")+"]",Due=/((?:WC+[\/:])*)/.source.replace("WC",wB),Lue=/(WCOD+)?/.source.replace("WCOD",Bue),Nue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wB),kue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wB),Fue=new RegExp("^"+Due+Lue+Nue+kue+"$"),Uue=["material","materials","bones","map"];class jue{constructor(e,n,r){const i=r||gn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class gn{constructor(e,n,r){this.path=n,this.parsedPath=r||gn.parseTrackName(n),this.node=gn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new gn.Composite(e,n,r):new gn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Iue,"")}static parseTrackName(e){const n=Fue.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Uue.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=gn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}gn.Composite=jue;gn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};gn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};gn.prototype.GetterByBindingType=[gn.prototype._getValue_direct,gn.prototype._getValue_array,gn.prototype._getValue_arrayElement,gn.prototype._getValue_toArray];gn.prototype.SetterByBindingTypeAndVersioning=[[gn.prototype._setValue_direct,gn.prototype._setValue_direct_setNeedsUpdate,gn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_array,gn.prototype._setValue_array_setNeedsUpdate,gn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_arrayElement,gn.prototype._setValue_arrayElement_setNeedsUpdate,gn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_fromArray,gn.prototype._setValue_fromArray_setNeedsUpdate,gn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zue{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],d=h.uuid;let m=n[d];if(m===void 0){m=l++,n[d]=m,e.push(h);for(let x=0,y=o;x!==y;++x)s[x].push(new gn(h,r[x],i[x]))}else if(m<c){a=e[m];const x=--c,y=e[x];n[y.uuid]=m,e[m]=y,n[d]=x,e[x]=h;for(let v=0,b=o;v!==b;++v){const _=s[v],M=_[x];let w=_[m];_[m]=M,w===void 0&&(w=new gn(h,r[v],i[v])),_[x]=w}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const f=s++,h=e[f];n[h.uuid]=u,e[u]=h,n[c]=f,e[f]=l;for(let d=0,m=i;d!==m;++d){const x=r[d],y=x[f],v=x[u];x[u]=y,x[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<s){const h=--s,d=e[h],m=--o,x=e[m];n[d.uuid]=f,e[f]=d,n[x.uuid]=h,e[h]=x,e.pop();for(let y=0,v=i;y!==v;++y){const b=r[y],_=b[h],M=b[m];b[f]=_,b[h]=M,b.pop()}}else{const h=--o,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let m=0,x=i;m!==x;++m){const y=r[m];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let h=u,d=l.length;h!==d;++h){const m=l[h];f[h]=new gn(m,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class m${constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:rf,endingEnd:rf};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rW,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case UI:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case fS:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===iW;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===nW){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=sf,i.endingEnd=sf):(e?i.endingStart=this.zeroSlopeAtStart?sf:rf:i.endingStart=Tv,n?i.endingEnd=this.zeroSlopeAtEnd?sf:rf:i.endingEnd=Tv)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Hue=new Float32Array(1);class Gue extends kl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const h=i[f],d=h.name;let m=u[d];if(m!==void 0)++m.referenceCount,o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,d));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;m=new p$(gn.create(r,d,x),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,d),o[f]=m}a[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new hB(new Float32Array(2),new Float32Array(2),1,Hue),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?sp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=fS),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new m$(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?sp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class SB{constructor(e){this.value=e}clone(){return new SB(this.value.clone===void 0?this.value:this.value.clone())}}let Vue=0;class Wue extends kl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Vue++}),this.name="",this.usage=Ov,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class $ue extends e0{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Xue{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class AB{constructor(e,n,r=0,i=1/0){this.ray=new eh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ef,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return c2(e,this,r,n),r.sort(_U),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)c2(e[i],this,r,n);return r.sort(_U),r}}function _U(t,e){return t.distance-e.distance}function c2(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)c2(i[s],e,n,!0)}}class u2{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(wr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Kue{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const wU=new ze;class Yue{constructor(e=new ze(1/0,1/0),n=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=wU.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wU).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const SU=new Z,wb=new Z;class Jue{constructor(e=new Z,n=new Z){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){SU.subVectors(e,this.start),wb.subVectors(this.end,this.start);const r=wb.dot(wb);let s=wb.dot(SU)/r;return n&&(s=wr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const AU=new Z;class que extends yn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new qt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Bt(i,3));const s=new zi({fog:!1,toneMapped:!1});this.cone=new ia(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),AU.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AU),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ic=new Z,Sb=new Ft,oT=new Ft;class Zue extends ia{constructor(e){const n=g$(e),r=new qt,i=[],s=[],o=new gt(0,0,1),a=new gt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Bt(i,3)),r.setAttribute("color",new Bt(s,3));const l=new zi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");oT.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Sb.multiplyMatrices(oT,a.matrixWorld),ic.setFromMatrixPosition(Sb),i.setXYZ(o,ic.x,ic.y,ic.z),Sb.multiplyMatrices(oT,a.parent.matrixWorld),ic.setFromMatrixPosition(Sb),i.setXYZ(o+1,ic.x,ic.y,ic.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function g$(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,g$(t.children[n]));return e}class Que extends tr{constructor(e,n,r){const i=new s0(n,4,2),s=new fs({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const efe=new Z,MU=new gt,EU=new gt;class tfe extends yn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new i0(n);i.rotateY(Math.PI*.5),this.material=new fs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new xn(o,3)),this.add(new tr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");MU.copy(this.light.color),EU.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?MU:EU;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(efe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nfe extends ia{constructor(e=10,n=10,r=4473924,i=8947848){r=new gt(r),i=new gt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let h=0,d=0,m=-a;h<=n;h++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const x=h===s?r:i;x.toArray(c,d),d+=3,x.toArray(c,d),d+=3,x.toArray(c,d),d+=3,x.toArray(c,d),d+=3}const u=new qt;u.setAttribute("position",new Bt(l,3)),u.setAttribute("color",new Bt(c,3));const f=new zi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rfe extends ia{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new gt(s),o=new gt(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,m=Math.cos(h)*e;a.push(0,0,0),a.push(d,0,m);const x=f&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const h=f&1?s:o,d=e-e/r*f;for(let m=0;m<i;m++){let x=m/i*(Math.PI*2),y=Math.sin(x)*d,v=Math.cos(x)*d;a.push(y,0,v),l.push(h.r,h.g,h.b),x=(m+1)/i*(Math.PI*2),y=Math.sin(x)*d,v=Math.cos(x)*d,a.push(y,0,v),l.push(h.r,h.g,h.b)}}const c=new qt;c.setAttribute("position",new Bt(a,3)),c.setAttribute("color",new Bt(l,3));const u=new zi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const TU=new Z,Ab=new Z,CU=new Z;class ife extends yn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new qt;i.setAttribute("position",new Bt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new zi({fog:!1,toneMapped:!1});this.lightPlane=new Cl(i,s),this.add(this.lightPlane),i=new qt,i.setAttribute("position",new Bt([0,0,0,0,0,1],3)),this.targetLine=new Cl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),TU.setFromMatrixPosition(this.light.matrixWorld),Ab.setFromMatrixPosition(this.light.target.matrixWorld),CU.subVectors(Ab,TU),this.lightPlane.lookAt(Ab),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ab),this.targetLine.scale.z=CU.length()}}const Mb=new Z,yr=new Jy;class sfe extends ia{constructor(e){const n=new qt,r=new zi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,x){l(m),l(x)}function l(m){i.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}n.setAttribute("position",new Bt(i,3)),n.setAttribute("color",new Bt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new gt(16755200),u=new gt(16711680),f=new gt(43775),h=new gt(16777215),d=new gt(3355443);this.setColors(c,u,f,h,d)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Mr("c",n,e,yr,0,0,-1),Mr("t",n,e,yr,0,0,1),Mr("n1",n,e,yr,-1,-1,-1),Mr("n2",n,e,yr,r,-1,-1),Mr("n3",n,e,yr,-1,i,-1),Mr("n4",n,e,yr,r,i,-1),Mr("f1",n,e,yr,-1,-1,1),Mr("f2",n,e,yr,r,-1,1),Mr("f3",n,e,yr,-1,i,1),Mr("f4",n,e,yr,r,i,1),Mr("u1",n,e,yr,r*.7,i*1.1,-1),Mr("u2",n,e,yr,-1*.7,i*1.1,-1),Mr("u3",n,e,yr,0,i*2,-1),Mr("cf1",n,e,yr,-1,0,1),Mr("cf2",n,e,yr,r,0,1),Mr("cf3",n,e,yr,0,-1,1),Mr("cf4",n,e,yr,0,i,1),Mr("cn1",n,e,yr,-1,0,-1),Mr("cn2",n,e,yr,r,0,-1),Mr("cn3",n,e,yr,0,-1,-1),Mr("cn4",n,e,yr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Mr(t,e,n,r,i,s,o){Mb.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Mb.x,Mb.y,Mb.z)}}const Eb=new Yr;class ofe extends ia{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new qt;s.setIndex(new xn(r,1)),s.setAttribute("position",new xn(i,3)),super(s,new zi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Eb.setFromObject(this.object),Eb.isEmpty())return;const n=Eb.min,r=Eb.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class afe extends ia{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new qt;s.setIndex(new xn(r,1)),s.setAttribute("position",new Bt(i,3)),super(s,new zi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lfe extends Cl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new qt;o.setAttribute("position",new Bt(s,3)),o.computeBoundingSphere(),super(o,new zi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new qt;l.setAttribute("position",new Bt(a,3)),l.computeBoundingSphere(),this.add(new tr(l,new fs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PU=new Z;let Tb,aT;class cfe extends yn{constructor(e=new Z(0,0,1),n=new Z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Tb===void 0&&(Tb=new qt,Tb.setAttribute("position",new Bt([0,0,0,0,1,0],3)),aT=new zp(0,.5,1,5,1),aT.translate(0,-.5,0)),this.position.copy(n),this.line=new Cl(Tb,new zi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tr(aT,new fs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PU.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(PU,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ufe extends ia{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new qt;i.setAttribute("position",new Bt(n,3)),i.setAttribute("color",new Bt(r,3));const s=new zi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new gt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ffe{constructor(){this.type="ShapePath",this.color=new gt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Dv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const b=[];for(let _=0,M=v.length;_<M;_++){const w=v[_],A=new Tf;A.curves=w.curves,b.push(A)}return b}function r(v,b){const _=b.length;let M=!1;for(let w=_-1,A=0;A<_;w=A++){let E=b[w],C=b[A],L=C.x-E.x,P=C.y-E.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(E=b[A],L=-L,C=b[w],P=-P),v.y<E.y||v.y>C.y)continue;if(v.y===E.y){if(v.x===E.x)return!0}else{const B=P*(v.x-E.x)-L*(v.y-E.y);if(B===0)return!0;if(B<0)continue;M=!M}}else{if(v.y!==E.y)continue;if(C.x<=v.x&&v.x<=E.x||E.x<=v.x&&v.x<=C.x)return!0}}return M}const i=Da.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Tf,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],h=[];let d=[],m=0,x;h[m]=void 0,d[m]=[];for(let v=0,b=s.length;v<b;v++)a=s[v],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!u&&h[m]&&m++,h[m]={s:new Tf,p:x},h[m].s.curves=a.curves,u&&m++,d[m]=[]):d[m].push({h:a,p:x[0]});if(!h[0])return n(s);if(h.length>1){let v=!1,b=0;for(let _=0,M=h.length;_<M;_++)f[_]=[];for(let _=0,M=h.length;_<M;_++){const w=d[_];for(let A=0;A<w.length;A++){const E=w[A];let C=!0;for(let L=0;L<h.length;L++)r(E.p,h[L].p)&&(_!==L&&b++,C?(C=!1,f[L].push(E)):v=!0);C&&f[_].push(E)}}b>0&&v===!1&&(d=f)}let y;for(let v=0,b=h.length;v<b;v++){l=h[v].s,c.push(l),y=d[v];for(let _=0,M=y.length;_<M;_++)l.holes.push(y[_].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Fp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Fp);const hfe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:PI,AddEquation:gc,AddOperation:V9,AdditiveAnimationBlendMode:UI,AdditiveBlending:wP,AgXToneMapping:Y9,AlphaFormat:q9,AlwaysCompare:mW,AlwaysDepth:k9,AlwaysStencilFunc:e2,AmbientLight:o$,AnimationAction:m$,AnimationClip:sp,AnimationLoader:yue,AnimationMixer:Gue,AnimationObjectGroup:zue,AnimationUtils:pue,ArcCurve:LW,ArrayCamera:PW,ArrowHelper:cfe,AttachedBindMode:TP,Audio:d$,AudioAnalyser:Oue,AudioContext:xB,AudioListener:Cue,AudioLoader:Mue,AxesHelper:ufe,BackSide:Qi,BasicDepthPacking:oW,BasicShadowMap:x9,BatchedMesh:DW,Bone:xS,BooleanKeyframeTrack:nh,Box2:Yue,Box3:Yr,Box3Helper:afe,BoxGeometry:th,BoxHelper:ofe,BufferAttribute:xn,BufferGeometry:qt,BufferGeometryLoader:f$,ByteType:RI,Cache:ml,Camera:Jy,CameraHelper:sfe,CanvasTexture:Fce,CapsuleGeometry:SS,CatmullRomCurve3:NW,CineonToneMapping:X9,CircleGeometry:AS,ClampToEdgeWrapping:Zn,Clock:bB,Color:gt,ColorKeyframeTrack:dB,ColorManagement:On,CompressedArrayTexture:Nce,CompressedCubeTexture:kce,CompressedTexture:_S,CompressedTextureLoader:xue,ConeGeometry:MS,ConstantAlphaFactor:D9,ConstantColorFactor:I9,CubeCamera:_W,CubeReflectionMapping:za,CubeRefractionMapping:$c,CubeTexture:qy,CubeTextureLoader:r$,CubeUVReflectionMapping:Up,CubicBezierCurve:sB,CubicBezierCurve3:kW,CubicInterpolant:e$,CullFaceBack:_P,CullFaceFront:y9,CullFaceFrontBack:Pre,CullFaceNone:v9,Curve:sa,CurvePath:UW,CustomBlending:b9,CustomToneMapping:K9,CylinderGeometry:zp,Cylindrical:Kue,Data3DTexture:WI,DataArrayTexture:dS,DataTexture:Fc,DataTextureLoader:pB,DataUtils:af,DecrementStencilOp:Nre,DecrementWrapStencilOp:Fre,DefaultLoadingManager:xd,DepthFormat:Nc,DepthStencilFormat:Uf,DepthTexture:qI,DetachedBindMode:J9,DirectionalLight:yB,DirectionalLightHelper:ife,DiscreteInterpolant:t$,DisplayP3ColorSpace:hS,DodecahedronGeometry:ES,DoubleSide:uo,DstAlphaFactor:T9,DstColorFactor:P9,DynamicCopyUsage:Qre,DynamicDrawUsage:Xre,DynamicReadUsage:Jre,EdgesGeometry:jW,EllipseCurve:wS,EqualCompare:fW,EqualDepth:U9,EqualStencilFunc:Hre,EquirectangularReflectionMapping:ep,EquirectangularRefractionMapping:Mv,Euler:Yy,EventDispatcher:kl,ExtrudeGeometry:CS,FileLoader:gi,Float16BufferAttribute:Fie,Float32BufferAttribute:Bt,Float64BufferAttribute:Uie,FloatType:Pr,Fog:yS,FogExp2:vS,FramebufferTexture:Lce,FrontSide:ja,Frustum:Zy,GLBufferAttribute:Xue,GLSL1:tie,GLSL3:t2,GreaterCompare:hW,GreaterDepth:z9,GreaterEqualCompare:pW,GreaterEqualDepth:j9,GreaterEqualStencilFunc:$re,GreaterStencilFunc:Vre,GridHelper:nfe,Group:pl,HalfFloatType:Xr,HemisphereLight:s$,HemisphereLightHelper:tfe,IcosahedronGeometry:r0,ImageBitmapLoader:h$,ImageLoader:Fv,ImageUtils:VI,IncrementStencilOp:Lre,IncrementWrapStencilOp:kre,InstancedBufferAttribute:zf,InstancedBufferGeometry:u$,InstancedInterleavedBuffer:$ue,InstancedMesh:tB,Int16BufferAttribute:Nie,Int32BufferAttribute:kie,Int8BufferAttribute:Bie,IntType:uS,InterleavedBuffer:e0,InterleavedBufferAttribute:Kc,Interpolant:Hp,InterpolateDiscrete:np,InterpolateLinear:jf,InterpolateSmooth:B_,InvertStencilOp:Ure,KeepStencilOp:Hu,KeyframeTrack:oa,LOD:BW,LatheGeometry:n0,Layers:Ef,LessCompare:uW,LessDepth:F9,LessEqualCompare:HI,LessEqualDepth:Av,LessEqualStencilFunc:Gre,LessStencilFunc:zre,Light:ou,LightProbe:c$,Line:Cl,Line3:Jue,LineBasicMaterial:zi,LineCurve:oB,LineCurve3:FW,LineDashedMaterial:qW,LineLoop:nB,LineSegments:ia,LinearDisplayP3ColorSpace:Ky,LinearEncoding:zI,LinearFilter:hn,LinearInterpolant:hB,LinearMipMapLinearFilter:CP,LinearMipMapNearestFilter:Ire,LinearMipmapLinearFilter:po,LinearMipmapNearestFilter:Nd,LinearSRGBColorSpace:js,LinearToneMapping:W9,LinearTransfer:Cv,Loader:bi,LoaderUtils:Uc,LoadingManager:LS,LoopOnce:nW,LoopPingPong:iW,LoopRepeat:rW,LuminanceAlphaFormat:Q9,LuminanceFormat:Z9,MOUSE:ju,Material:Jr,MaterialLoader:NS,MathUtils:kd,Matrix3:tn,Matrix4:Ft,MaxEquation:EP,Mesh:tr,MeshBasicMaterial:fs,MeshDepthMaterial:mS,MeshDistanceMaterial:ZI,MeshLambertMaterial:uB,MeshMatcapMaterial:JW,MeshNormalMaterial:YW,MeshPhongMaterial:XW,MeshPhysicalMaterial:Eo,MeshStandardMaterial:o0,MeshToonMaterial:KW,MinEquation:MP,MirroredRepeatWrapping:tp,MixOperation:G9,MultiplyBlending:AP,MultiplyOperation:Xy,NearestFilter:sr,NearestMipMapLinearFilter:Ore,NearestMipMapNearestFilter:Rre,NearestMipmapLinearFilter:vc,NearestMipmapNearestFilter:Ev,NeverCompare:cW,NeverDepth:N9,NeverStencilFunc:jre,NoBlending:Oa,NoColorSpace:Os,NoToneMapping:Ia,NormalAnimationBlendMode:fS,NormalBlending:Sf,NotEqualCompare:dW,NotEqualDepth:H9,NotEqualStencilFunc:Wre,NumberKeyframeTrack:Gf,Object3D:yn,ObjectLoader:Sue,ObjectSpaceNormalMap:lW,OctahedronGeometry:i0,OneFactor:A9,OneMinusConstantAlphaFactor:L9,OneMinusConstantColorFactor:B9,OneMinusDstAlphaFactor:C9,OneMinusDstColorFactor:R9,OneMinusSrcAlphaFactor:w1,OneMinusSrcColorFactor:E9,OrthographicCamera:Ba,P3Primaries:Rv,PCFShadowMap:lS,PCFSoftShadowMap:Fg,PMREMGenerator:r2,Path:Dv,PerspectiveCamera:Sr,Plane:cl,PlaneGeometry:Fl,PlaneHelper:lfe,PointLight:vB,PointLightHelper:Que,Points:rB,PointsMaterial:bS,PolarGridHelper:rfe,PolyhedronGeometry:su,PositionalAudio:Rue,PropertyBinding:gn,PropertyMixer:p$,QuadraticBezierCurve:aB,QuadraticBezierCurve3:lB,Quaternion:Ir,QuaternionKeyframeTrack:Yc,QuaternionLinearInterpolant:n$,RED_GREEN_RGTC2_Format:ZP,RED_RGTC1_Format:tW,REVISION:Fp,RGBADepthPacking:aW,RGBAFormat:jr,RGBAIntegerFormat:kI,RGBA_ASTC_10x10_Format:$P,RGBA_ASTC_10x5_Format:GP,RGBA_ASTC_10x6_Format:VP,RGBA_ASTC_10x8_Format:WP,RGBA_ASTC_12x10_Format:XP,RGBA_ASTC_12x12_Format:KP,RGBA_ASTC_4x4_Format:LP,RGBA_ASTC_5x4_Format:NP,RGBA_ASTC_5x5_Format:kP,RGBA_ASTC_6x5_Format:FP,RGBA_ASTC_6x6_Format:UP,RGBA_ASTC_8x5_Format:jP,RGBA_ASTC_8x6_Format:zP,RGBA_ASTC_8x8_Format:HP,RGBA_BPTC_Format:I_,RGBA_ETC2_EAC_Format:DP,RGBA_PVRTC_2BPPV1_Format:IP,RGBA_PVRTC_4BPPV1_Format:OP,RGBA_S3TC_DXT1_Format:P_,RGBA_S3TC_DXT3_Format:R_,RGBA_S3TC_DXT5_Format:O_,RGB_BPTC_SIGNED_Format:YP,RGB_BPTC_UNSIGNED_Format:JP,RGB_ETC1_Format:FI,RGB_ETC2_Format:BP,RGB_PVRTC_2BPPV1_Format:RP,RGB_PVRTC_4BPPV1_Format:PP,RGB_S3TC_DXT1_Format:C_,RGFormat:eW,RGIntegerFormat:NI,RawShaderMaterial:$W,Ray:eh,Raycaster:AB,Rec709Primaries:Pv,RectAreaLight:a$,RedFormat:DI,RedIntegerFormat:LI,ReinhardToneMapping:$9,RenderTarget:yW,RepeatWrapping:Xc,ReplaceStencilOp:Dre,ReverseSubtractEquation:w9,RingGeometry:PS,SIGNED_RED_GREEN_RGTC2_Format:QP,SIGNED_RED_RGTC1_Format:qP,SRGBColorSpace:Fr,SRGBTransfer:zn,Scene:Qy,ShaderChunk:Zt,ShaderLib:Ko,ShaderMaterial:xi,ShadowMaterial:WW,Shape:Tf,ShapeGeometry:RS,ShapePath:ffe,ShapeUtils:Da,ShortType:OI,Skeleton:t0,SkeletonHelper:Zue,SkinnedMesh:eB,Source:of,Sphere:ai,SphereGeometry:s0,Spherical:u2,SphericalHarmonics3:l$,SplineCurve:cB,SpotLight:gB,SpotLightHelper:que,Sprite:IW,SpriteMaterial:QI,SrcAlphaFactor:_1,SrcAlphaSaturateFactor:O9,SrcColorFactor:M9,StaticCopyUsage:Zre,StaticDrawUsage:Ov,StaticReadUsage:Yre,StereoCamera:Eue,StreamCopyUsage:eie,StreamDrawUsage:Kre,StreamReadUsage:qre,StringKeyframeTrack:rh,SubtractEquation:_9,SubtractiveBlending:SP,TOUCH:zu,TangentSpaceNormalMap:iu,TetrahedronGeometry:OS,Texture:Pn,TextureLoader:i$,TorusGeometry:IS,TorusKnotGeometry:BS,Triangle:Is,TriangleFanDrawMode:S1,TriangleStripDrawMode:jI,TrianglesDrawMode:sW,TubeGeometry:DS,UVMapping:Wc,Uint16BufferAttribute:$I,Uint32BufferAttribute:XI,Uint8BufferAttribute:Die,Uint8ClampedBufferAttribute:Lie,Uniform:SB,UniformsGroup:Wue,UniformsLib:pt,UniformsUtils:KI,UnsignedByteType:ks,UnsignedInt248Type:Lc,UnsignedIntType:Ea,UnsignedShort4444Type:II,UnsignedShort5551Type:BI,UnsignedShortType:cS,VSMShadowMap:jo,Vector2:ze,Vector3:Z,Vector4:Bn,VectorKeyframeTrack:Vf,VideoTexture:Dce,WebGL1Renderer:RW,WebGL3DRenderTarget:_ie,WebGLArrayRenderTarget:bie,WebGLCoordinateSystem:Ta,WebGLCubeRenderTarget:YI,WebGLMultipleRenderTargets:wie,WebGLRenderTarget:yi,WebGLRenderer:gS,WebGLUtils:CW,WebGPUCoordinateSystem:Iv,WireframeGeometry:VW,WrapAroundEnding:Tv,ZeroCurvatureEnding:rf,ZeroFactor:S9,ZeroSlopeEnding:sf,ZeroStencilOp:Bre,_SRGBAFormat:A1,createCanvasElement:vW,sRGBEncoding:kc},Symbol.toStringTag,{value:"Module"}));var v$={exports:{}},ih={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ih.ConcurrentRoot=1;ih.ContinuousEventPriority=4;ih.DefaultEventPriority=16;ih.DiscreteEventPriority=1;ih.IdleEventPriority=536870912;ih.LegacyRoot=0;v$.exports=ih;var bd=v$.exports;function dfe(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function d(){const m=u(e);if(!f(h,m)){const x=h;c(h=m,x)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const pfe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),RU=pfe?U.useEffect:U.useLayoutEffect;function y$(t){const e=typeof t=="function"?dfe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=U.useReducer(y=>y+1,0),o=e.getState(),a=U.useRef(o),l=U.useRef(r),c=U.useRef(i),u=U.useRef(!1),f=U.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(h=r(o),d=!i(f.current,h)),RU(()=>{d&&(f.current=h),a.current=o,l.current=r,c.current=i,u.current=!1});const m=U.useRef(o);RU(()=>{const y=()=>{try{const b=e.getState(),_=l.current(b);c.current(f.current,_)||(a.current=b,f.current=_,s())}catch{u.current=!0,s()}},v=e.subscribe(y);return e.getState()!==m.current&&y(),v},[]);const x=d?h:f.current;return U.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const mfe=t=>typeof t=="object"&&typeof t.then=="function",cf=[];function x$(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function b$(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of cf)if(x$(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=cf.indexOf(i);s!==-1&&cf.splice(s,1)},promise:(mfe(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(cf.push(i),!n)throw i.promise}const gfe=(t,e,n)=>b$(t,e,!1,n),vfe=(t,e,n)=>void b$(t,e,!0,n),yfe=t=>{if(t===void 0||t.length===0)cf.splice(0,cf.length);else{const e=cf.find(n=>x$(t,n.keys,n.equal));e&&e.remove()}};var _$={exports:{}},w$={exports:{}},S$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,J){var te=G.length;G.push(J);e:for(;0<te;){var re=te-1>>>1,fe=G[re];if(0<i(fe,J))G[re]=J,G[te]=fe,te=re;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var J=G[0],te=G.pop();if(te!==J){G[0]=te;e:for(var re=0,fe=G.length,we=fe>>>1;re<we;){var pe=2*(re+1)-1,Ae=G[pe],Pe=pe+1,Ze=G[Pe];if(0>i(Ae,te))Pe<fe&&0>i(Ze,Ae)?(G[re]=Ze,G[Pe]=te,re=Pe):(G[re]=Ae,G[pe]=te,re=pe);else if(Pe<fe&&0>i(Ze,te))G[re]=Ze,G[Pe]=te,re=Pe;else break e}}return J}function i(G,J){var te=G.sortIndex-J.sortIndex;return te!==0?te:G.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=G)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function M(G){if(x=!1,_(G),!m)if(n(l)!==null)m=!0,Y(w);else{var J=n(c);J!==null&&ie(M,J.startTime-G)}}function w(G,J){m=!1,x&&(x=!1,v(C),C=-1),d=!0;var te=h;try{for(_(J),f=n(l);f!==null&&(!(f.expirationTime>J)||G&&!B());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var fe=re(f.expirationTime<=J);J=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),_(J)}else r(l);f=n(l)}if(f!==null)var we=!0;else{var pe=n(c);pe!==null&&ie(M,pe.startTime-J),we=!1}return we}finally{f=null,h=te,d=!1}}var A=!1,E=null,C=-1,L=5,P=-1;function B(){return!(t.unstable_now()-P<L)}function H(){if(E!==null){var G=t.unstable_now();P=G;var J=!0;try{J=E(!0,G)}finally{J?q():(A=!1,E=null)}}else A=!1}var q;if(typeof b=="function")q=function(){b(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=H,q=function(){K.postMessage(null)}}else q=function(){y(H,0)};function Y(G){E=G,A||(A=!0,q())}function ie(G,J){C=y(function(){G(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,Y(w))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var te=h;h=J;try{return G()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=h;h=G;try{return J()}finally{h=te}},t.unstable_scheduleCallback=function(G,J,te){var re=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,G){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=te+fe,G={id:u++,callback:J,priorityLevel:G,startTime:te,expirationTime:fe,sortIndex:-1},te>re?(G.sortIndex=te,e(c,G),n(l)===null&&G===n(c)&&(x?(v(C),C=-1):x=!0,ie(M,te-re))):(G.sortIndex=fe,e(l,G),m||d||(m=!0,Y(w))),G},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(G){var J=h;return function(){var te=h;h=J;try{return G.apply(this,arguments)}finally{h=te}}}})(S$);w$.exports=S$;var f2=w$.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xfe=function(e){var n={},r=U,i=f2,s=Object.assign;function o(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),w=Symbol.iterator;function A(p){return p===null||typeof p!="object"?null:(p=w&&p[w]||p["@@iterator"],typeof p=="function"?p:null)}function E(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case m:return(p.displayName||"Context")+".Consumer";case d:return(p._context.displayName||"Context")+".Provider";case x:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case b:return g=p.displayName||null,g!==null?g:E(p.type)||"Memo";case _:g=p._payload,p=p._init;try{return E(p(g))}catch{}}return null}function C(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(g);case 8:return g===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function L(p){var g=p,S=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(S=g.return),p=g.return;while(p)}return g.tag===3?S:null}function P(p){if(L(p)!==p)throw Error(o(188))}function B(p){var g=p.alternate;if(!g){if(g=L(p),g===null)throw Error(o(188));return g!==p?null:p}for(var S=p,T=g;;){var I=S.return;if(I===null)break;var N=I.alternate;if(N===null){if(T=I.return,T!==null){S=T;continue}break}if(I.child===N.child){for(N=I.child;N;){if(N===S)return P(I),p;if(N===T)return P(I),g;N=N.sibling}throw Error(o(188))}if(S.return!==T.return)S=I,T=N;else{for(var oe=!1,ve=I.child;ve;){if(ve===S){oe=!0,S=I,T=N;break}if(ve===T){oe=!0,T=I,S=N;break}ve=ve.sibling}if(!oe){for(ve=N.child;ve;){if(ve===S){oe=!0,S=N,T=I;break}if(ve===T){oe=!0,T=N,S=I;break}ve=ve.sibling}if(!oe)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?p:g}function H(p){return p=B(p),p!==null?q(p):null}function q(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=q(p);if(g!==null)return g;p=p.sibling}return null}function z(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var g=z(p);if(g!==null)return g}p=p.sibling}return null}var K=Array.isArray,Y=e.getPublicInstance,ie=e.getRootHostContext,G=e.getChildHostContext,J=e.prepareForCommit,te=e.resetAfterCommit,re=e.createInstance,fe=e.appendInitialChild,we=e.finalizeInitialChildren,pe=e.prepareUpdate,Ae=e.shouldSetTextContent,Pe=e.createTextInstance,Ze=e.scheduleTimeout,nt=e.cancelTimeout,Ie=e.noTimeout,et=e.isPrimaryRenderer,Xe=e.supportsMutation,X=e.supportsPersistence,Le=e.supportsHydration,Se=e.getInstanceFromNode,Ve=e.preparePortalMount,Re=e.getCurrentEventPriority,dt=e.detachDeletedInstance,it=e.supportsMicrotasks,Q=e.scheduleMicrotask,$=e.supportsTestSelectors,xe=e.findFiberRoot,He=e.getBoundingRect,We=e.getTextContent,Ue=e.isHiddenSubtree,ut=e.matchAccessibilityRole,ft=e.setFocusIfFocusable,j=e.setupIntersectionObserver,O=e.appendChild,D=e.appendChildToContainer,V=e.commitTextUpdate,he=e.commitMount,ge=e.commitUpdate,_e=e.insertBefore,Ke=e.insertInContainerBefore,tt=e.removeChild,ue=e.removeChildFromContainer,Ce=e.resetTextContent,Ge=e.hideInstance,vt=e.hideTextInstance,$e=e.unhideInstance,ae=e.unhideTextInstance,Qe=e.clearContainer,st=e.cloneInstance,At=e.createContainerChildSet,Tt=e.appendChildToContainerChildSet,Vt=e.finalizeContainerChildren,Xt=e.replaceContainerChildren,bn=e.cloneHiddenInstance,Xn=e.cloneHiddenTextInstance,on=e.canHydrateInstance,de=e.canHydrateTextInstance,ye=e.canHydrateSuspenseInstance,Ee=e.isSuspenseInstancePending,Je=e.isSuspenseInstanceFallback,at=e.registerSuspenseInstanceRetry,Mt=e.getNextHydratableSibling,ot=e.getFirstHydratableChild,St=e.getFirstHydratableChildWithinContainer,Ct=e.getFirstHydratableChildWithinSuspenseInstance,k=e.hydrateInstance,W=e.hydrateTextInstance,ce=e.hydrateSuspenseInstance,F=e.getNextHydratableInstanceAfterSuspenseInstance,ee=e.commitHydratedContainer,ne=e.commitHydratedSuspenseInstance,le=e.clearSuspenseBoundary,se=e.clearSuspenseBoundaryFromContainer,Me=e.shouldDeleteUnhydratedTailInstances,Oe=e.didNotMatchHydratedContainerTextInstance,De=e.didNotMatchHydratedTextInstance,Be;function bt(p){if(Be===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);Be=g&&g[1]||""}return`
`+Be+p}var Ye=!1;function qe(p,g){if(!p||Ye)return"";Ye=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(lt){var T=lt}Reflect.construct(p,[],g)}else{try{g.call()}catch(lt){T=lt}p.call(g.prototype)}else{try{throw Error()}catch(lt){T=lt}p()}}catch(lt){if(lt&&T&&typeof lt.stack=="string"){for(var I=lt.stack.split(`
`),N=T.stack.split(`
`),oe=I.length-1,ve=N.length-1;1<=oe&&0<=ve&&I[oe]!==N[ve];)ve--;for(;1<=oe&&0<=ve;oe--,ve--)if(I[oe]!==N[ve]){if(oe!==1||ve!==1)do if(oe--,ve--,0>ve||I[oe]!==N[ve]){var Fe=`
`+I[oe].replace(" at new "," at ");return p.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",p.displayName)),Fe}while(1<=oe&&0<=ve);break}}}finally{Ye=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?bt(p):""}var wt=Object.prototype.hasOwnProperty,It=[],ht=-1;function Et(p){return{current:p}}function yt(p){0>ht||(p.current=It[ht],It[ht]=null,ht--)}function ct(p,g){ht++,It[ht]=p.current,p.current=g}var Dt={},Nt=Et(Dt),zt=Et(!1),Tn=Dt;function gr(p,g){var S=p.type.contextTypes;if(!S)return Dt;var T=p.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===g)return T.__reactInternalMemoizedMaskedChildContext;var I={},N;for(N in S)I[N]=g[N];return T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=I),I}function nr(p){return p=p.childContextTypes,p!=null}function mn(){yt(zt),yt(Nt)}function sn(p,g,S){if(Nt.current!==Dt)throw Error(o(168));ct(Nt,g),ct(zt,S)}function lr(p,g,S){var T=p.stateNode;if(g=g.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var I in T)if(!(I in g))throw Error(o(108,C(p)||"Unknown",I));return s({},S,T)}function Kt(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Dt,Tn=Nt.current,ct(Nt,p),ct(zt,zt.current),!0}function cn(p,g,S){var T=p.stateNode;if(!T)throw Error(o(169));S?(p=lr(p,g,Tn),T.__reactInternalMemoizedMergedChildContext=p,yt(zt),yt(Nt),ct(Nt,p)):yt(zt),ct(zt,S)}var jn=Math.clz32?Math.clz32:ca,Vs=Math.log,Hi=Math.LN2;function ca(p){return p>>>=0,p===0?32:31-(Vs(p)/Hi|0)|0}var T0=64,C0=4194304;function lm(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function P0(p,g){var S=p.pendingLanes;if(S===0)return 0;var T=0,I=p.suspendedLanes,N=p.pingedLanes,oe=S&268435455;if(oe!==0){var ve=oe&~I;ve!==0?T=lm(ve):(N&=oe,N!==0&&(T=lm(N)))}else oe=S&~I,oe!==0?T=lm(oe):N!==0&&(T=lm(N));if(T===0)return 0;if(g!==0&&g!==T&&!(g&I)&&(I=T&-T,N=g&-g,I>=N||I===16&&(N&4194240)!==0))return g;if(T&4&&(T|=S&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=T;0<g;)S=31-jn(g),I=1<<S,T|=p[S],g&=~I;return T}function LZ(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NZ(p,g){for(var S=p.suspendedLanes,T=p.pingedLanes,I=p.expirationTimes,N=p.pendingLanes;0<N;){var oe=31-jn(N),ve=1<<oe,Fe=I[oe];Fe===-1?(!(ve&S)||ve&T)&&(I[oe]=LZ(ve,g)):Fe<=g&&(p.expiredLanes|=ve),N&=~ve}}function $A(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function XA(p){for(var g=[],S=0;31>S;S++)g.push(p);return g}function cm(p,g,S){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-jn(g),p[g]=S}function kZ(p,g){var S=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var T=p.eventTimes;for(p=p.expirationTimes;0<S;){var I=31-jn(S),N=1<<I;g[I]=0,T[I]=-1,p[I]=-1,S&=~N}}function KA(p,g){var S=p.entangledLanes|=g;for(p=p.entanglements;S;){var T=31-jn(S),I=1<<T;I&g|p[T]&g&&(p[T]|=g),S&=~I}}var wn=0;function VL(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var YA=i.unstable_scheduleCallback,WL=i.unstable_cancelCallback,FZ=i.unstable_shouldYield,UZ=i.unstable_requestPaint,ei=i.unstable_now,JA=i.unstable_ImmediatePriority,jZ=i.unstable_UserBlockingPriority,qA=i.unstable_NormalPriority,zZ=i.unstable_IdlePriority,R0=null,ua=null;function HZ(p){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(R0,p,void 0,(p.current.flags&128)===128)}catch{}}function GZ(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var fa=typeof Object.is=="function"?Object.is:GZ,Va=null,O0=!1,ZA=!1;function $L(p){Va===null?Va=[p]:Va.push(p)}function VZ(p){O0=!0,$L(p)}function ha(){if(!ZA&&Va!==null){ZA=!0;var p=0,g=wn;try{var S=Va;for(wn=1;p<S.length;p++){var T=S[p];do T=T(!0);while(T!==null)}Va=null,O0=!1}catch(I){throw Va!==null&&(Va=Va.slice(p+1)),YA(JA,ha),I}finally{wn=g,ZA=!1}}return null}var WZ=a.ReactCurrentBatchConfig;function I0(p,g){if(fa(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var S=Object.keys(p),T=Object.keys(g);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var I=S[T];if(!wt.call(g,I)||!fa(p[I],g[I]))return!1}return!0}function $Z(p){switch(p.tag){case 5:return bt(p.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 2:case 15:return p=qe(p.type,!1),p;case 11:return p=qe(p.type.render,!1),p;case 1:return p=qe(p.type,!0),p;default:return""}}function Po(p,g){if(p&&p.defaultProps){g=s({},g),p=p.defaultProps;for(var S in p)g[S]===void 0&&(g[S]=p[S]);return g}return g}var B0=Et(null),D0=null,fh=null,QA=null;function eM(){QA=fh=D0=null}function XL(p,g,S){et?(ct(B0,g._currentValue),g._currentValue=S):(ct(B0,g._currentValue2),g._currentValue2=S)}function tM(p){var g=B0.current;yt(B0),et?p._currentValue=g:p._currentValue2=g}function nM(p,g,S){for(;p!==null;){var T=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,T!==null&&(T.childLanes|=g)):T!==null&&(T.childLanes&g)!==g&&(T.childLanes|=g),p===S)break;p=p.return}}function hh(p,g){D0=p,QA=fh=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&g&&(ws=!0),p.firstContext=null)}function Ws(p){var g=et?p._currentValue:p._currentValue2;if(QA!==p)if(p={context:p,memoizedValue:g,next:null},fh===null){if(D0===null)throw Error(o(308));fh=p,D0.dependencies={lanes:0,firstContext:p}}else fh=fh.next=p;return g}var da=null,Hl=!1;function rM(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KL(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Wa(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function Gl(p,g){var S=p.updateQueue;S!==null&&(S=S.shared,Br!==null&&p.mode&1&&!(nn&2)?(p=S.interleaved,p===null?(g.next=g,da===null?da=[S]:da.push(S)):(g.next=p.next,p.next=g),S.interleaved=g):(p=S.pending,p===null?g.next=g:(g.next=p.next,p.next=g),S.pending=g))}function L0(p,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var T=g.lanes;T&=p.pendingLanes,S|=T,g.lanes=S,KA(p,S)}}function YL(p,g){var S=p.updateQueue,T=p.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var I=null,N=null;if(S=S.firstBaseUpdate,S!==null){do{var oe={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};N===null?I=N=oe:N=N.next=oe,S=S.next}while(S!==null);N===null?I=N=g:N=N.next=g}else I=N=g;S={baseState:T.baseState,firstBaseUpdate:I,lastBaseUpdate:N,shared:T.shared,effects:T.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=g:p.next=g,S.lastBaseUpdate=g}function N0(p,g,S,T){var I=p.updateQueue;Hl=!1;var N=I.firstBaseUpdate,oe=I.lastBaseUpdate,ve=I.shared.pending;if(ve!==null){I.shared.pending=null;var Fe=ve,lt=Fe.next;Fe.next=null,oe===null?N=lt:oe.next=lt,oe=Fe;var Ot=p.alternate;Ot!==null&&(Ot=Ot.updateQueue,ve=Ot.lastBaseUpdate,ve!==oe&&(ve===null?Ot.firstBaseUpdate=lt:ve.next=lt,Ot.lastBaseUpdate=Fe))}if(N!==null){var Wt=I.baseState;oe=0,Ot=lt=Fe=null,ve=N;do{var Ut=ve.lane,Fn=ve.eventTime;if((T&Ut)===Ut){Ot!==null&&(Ot=Ot.next={eventTime:Fn,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var kt=p,Ai=ve;switch(Ut=g,Fn=S,Ai.tag){case 1:if(kt=Ai.payload,typeof kt=="function"){Wt=kt.call(Fn,Wt,Ut);break e}Wt=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Ai.payload,Ut=typeof kt=="function"?kt.call(Fn,Wt,Ut):kt,Ut==null)break e;Wt=s({},Wt,Ut);break e;case 2:Hl=!0}}ve.callback!==null&&ve.lane!==0&&(p.flags|=64,Ut=I.effects,Ut===null?I.effects=[ve]:Ut.push(ve))}else Fn={eventTime:Fn,lane:Ut,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Ot===null?(lt=Ot=Fn,Fe=Wt):Ot=Ot.next=Fn,oe|=Ut;if(ve=ve.next,ve===null){if(ve=I.shared.pending,ve===null)break;Ut=ve,ve=Ut.next,Ut.next=null,I.lastBaseUpdate=Ut,I.shared.pending=null}}while(!0);if(Ot===null&&(Fe=Wt),I.baseState=Fe,I.firstBaseUpdate=lt,I.lastBaseUpdate=Ot,g=I.shared.interleaved,g!==null){I=g;do oe|=I.lane,I=I.next;while(I!==g)}else N===null&&(I.shared.lanes=0);_h|=oe,p.lanes=oe,p.memoizedState=Wt}}function JL(p,g,S){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var T=p[g],I=T.callback;if(I!==null){if(T.callback=null,T=S,typeof I!="function")throw Error(o(191,I));I.call(T)}}}var qL=new r.Component().refs;function iM(p,g,S,T){g=p.memoizedState,S=S(T,g),S=S==null?g:s({},g,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var k0={isMounted:function(p){return(p=p._reactInternals)?L(p)===p:!1},enqueueSetState:function(p,g,S){p=p._reactInternals;var T=Vi(),I=$l(p),N=Wa(T,I);N.payload=g,S!=null&&(N.callback=S),Gl(p,N),g=Js(p,I,T),g!==null&&L0(g,p,I)},enqueueReplaceState:function(p,g,S){p=p._reactInternals;var T=Vi(),I=$l(p),N=Wa(T,I);N.tag=1,N.payload=g,S!=null&&(N.callback=S),Gl(p,N),g=Js(p,I,T),g!==null&&L0(g,p,I)},enqueueForceUpdate:function(p,g){p=p._reactInternals;var S=Vi(),T=$l(p),I=Wa(S,T);I.tag=2,g!=null&&(I.callback=g),Gl(p,I),g=Js(p,T,S),g!==null&&L0(g,p,T)}};function ZL(p,g,S,T,I,N,oe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(T,N,oe):g.prototype&&g.prototype.isPureReactComponent?!I0(S,T)||!I0(I,N):!0}function QL(p,g,S){var T=!1,I=Dt,N=g.contextType;return typeof N=="object"&&N!==null?N=Ws(N):(I=nr(g)?Tn:Nt.current,T=g.contextTypes,N=(T=T!=null)?gr(p,I):Dt),g=new g(S,N),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=k0,p.stateNode=g,g._reactInternals=p,T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=I,p.__reactInternalMemoizedMaskedChildContext=N),g}function eN(p,g,S,T){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,T),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,T),g.state!==p&&k0.enqueueReplaceState(g,g.state,null)}function sM(p,g,S,T){var I=p.stateNode;I.props=S,I.state=p.memoizedState,I.refs=qL,rM(p);var N=g.contextType;typeof N=="object"&&N!==null?I.context=Ws(N):(N=nr(g)?Tn:Nt.current,I.context=gr(p,N)),I.state=p.memoizedState,N=g.getDerivedStateFromProps,typeof N=="function"&&(iM(p,g,N,S),I.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(g=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),g!==I.state&&k0.enqueueReplaceState(I,I.state,null),N0(p,S,I,T),I.state=p.memoizedState),typeof I.componentDidMount=="function"&&(p.flags|=4194308)}var dh=[],ph=0,F0=null,U0=0,$s=[],Xs=0,du=null,$a=1,Xa="";function pu(p,g){dh[ph++]=U0,dh[ph++]=F0,F0=p,U0=g}function tN(p,g,S){$s[Xs++]=$a,$s[Xs++]=Xa,$s[Xs++]=du,du=p;var T=$a;p=Xa;var I=32-jn(T)-1;T&=~(1<<I),S+=1;var N=32-jn(g)+I;if(30<N){var oe=I-I%5;N=(T&(1<<oe)-1).toString(32),T>>=oe,I-=oe,$a=1<<32-jn(g)+I|S<<I|T,Xa=N+p}else $a=1<<N|S<<I|T,Xa=p}function oM(p){p.return!==null&&(pu(p,1),tN(p,1,0))}function aM(p){for(;p===F0;)F0=dh[--ph],dh[ph]=null,U0=dh[--ph],dh[ph]=null;for(;p===du;)du=$s[--Xs],$s[Xs]=null,Xa=$s[--Xs],$s[Xs]=null,$a=$s[--Xs],$s[Xs]=null}var bs=null,_s=null,rr=!1,um=!1,Ro=null;function nN(p,g){var S=qs(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=p,g=p.deletions,g===null?(p.deletions=[S],p.flags|=16):g.push(S)}function rN(p,g){switch(p.tag){case 5:return g=on(g,p.type,p.pendingProps),g!==null?(p.stateNode=g,bs=p,_s=ot(g),!0):!1;case 6:return g=de(g,p.pendingProps),g!==null?(p.stateNode=g,bs=p,_s=null,!0):!1;case 13:if(g=ye(g),g!==null){var S=du!==null?{id:$a,overflow:Xa}:null;return p.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=qs(18,null,null,0),S.stateNode=g,S.return=p,p.child=S,bs=p,_s=null,!0}return!1;default:return!1}}function lM(p){return(p.mode&1)!==0&&(p.flags&128)===0}function cM(p){if(rr){var g=_s;if(g){var S=g;if(!rN(p,g)){if(lM(p))throw Error(o(418));g=Mt(S);var T=bs;g&&rN(p,g)?nN(T,S):(p.flags=p.flags&-4097|2,rr=!1,bs=p)}}else{if(lM(p))throw Error(o(418));p.flags=p.flags&-4097|2,rr=!1,bs=p}}}function iN(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;bs=p}function fm(p){if(!Le||p!==bs)return!1;if(!rr)return iN(p),rr=!0,!1;if(p.tag!==3&&(p.tag!==5||Me(p.type)&&!Ae(p.type,p.memoizedProps))){var g=_s;if(g){if(lM(p)){for(p=_s;p;)p=Mt(p);throw Error(o(418))}for(;g;)nN(p,g),g=Mt(g)}}if(iN(p),p.tag===13){if(!Le)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));_s=F(p)}else _s=bs?Mt(p.stateNode):null;return!0}function mh(){Le&&(_s=bs=null,um=rr=!1)}function uM(p){Ro===null?Ro=[p]:Ro.push(p)}function hm(p,g,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,p));var I=T,N=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===N?g.ref:(g=function(oe){var ve=I.refs;ve===qL&&(ve=I.refs={}),oe===null?delete ve[N]:ve[N]=oe},g._stringRef=N,g)}if(typeof p!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,p))}return p}function j0(p,g){throw p=Object.prototype.toString.call(g),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function sN(p){var g=p._init;return g(p._payload)}function oN(p){function g(Te,be){if(p){var Ne=Te.deletions;Ne===null?(Te.deletions=[be],Te.flags|=16):Ne.push(be)}}function S(Te,be){if(!p)return null;for(;be!==null;)g(Te,be),be=be.sibling;return null}function T(Te,be){for(Te=new Map;be!==null;)be.key!==null?Te.set(be.key,be):Te.set(be.index,be),be=be.sibling;return Te}function I(Te,be){return Te=Kl(Te,be),Te.index=0,Te.sibling=null,Te}function N(Te,be,Ne){return Te.index=Ne,p?(Ne=Te.alternate,Ne!==null?(Ne=Ne.index,Ne<be?(Te.flags|=2,be):Ne):(Te.flags|=2,be)):(Te.flags|=1048576,be)}function oe(Te){return p&&Te.alternate===null&&(Te.flags|=2),Te}function ve(Te,be,Ne,_t){return be===null||be.tag!==6?(be=XM(Ne,Te.mode,_t),be.return=Te,be):(be=I(be,Ne),be.return=Te,be)}function Fe(Te,be,Ne,_t){var Lt=Ne.type;return Lt===u?Ot(Te,be,Ne.props.children,_t,Ne.key):be!==null&&(be.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===_&&sN(Lt)===be.type)?(_t=I(be,Ne.props),_t.ref=hm(Te,be,Ne),_t.return=Te,_t):(_t=vx(Ne.type,Ne.key,Ne.props,null,Te.mode,_t),_t.ref=hm(Te,be,Ne),_t.return=Te,_t)}function lt(Te,be,Ne,_t){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ne.containerInfo||be.stateNode.implementation!==Ne.implementation?(be=KM(Ne,Te.mode,_t),be.return=Te,be):(be=I(be,Ne.children||[]),be.return=Te,be)}function Ot(Te,be,Ne,_t,Lt){return be===null||be.tag!==7?(be=_u(Ne,Te.mode,_t,Lt),be.return=Te,be):(be=I(be,Ne),be.return=Te,be)}function Wt(Te,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number")return be=XM(""+be,Te.mode,Ne),be.return=Te,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case l:return Ne=vx(be.type,be.key,be.props,null,Te.mode,Ne),Ne.ref=hm(Te,null,be),Ne.return=Te,Ne;case c:return be=KM(be,Te.mode,Ne),be.return=Te,be;case _:var _t=be._init;return Wt(Te,_t(be._payload),Ne)}if(K(be)||A(be))return be=_u(be,Te.mode,Ne,null),be.return=Te,be;j0(Te,be)}return null}function Ut(Te,be,Ne,_t){var Lt=be!==null?be.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Lt!==null?null:ve(Te,be,""+Ne,_t);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return Ne.key===Lt?Fe(Te,be,Ne,_t):null;case c:return Ne.key===Lt?lt(Te,be,Ne,_t):null;case _:return Lt=Ne._init,Ut(Te,be,Lt(Ne._payload),_t)}if(K(Ne)||A(Ne))return Lt!==null?null:Ot(Te,be,Ne,_t,null);j0(Te,Ne)}return null}function Fn(Te,be,Ne,_t,Lt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Te=Te.get(Ne)||null,ve(be,Te,""+_t,Lt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case l:return Te=Te.get(_t.key===null?Ne:_t.key)||null,Fe(be,Te,_t,Lt);case c:return Te=Te.get(_t.key===null?Ne:_t.key)||null,lt(be,Te,_t,Lt);case _:var Qt=_t._init;return Fn(Te,be,Ne,Qt(_t._payload),Lt)}if(K(_t)||A(_t))return Te=Te.get(Ne)||null,Ot(be,Te,_t,Lt,null);j0(be,_t)}return null}function kt(Te,be,Ne,_t){for(var Lt=null,Qt=null,$t=be,Sn=be=0,ni=null;$t!==null&&Sn<Ne.length;Sn++){$t.index>Sn?(ni=$t,$t=null):ni=$t.sibling;var An=Ut(Te,$t,Ne[Sn],_t);if(An===null){$t===null&&($t=ni);break}p&&$t&&An.alternate===null&&g(Te,$t),be=N(An,be,Sn),Qt===null?Lt=An:Qt.sibling=An,Qt=An,$t=ni}if(Sn===Ne.length)return S(Te,$t),rr&&pu(Te,Sn),Lt;if($t===null){for(;Sn<Ne.length;Sn++)$t=Wt(Te,Ne[Sn],_t),$t!==null&&(be=N($t,be,Sn),Qt===null?Lt=$t:Qt.sibling=$t,Qt=$t);return rr&&pu(Te,Sn),Lt}for($t=T(Te,$t);Sn<Ne.length;Sn++)ni=Fn($t,Te,Sn,Ne[Sn],_t),ni!==null&&(p&&ni.alternate!==null&&$t.delete(ni.key===null?Sn:ni.key),be=N(ni,be,Sn),Qt===null?Lt=ni:Qt.sibling=ni,Qt=ni);return p&&$t.forEach(function(Yl){return g(Te,Yl)}),rr&&pu(Te,Sn),Lt}function Ai(Te,be,Ne,_t){var Lt=A(Ne);if(typeof Lt!="function")throw Error(o(150));if(Ne=Lt.call(Ne),Ne==null)throw Error(o(151));for(var Qt=Lt=null,$t=be,Sn=be=0,ni=null,An=Ne.next();$t!==null&&!An.done;Sn++,An=Ne.next()){$t.index>Sn?(ni=$t,$t=null):ni=$t.sibling;var Yl=Ut(Te,$t,An.value,_t);if(Yl===null){$t===null&&($t=ni);break}p&&$t&&Yl.alternate===null&&g(Te,$t),be=N(Yl,be,Sn),Qt===null?Lt=Yl:Qt.sibling=Yl,Qt=Yl,$t=ni}if(An.done)return S(Te,$t),rr&&pu(Te,Sn),Lt;if($t===null){for(;!An.done;Sn++,An=Ne.next())An=Wt(Te,An.value,_t),An!==null&&(be=N(An,be,Sn),Qt===null?Lt=An:Qt.sibling=An,Qt=An);return rr&&pu(Te,Sn),Lt}for($t=T(Te,$t);!An.done;Sn++,An=Ne.next())An=Fn($t,Te,Sn,An.value,_t),An!==null&&(p&&An.alternate!==null&&$t.delete(An.key===null?Sn:An.key),be=N(An,be,Sn),Qt===null?Lt=An:Qt.sibling=An,Qt=An);return p&&$t.forEach(function(wQ){return g(Te,wQ)}),rr&&pu(Te,Sn),Lt}function Zs(Te,be,Ne,_t){if(typeof Ne=="object"&&Ne!==null&&Ne.type===u&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:e:{for(var Lt=Ne.key,Qt=be;Qt!==null;){if(Qt.key===Lt){if(Lt=Ne.type,Lt===u){if(Qt.tag===7){S(Te,Qt.sibling),be=I(Qt,Ne.props.children),be.return=Te,Te=be;break e}}else if(Qt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===_&&sN(Lt)===Qt.type){S(Te,Qt.sibling),be=I(Qt,Ne.props),be.ref=hm(Te,Qt,Ne),be.return=Te,Te=be;break e}S(Te,Qt);break}else g(Te,Qt);Qt=Qt.sibling}Ne.type===u?(be=_u(Ne.props.children,Te.mode,_t,Ne.key),be.return=Te,Te=be):(_t=vx(Ne.type,Ne.key,Ne.props,null,Te.mode,_t),_t.ref=hm(Te,be,Ne),_t.return=Te,Te=_t)}return oe(Te);case c:e:{for(Qt=Ne.key;be!==null;){if(be.key===Qt)if(be.tag===4&&be.stateNode.containerInfo===Ne.containerInfo&&be.stateNode.implementation===Ne.implementation){S(Te,be.sibling),be=I(be,Ne.children||[]),be.return=Te,Te=be;break e}else{S(Te,be);break}else g(Te,be);be=be.sibling}be=KM(Ne,Te.mode,_t),be.return=Te,Te=be}return oe(Te);case _:return Qt=Ne._init,Zs(Te,be,Qt(Ne._payload),_t)}if(K(Ne))return kt(Te,be,Ne,_t);if(A(Ne))return Ai(Te,be,Ne,_t);j0(Te,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,be!==null&&be.tag===6?(S(Te,be.sibling),be=I(be,Ne),be.return=Te,Te=be):(S(Te,be),be=XM(Ne,Te.mode,_t),be.return=Te,Te=be),oe(Te)):S(Te,be)}return Zs}var gh=oN(!0),aN=oN(!1),dm={},Ks=Et(dm),pm=Et(dm),vh=Et(dm);function pa(p){if(p===dm)throw Error(o(174));return p}function fM(p,g){ct(vh,g),ct(pm,p),ct(Ks,dm),p=ie(g),yt(Ks),ct(Ks,p)}function yh(){yt(Ks),yt(pm),yt(vh)}function lN(p){var g=pa(vh.current),S=pa(Ks.current);g=G(S,p.type,g),S!==g&&(ct(pm,p),ct(Ks,g))}function hM(p){pm.current===p&&(yt(Ks),yt(pm))}var cr=Et(0);function z0(p){for(var g=p;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ee(S)||Je(S)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var dM=[];function pM(){for(var p=0;p<dM.length;p++){var g=dM[p];et?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}dM.length=0}var H0=a.ReactCurrentDispatcher,Ys=a.ReactCurrentBatchConfig,xh=0,vr=null,_i=null,ti=null,G0=!1,mm=!1,gm=0,XZ=0;function wi(){throw Error(o(321))}function mM(p,g){if(g===null)return!1;for(var S=0;S<g.length&&S<p.length;S++)if(!fa(p[S],g[S]))return!1;return!0}function gM(p,g,S,T,I,N){if(xh=N,vr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,H0.current=p===null||p.memoizedState===null?qZ:ZZ,p=S(T,I),mm){N=0;do{if(mm=!1,gm=0,25<=N)throw Error(o(301));N+=1,ti=_i=null,g.updateQueue=null,H0.current=QZ,p=S(T,I)}while(mm)}if(H0.current=K0,g=_i!==null&&_i.next!==null,xh=0,ti=_i=vr=null,G0=!1,g)throw Error(o(300));return p}function vM(){var p=gm!==0;return gm=0,p}function Ka(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?vr.memoizedState=ti=p:ti=ti.next=p,ti}function ma(){if(_i===null){var p=vr.alternate;p=p!==null?p.memoizedState:null}else p=_i.next;var g=ti===null?vr.memoizedState:ti.next;if(g!==null)ti=g,_i=p;else{if(p===null)throw Error(o(310));_i=p,p={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},ti===null?vr.memoizedState=ti=p:ti=ti.next=p}return ti}function mu(p,g){return typeof g=="function"?g(p):g}function V0(p){var g=ma(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var T=_i,I=T.baseQueue,N=S.pending;if(N!==null){if(I!==null){var oe=I.next;I.next=N.next,N.next=oe}T.baseQueue=I=N,S.pending=null}if(I!==null){N=I.next,T=T.baseState;var ve=oe=null,Fe=null,lt=N;do{var Ot=lt.lane;if((xh&Ot)===Ot)Fe!==null&&(Fe=Fe.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),T=lt.hasEagerState?lt.eagerState:p(T,lt.action);else{var Wt={lane:Ot,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};Fe===null?(ve=Fe=Wt,oe=T):Fe=Fe.next=Wt,vr.lanes|=Ot,_h|=Ot}lt=lt.next}while(lt!==null&&lt!==N);Fe===null?oe=T:Fe.next=ve,fa(T,g.memoizedState)||(ws=!0),g.memoizedState=T,g.baseState=oe,g.baseQueue=Fe,S.lastRenderedState=T}if(p=S.interleaved,p!==null){I=p;do N=I.lane,vr.lanes|=N,_h|=N,I=I.next;while(I!==p)}else I===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function W0(p){var g=ma(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var T=S.dispatch,I=S.pending,N=g.memoizedState;if(I!==null){S.pending=null;var oe=I=I.next;do N=p(N,oe.action),oe=oe.next;while(oe!==I);fa(N,g.memoizedState)||(ws=!0),g.memoizedState=N,g.baseQueue===null&&(g.baseState=N),S.lastRenderedState=N}return[N,T]}function cN(){}function uN(p,g){var S=vr,T=ma(),I=g(),N=!fa(T.memoizedState,I);if(N&&(T.memoizedState=I,ws=!0),T=T.queue,ym(dN.bind(null,S,T,p),[p]),T.getSnapshot!==g||N||ti!==null&&ti.memoizedState.tag&1){if(S.flags|=2048,vm(9,hN.bind(null,S,T,I,g),void 0,null),Br===null)throw Error(o(349));xh&30||fN(S,g,I)}return I}function fN(p,g,S){p.flags|=16384,p={getSnapshot:g,value:S},g=vr.updateQueue,g===null?(g={lastEffect:null,stores:null},vr.updateQueue=g,g.stores=[p]):(S=g.stores,S===null?g.stores=[p]:S.push(p))}function hN(p,g,S,T){g.value=S,g.getSnapshot=T,pN(g)&&Js(p,1,-1)}function dN(p,g,S){return S(function(){pN(g)&&Js(p,1,-1)})}function pN(p){var g=p.getSnapshot;p=p.value;try{var S=g();return!fa(p,S)}catch{return!0}}function yM(p){var g=Ka();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:p},g.queue=p,p=p.dispatch=JZ.bind(null,vr,p),[g.memoizedState,p]}function vm(p,g,S,T){return p={tag:p,create:g,destroy:S,deps:T,next:null},g=vr.updateQueue,g===null?(g={lastEffect:null,stores:null},vr.updateQueue=g,g.lastEffect=p.next=p):(S=g.lastEffect,S===null?g.lastEffect=p.next=p:(T=S.next,S.next=p,p.next=T,g.lastEffect=p)),p}function mN(){return ma().memoizedState}function $0(p,g,S,T){var I=Ka();vr.flags|=p,I.memoizedState=vm(1|g,S,void 0,T===void 0?null:T)}function X0(p,g,S,T){var I=ma();T=T===void 0?null:T;var N=void 0;if(_i!==null){var oe=_i.memoizedState;if(N=oe.destroy,T!==null&&mM(T,oe.deps)){I.memoizedState=vm(g,S,N,T);return}}vr.flags|=p,I.memoizedState=vm(1|g,S,N,T)}function xM(p,g){return $0(8390656,8,p,g)}function ym(p,g){return X0(2048,8,p,g)}function gN(p,g){return X0(4,2,p,g)}function vN(p,g){return X0(4,4,p,g)}function yN(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function xN(p,g,S){return S=S!=null?S.concat([p]):null,X0(4,4,yN.bind(null,g,p),S)}function bM(){}function bN(p,g){var S=ma();g=g===void 0?null:g;var T=S.memoizedState;return T!==null&&g!==null&&mM(g,T[1])?T[0]:(S.memoizedState=[p,g],p)}function _N(p,g){var S=ma();g=g===void 0?null:g;var T=S.memoizedState;return T!==null&&g!==null&&mM(g,T[1])?T[0]:(p=p(),S.memoizedState=[p,g],p)}function KZ(p,g){var S=wn;wn=S!==0&&4>S?S:4,p(!0);var T=Ys.transition;Ys.transition={};try{p(!1),g()}finally{wn=S,Ys.transition=T}}function wN(){return ma().memoizedState}function YZ(p,g,S){var T=$l(p);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},SN(p)?AN(g,S):(MN(p,g,S),S=Vi(),p=Js(p,T,S),p!==null&&EN(p,g,T))}function JZ(p,g,S){var T=$l(p),I={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(SN(p))AN(g,I);else{MN(p,g,I);var N=p.alternate;if(p.lanes===0&&(N===null||N.lanes===0)&&(N=g.lastRenderedReducer,N!==null))try{var oe=g.lastRenderedState,ve=N(oe,S);if(I.hasEagerState=!0,I.eagerState=ve,fa(ve,oe))return}catch{}finally{}S=Vi(),p=Js(p,T,S),p!==null&&EN(p,g,T)}}function SN(p){var g=p.alternate;return p===vr||g!==null&&g===vr}function AN(p,g){mm=G0=!0;var S=p.pending;S===null?g.next=g:(g.next=S.next,S.next=g),p.pending=g}function MN(p,g,S){Br!==null&&p.mode&1&&!(nn&2)?(p=g.interleaved,p===null?(S.next=S,da===null?da=[g]:da.push(g)):(S.next=p.next,p.next=S),g.interleaved=S):(p=g.pending,p===null?S.next=S:(S.next=p.next,p.next=S),g.pending=S)}function EN(p,g,S){if(S&4194240){var T=g.lanes;T&=p.pendingLanes,S|=T,g.lanes=S,KA(p,S)}}var K0={readContext:Ws,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},qZ={readContext:Ws,useCallback:function(p,g){return Ka().memoizedState=[p,g===void 0?null:g],p},useContext:Ws,useEffect:xM,useImperativeHandle:function(p,g,S){return S=S!=null?S.concat([p]):null,$0(4194308,4,yN.bind(null,g,p),S)},useLayoutEffect:function(p,g){return $0(4194308,4,p,g)},useInsertionEffect:function(p,g){return $0(4,2,p,g)},useMemo:function(p,g){var S=Ka();return g=g===void 0?null:g,p=p(),S.memoizedState=[p,g],p},useReducer:function(p,g,S){var T=Ka();return g=S!==void 0?S(g):g,T.memoizedState=T.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},T.queue=p,p=p.dispatch=YZ.bind(null,vr,p),[T.memoizedState,p]},useRef:function(p){var g=Ka();return p={current:p},g.memoizedState=p},useState:yM,useDebugValue:bM,useDeferredValue:function(p){var g=yM(p),S=g[0],T=g[1];return xM(function(){var I=Ys.transition;Ys.transition={};try{T(p)}finally{Ys.transition=I}},[p]),S},useTransition:function(){var p=yM(!1),g=p[0];return p=KZ.bind(null,p[1]),Ka().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,S){var T=vr,I=Ka();if(rr){if(S===void 0)throw Error(o(407));S=S()}else{if(S=g(),Br===null)throw Error(o(349));xh&30||fN(T,g,S)}I.memoizedState=S;var N={value:S,getSnapshot:g};return I.queue=N,xM(dN.bind(null,T,N,p),[p]),T.flags|=2048,vm(9,hN.bind(null,T,N,S,g),void 0,null),S},useId:function(){var p=Ka(),g=Br.identifierPrefix;if(rr){var S=Xa,T=$a;S=(T&~(1<<32-jn(T)-1)).toString(32)+S,g=":"+g+"R"+S,S=gm++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=XZ++,g=":"+g+"r"+S.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},ZZ={readContext:Ws,useCallback:bN,useContext:Ws,useEffect:ym,useImperativeHandle:xN,useInsertionEffect:gN,useLayoutEffect:vN,useMemo:_N,useReducer:V0,useRef:mN,useState:function(){return V0(mu)},useDebugValue:bM,useDeferredValue:function(p){var g=V0(mu),S=g[0],T=g[1];return ym(function(){var I=Ys.transition;Ys.transition={};try{T(p)}finally{Ys.transition=I}},[p]),S},useTransition:function(){var p=V0(mu)[0],g=ma().memoizedState;return[p,g]},useMutableSource:cN,useSyncExternalStore:uN,useId:wN,unstable_isNewReconciler:!1},QZ={readContext:Ws,useCallback:bN,useContext:Ws,useEffect:ym,useImperativeHandle:xN,useInsertionEffect:gN,useLayoutEffect:vN,useMemo:_N,useReducer:W0,useRef:mN,useState:function(){return W0(mu)},useDebugValue:bM,useDeferredValue:function(p){var g=W0(mu),S=g[0],T=g[1];return ym(function(){var I=Ys.transition;Ys.transition={};try{T(p)}finally{Ys.transition=I}},[p]),S},useTransition:function(){var p=W0(mu)[0],g=ma().memoizedState;return[p,g]},useMutableSource:cN,useSyncExternalStore:uN,useId:wN,unstable_isNewReconciler:!1};function _M(p,g){try{var S="",T=g;do S+=$Z(T),T=T.return;while(T);var I=S}catch(N){I=`
Error generating stack: `+N.message+`
`+N.stack}return{value:p,source:g,stack:I}}function wM(p,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var eQ=typeof WeakMap=="function"?WeakMap:Map;function TN(p,g,S){S=Wa(-1,S),S.tag=3,S.payload={element:null};var T=g.value;return S.callback=function(){ux||(ux=!0,jM=T),wM(p,g)},S}function CN(p,g,S){S=Wa(-1,S),S.tag=3;var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var I=g.value;S.payload=function(){return T(I)},S.callback=function(){wM(p,g)}}var N=p.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(S.callback=function(){wM(p,g),typeof T!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var oe=g.stack;this.componentDidCatch(g.value,{componentStack:oe!==null?oe:""})}),S}function PN(p,g,S){var T=p.pingCache;if(T===null){T=p.pingCache=new eQ;var I=new Set;T.set(g,I)}else I=T.get(g),I===void 0&&(I=new Set,T.set(g,I));I.has(S)||(I.add(S),p=pQ.bind(null,p,g,S),g.then(p,p))}function RN(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function ON(p,g,S,T,I){return p.mode&1?(p.flags|=65536,p.lanes=I,p):(p===g?p.flags|=65536:(p.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Wa(-1,1),g.tag=2,Gl(S,g))),S.lanes|=1),p)}function ga(p){p.flags|=4}function IN(p,g){if(p!==null&&p.child===g.child)return!0;if(g.flags&16)return!1;for(p=g.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var xm,bm,Y0,J0;if(Xe)xm=function(p,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)fe(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},bm=function(){},Y0=function(p,g,S,T,I){if(p=p.memoizedProps,p!==T){var N=g.stateNode,oe=pa(Ks.current);S=pe(N,S,p,T,I,oe),(g.updateQueue=S)&&ga(g)}},J0=function(p,g,S,T){S!==T&&ga(g)};else if(X){xm=function(p,g,S,T){for(var I=g.child;I!==null;){if(I.tag===5){var N=I.stateNode;S&&T&&(N=bn(N,I.type,I.memoizedProps,I)),fe(p,N)}else if(I.tag===6)N=I.stateNode,S&&T&&(N=Xn(N,I.memoizedProps,I)),fe(p,N);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)N=I.child,N!==null&&(N.return=I),xm(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var BN=function(p,g,S,T){for(var I=g.child;I!==null;){if(I.tag===5){var N=I.stateNode;S&&T&&(N=bn(N,I.type,I.memoizedProps,I)),Tt(p,N)}else if(I.tag===6)N=I.stateNode,S&&T&&(N=Xn(N,I.memoizedProps,I)),Tt(p,N);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)N=I.child,N!==null&&(N.return=I),BN(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};bm=function(p,g){var S=g.stateNode;if(!IN(p,g)){p=S.containerInfo;var T=At(p);BN(T,g,!1,!1),S.pendingChildren=T,ga(g),Vt(p,T)}},Y0=function(p,g,S,T,I){var N=p.stateNode,oe=p.memoizedProps;if((p=IN(p,g))&&oe===T)g.stateNode=N;else{var ve=g.stateNode,Fe=pa(Ks.current),lt=null;oe!==T&&(lt=pe(ve,S,oe,T,I,Fe)),p&&lt===null?g.stateNode=N:(N=st(N,lt,S,oe,T,g,p,ve),we(N,S,T,I,Fe)&&ga(g),g.stateNode=N,p?ga(g):xm(N,g,!1,!1))}},J0=function(p,g,S,T){S!==T?(p=pa(vh.current),S=pa(Ks.current),g.stateNode=Pe(T,p,S,g),ga(g)):g.stateNode=p.stateNode}}else bm=function(){},Y0=function(){},J0=function(){};function _m(p,g){if(!rr)switch(p.tailMode){case"hidden":g=p.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:T.sibling=null}}function Si(p){var g=p.alternate!==null&&p.alternate.child===p.child,S=0,T=0;if(g)for(var I=p.child;I!==null;)S|=I.lanes|I.childLanes,T|=I.subtreeFlags&14680064,T|=I.flags&14680064,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)S|=I.lanes|I.childLanes,T|=I.subtreeFlags,T|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=T,p.childLanes=S,g}function tQ(p,g,S){var T=g.pendingProps;switch(aM(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(g),null;case 1:return nr(g.type)&&mn(),Si(g),null;case 3:return T=g.stateNode,yh(),yt(zt),yt(Nt),pM(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(fm(g)?ga(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,Ro!==null&&(GM(Ro),Ro=null))),bm(p,g),Si(g),null;case 5:hM(g),S=pa(vh.current);var I=g.type;if(p!==null&&g.stateNode!=null)Y0(p,g,I,T,S),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!T){if(g.stateNode===null)throw Error(o(166));return Si(g),null}if(p=pa(Ks.current),fm(g)){if(!Le)throw Error(o(175));p=k(g.stateNode,g.type,g.memoizedProps,S,p,g,!um),g.updateQueue=p,p!==null&&ga(g)}else{var N=re(I,T,S,p,g);xm(N,g,!1,!1),g.stateNode=N,we(N,I,T,S,p)&&ga(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Si(g),null;case 6:if(p&&g.stateNode!=null)J0(p,g,p.memoizedProps,T);else{if(typeof T!="string"&&g.stateNode===null)throw Error(o(166));if(p=pa(vh.current),S=pa(Ks.current),fm(g)){if(!Le)throw Error(o(176));if(p=g.stateNode,T=g.memoizedProps,(S=W(p,T,g,!um))&&(I=bs,I!==null))switch(N=(I.mode&1)!==0,I.tag){case 3:Oe(I.stateNode.containerInfo,p,T,N);break;case 5:De(I.type,I.memoizedProps,I.stateNode,p,T,N)}S&&ga(g)}else g.stateNode=Pe(T,p,S,g)}return Si(g),null;case 13:if(yt(cr),T=g.memoizedState,rr&&_s!==null&&g.mode&1&&!(g.flags&128)){for(p=_s;p;)p=Mt(p);return mh(),g.flags|=98560,g}if(T!==null&&T.dehydrated!==null){if(T=fm(g),p===null){if(!T)throw Error(o(318));if(!Le)throw Error(o(344));if(p=g.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));ce(p,g)}else mh(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Si(g),null}return Ro!==null&&(GM(Ro),Ro=null),g.flags&128?(g.lanes=S,g):(T=T!==null,S=!1,p===null?fm(g):S=p.memoizedState!==null,T&&!S&&(g.child.flags|=8192,g.mode&1&&(p===null||cr.current&1?Hr===0&&(Hr=3):WM())),g.updateQueue!==null&&(g.flags|=4),Si(g),null);case 4:return yh(),bm(p,g),p===null&&Ve(g.stateNode.containerInfo),Si(g),null;case 10:return tM(g.type._context),Si(g),null;case 17:return nr(g.type)&&mn(),Si(g),null;case 19:if(yt(cr),I=g.memoizedState,I===null)return Si(g),null;if(T=(g.flags&128)!==0,N=I.rendering,N===null)if(T)_m(I,!1);else{if(Hr!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(N=z0(p),N!==null){for(g.flags|=128,_m(I,!1),p=N.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),g.subtreeFlags=0,p=S,T=g.child;T!==null;)S=T,I=p,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=I,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,I=N.dependencies,S.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),T=T.sibling;return ct(cr,cr.current&1|2),g.child}p=p.sibling}I.tail!==null&&ei()>UM&&(g.flags|=128,T=!0,_m(I,!1),g.lanes=4194304)}else{if(!T)if(p=z0(N),p!==null){if(g.flags|=128,T=!0,p=p.updateQueue,p!==null&&(g.updateQueue=p,g.flags|=4),_m(I,!0),I.tail===null&&I.tailMode==="hidden"&&!N.alternate&&!rr)return Si(g),null}else 2*ei()-I.renderingStartTime>UM&&S!==1073741824&&(g.flags|=128,T=!0,_m(I,!1),g.lanes=4194304);I.isBackwards?(N.sibling=g.child,g.child=N):(p=I.last,p!==null?p.sibling=N:g.child=N,I.last=N)}return I.tail!==null?(g=I.tail,I.rendering=g,I.tail=g.sibling,I.renderingStartTime=ei(),g.sibling=null,p=cr.current,ct(cr,T?p&1|2:p&1),g):(Si(g),null);case 22:case 23:return VM(),T=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==T&&(g.flags|=8192),T&&g.mode&1?Ss&1073741824&&(Si(g),Xe&&g.subtreeFlags&6&&(g.flags|=8192)):Si(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var nQ=a.ReactCurrentOwner,ws=!1;function Gi(p,g,S,T){g.child=p===null?aN(g,null,S,T):gh(g,p.child,S,T)}function DN(p,g,S,T,I){S=S.render;var N=g.ref;return hh(g,I),T=gM(p,g,S,T,N,I),S=vM(),p!==null&&!ws?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~I,Ya(p,g,I)):(rr&&S&&oM(g),g.flags|=1,Gi(p,g,T,I),g.child)}function LN(p,g,S,T,I){if(p===null){var N=S.type;return typeof N=="function"&&!$M(N)&&N.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=N,NN(p,g,N,T,I)):(p=vx(S.type,null,T,g,g.mode,I),p.ref=g.ref,p.return=g,g.child=p)}if(N=p.child,!(p.lanes&I)){var oe=N.memoizedProps;if(S=S.compare,S=S!==null?S:I0,S(oe,T)&&p.ref===g.ref)return Ya(p,g,I)}return g.flags|=1,p=Kl(N,T),p.ref=g.ref,p.return=g,g.child=p}function NN(p,g,S,T,I){if(p!==null&&I0(p.memoizedProps,T)&&p.ref===g.ref)if(ws=!1,(p.lanes&I)!==0)p.flags&131072&&(ws=!0);else return g.lanes=p.lanes,Ya(p,g,I);return SM(p,g,S,T,I)}function kN(p,g,S){var T=g.pendingProps,I=T.children,N=p!==null?p.memoizedState:null;if(T.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},ct(bh,Ss),Ss|=S;else if(S&1073741824)g.memoizedState={baseLanes:0,cachePool:null},T=N!==null?N.baseLanes:S,ct(bh,Ss),Ss|=T;else return p=N!==null?N.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null},g.updateQueue=null,ct(bh,Ss),Ss|=p,null;else N!==null?(T=N.baseLanes|S,g.memoizedState=null):T=S,ct(bh,Ss),Ss|=T;return Gi(p,g,I,S),g.child}function FN(p,g){var S=g.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function SM(p,g,S,T,I){var N=nr(S)?Tn:Nt.current;return N=gr(g,N),hh(g,I),S=gM(p,g,S,T,N,I),T=vM(),p!==null&&!ws?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~I,Ya(p,g,I)):(rr&&T&&oM(g),g.flags|=1,Gi(p,g,S,I),g.child)}function UN(p,g,S,T,I){if(nr(S)){var N=!0;Kt(g)}else N=!1;if(hh(g,I),g.stateNode===null)p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),QL(g,S,T),sM(g,S,T,I),T=!0;else if(p===null){var oe=g.stateNode,ve=g.memoizedProps;oe.props=ve;var Fe=oe.context,lt=S.contextType;typeof lt=="object"&&lt!==null?lt=Ws(lt):(lt=nr(S)?Tn:Nt.current,lt=gr(g,lt));var Ot=S.getDerivedStateFromProps,Wt=typeof Ot=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Wt||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ve!==T||Fe!==lt)&&eN(g,oe,T,lt),Hl=!1;var Ut=g.memoizedState;oe.state=Ut,N0(g,T,oe,I),Fe=g.memoizedState,ve!==T||Ut!==Fe||zt.current||Hl?(typeof Ot=="function"&&(iM(g,S,Ot,T),Fe=g.memoizedState),(ve=Hl||ZL(g,S,ve,T,Ut,Fe,lt))?(Wt||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(g.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=T,g.memoizedState=Fe),oe.props=T,oe.state=Fe,oe.context=lt,T=ve):(typeof oe.componentDidMount=="function"&&(g.flags|=4194308),T=!1)}else{oe=g.stateNode,KL(p,g),ve=g.memoizedProps,lt=g.type===g.elementType?ve:Po(g.type,ve),oe.props=lt,Wt=g.pendingProps,Ut=oe.context,Fe=S.contextType,typeof Fe=="object"&&Fe!==null?Fe=Ws(Fe):(Fe=nr(S)?Tn:Nt.current,Fe=gr(g,Fe));var Fn=S.getDerivedStateFromProps;(Ot=typeof Fn=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ve!==Wt||Ut!==Fe)&&eN(g,oe,T,Fe),Hl=!1,Ut=g.memoizedState,oe.state=Ut,N0(g,T,oe,I);var kt=g.memoizedState;ve!==Wt||Ut!==kt||zt.current||Hl?(typeof Fn=="function"&&(iM(g,S,Fn,T),kt=g.memoizedState),(lt=Hl||ZL(g,S,lt,T,Ut,kt,Fe)||!1)?(Ot||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(T,kt,Fe),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(T,kt,Fe)),typeof oe.componentDidUpdate=="function"&&(g.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ve===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ve===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=1024),g.memoizedProps=T,g.memoizedState=kt),oe.props=T,oe.state=kt,oe.context=Fe,T=lt):(typeof oe.componentDidUpdate!="function"||ve===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ve===p.memoizedProps&&Ut===p.memoizedState||(g.flags|=1024),T=!1)}return AM(p,g,S,T,N,I)}function AM(p,g,S,T,I,N){FN(p,g);var oe=(g.flags&128)!==0;if(!T&&!oe)return I&&cn(g,S,!1),Ya(p,g,N);T=g.stateNode,nQ.current=g;var ve=oe&&typeof S.getDerivedStateFromError!="function"?null:T.render();return g.flags|=1,p!==null&&oe?(g.child=gh(g,p.child,null,N),g.child=gh(g,null,ve,N)):Gi(p,g,ve,N),g.memoizedState=T.state,I&&cn(g,S,!0),g.child}function jN(p){var g=p.stateNode;g.pendingContext?sn(p,g.pendingContext,g.pendingContext!==g.context):g.context&&sn(p,g.context,!1),fM(p,g.containerInfo)}function zN(p,g,S,T,I){return mh(),uM(I),g.flags|=256,Gi(p,g,S,T),g.child}var q0={dehydrated:null,treeContext:null,retryLane:0};function Z0(p){return{baseLanes:p,cachePool:null}}function HN(p,g,S){var T=g.pendingProps,I=cr.current,N=!1,oe=(g.flags&128)!==0,ve;if((ve=oe)||(ve=p!==null&&p.memoizedState===null?!1:(I&2)!==0),ve?(N=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(I|=1),ct(cr,I&1),p===null)return cM(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(g.mode&1?Je(p)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(I=T.children,p=T.fallback,N?(T=g.mode,N=g.child,I={mode:"hidden",children:I},!(T&1)&&N!==null?(N.childLanes=0,N.pendingProps=I):N=yx(I,T,0,null),p=_u(p,T,S,null),N.return=g,p.return=g,N.sibling=p,g.child=N,g.child.memoizedState=Z0(S),g.memoizedState=q0,p):MM(g,I));if(I=p.memoizedState,I!==null){if(ve=I.dehydrated,ve!==null){if(oe)return g.flags&256?(g.flags&=-257,Q0(p,g,S,Error(o(422)))):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(N=T.fallback,I=g.mode,T=yx({mode:"visible",children:T.children},I,0,null),N=_u(N,I,S,null),N.flags|=2,T.return=g,N.return=g,T.sibling=N,g.child=T,g.mode&1&&gh(g,p.child,null,S),g.child.memoizedState=Z0(S),g.memoizedState=q0,N);if(!(g.mode&1))g=Q0(p,g,S,null);else if(Je(ve))g=Q0(p,g,S,Error(o(419)));else if(T=(S&p.childLanes)!==0,ws||T){if(T=Br,T!==null){switch(S&-S){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}T=N&(T.suspendedLanes|S)?0:N,T!==0&&T!==I.retryLane&&(I.retryLane=T,Js(p,T,-1))}WM(),g=Q0(p,g,S,Error(o(421)))}else Ee(ve)?(g.flags|=128,g.child=p.child,g=mQ.bind(null,p),at(ve,g),g=null):(S=I.treeContext,Le&&(_s=Ct(ve),bs=g,rr=!0,Ro=null,um=!1,S!==null&&($s[Xs++]=$a,$s[Xs++]=Xa,$s[Xs++]=du,$a=S.id,Xa=S.overflow,du=g)),g=MM(g,g.pendingProps.children),g.flags|=4096);return g}return N?(T=VN(p,g,T.children,T.fallback,S),N=g.child,I=p.child.memoizedState,N.memoizedState=I===null?Z0(S):{baseLanes:I.baseLanes|S,cachePool:null},N.childLanes=p.childLanes&~S,g.memoizedState=q0,T):(S=GN(p,g,T.children,S),g.memoizedState=null,S)}return N?(T=VN(p,g,T.children,T.fallback,S),N=g.child,I=p.child.memoizedState,N.memoizedState=I===null?Z0(S):{baseLanes:I.baseLanes|S,cachePool:null},N.childLanes=p.childLanes&~S,g.memoizedState=q0,T):(S=GN(p,g,T.children,S),g.memoizedState=null,S)}function MM(p,g){return g=yx({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function GN(p,g,S,T){var I=p.child;return p=I.sibling,S=Kl(I,{mode:"visible",children:S}),!(g.mode&1)&&(S.lanes=T),S.return=g,S.sibling=null,p!==null&&(T=g.deletions,T===null?(g.deletions=[p],g.flags|=16):T.push(p)),g.child=S}function VN(p,g,S,T,I){var N=g.mode;p=p.child;var oe=p.sibling,ve={mode:"hidden",children:S};return!(N&1)&&g.child!==p?(S=g.child,S.childLanes=0,S.pendingProps=ve,g.deletions=null):(S=Kl(p,ve),S.subtreeFlags=p.subtreeFlags&14680064),oe!==null?T=Kl(oe,T):(T=_u(T,N,I,null),T.flags|=2),T.return=g,S.return=g,S.sibling=T,g.child=S,T}function Q0(p,g,S,T){return T!==null&&uM(T),gh(g,p.child,null,S),p=MM(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function WN(p,g,S){p.lanes|=g;var T=p.alternate;T!==null&&(T.lanes|=g),nM(p.return,g,S)}function EM(p,g,S,T,I){var N=p.memoizedState;N===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:I}:(N.isBackwards=g,N.rendering=null,N.renderingStartTime=0,N.last=T,N.tail=S,N.tailMode=I)}function $N(p,g,S){var T=g.pendingProps,I=T.revealOrder,N=T.tail;if(Gi(p,g,T.children,S),T=cr.current,T&2)T=T&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&WN(p,S,g);else if(p.tag===19)WN(p,S,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}T&=1}if(ct(cr,T),!(g.mode&1))g.memoizedState=null;else switch(I){case"forwards":for(S=g.child,I=null;S!==null;)p=S.alternate,p!==null&&z0(p)===null&&(I=S),S=S.sibling;S=I,S===null?(I=g.child,g.child=null):(I=S.sibling,S.sibling=null),EM(g,!1,I,S,N);break;case"backwards":for(S=null,I=g.child,g.child=null;I!==null;){if(p=I.alternate,p!==null&&z0(p)===null){g.child=I;break}p=I.sibling,I.sibling=S,S=I,I=p}EM(g,!0,S,null,N);break;case"together":EM(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Ya(p,g,S){if(p!==null&&(g.dependencies=p.dependencies),_h|=g.lanes,!(S&g.childLanes))return null;if(p!==null&&g.child!==p.child)throw Error(o(153));if(g.child!==null){for(p=g.child,S=Kl(p,p.pendingProps),g.child=S,S.return=g;p.sibling!==null;)p=p.sibling,S=S.sibling=Kl(p,p.pendingProps),S.return=g;S.sibling=null}return g.child}function rQ(p,g,S){switch(g.tag){case 3:jN(g),mh();break;case 5:lN(g);break;case 1:nr(g.type)&&Kt(g);break;case 4:fM(g,g.stateNode.containerInfo);break;case 10:XL(g,g.type._context,g.memoizedProps.value);break;case 13:var T=g.memoizedState;if(T!==null)return T.dehydrated!==null?(ct(cr,cr.current&1),g.flags|=128,null):S&g.child.childLanes?HN(p,g,S):(ct(cr,cr.current&1),p=Ya(p,g,S),p!==null?p.sibling:null);ct(cr,cr.current&1);break;case 19:if(T=(S&g.childLanes)!==0,p.flags&128){if(T)return $N(p,g,S);g.flags|=128}var I=g.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ct(cr,cr.current),T)break;return null;case 22:case 23:return g.lanes=0,kN(p,g,S)}return Ya(p,g,S)}function iQ(p,g){switch(aM(g),g.tag){case 1:return nr(g.type)&&mn(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return yh(),yt(zt),yt(Nt),pM(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 5:return hM(g),null;case 13:if(yt(cr),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(o(340));mh()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return yt(cr),null;case 4:return yh(),null;case 10:return tM(g.type._context),null;case 22:case 23:return VM(),null;case 24:return null;default:return null}}var ex=!1,gu=!1,sQ=typeof WeakSet=="function"?WeakSet:Set,xt=null;function tx(p,g){var S=p.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){is(p,g,T)}else S.current=null}function TM(p,g,S){try{S()}catch(T){is(p,g,T)}}var XN=!1;function oQ(p,g){for(J(p.containerInfo),xt=g;xt!==null;)if(p=xt,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,xt=g;else for(;xt!==null;){p=xt;try{var S=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,I=S.memoizedState,N=p.stateNode,oe=N.getSnapshotBeforeUpdate(p.elementType===p.type?T:Po(p.type,T),I);N.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:Xe&&Qe(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ve){is(p,p.return,ve)}if(g=p.sibling,g!==null){g.return=p.return,xt=g;break}xt=p.return}return S=XN,XN=!1,S}function vu(p,g,S){var T=g.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var I=T=T.next;do{if((I.tag&p)===p){var N=I.destroy;I.destroy=void 0,N!==void 0&&TM(g,S,N)}I=I.next}while(I!==T)}}function wm(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&p)===p){var T=S.create;S.destroy=T()}S=S.next}while(S!==g)}}function CM(p){var g=p.ref;if(g!==null){var S=p.stateNode;switch(p.tag){case 5:p=Y(S);break;default:p=S}typeof g=="function"?g(p):g.current=p}}function KN(p,g,S){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(R0,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(p=g.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var T=p=p.next;do{var I=T,N=I.destroy;I=I.tag,N!==void 0&&(I&2||I&4)&&TM(g,S,N),T=T.next}while(T!==p)}break;case 1:if(tx(g,S),p=g.stateNode,typeof p.componentWillUnmount=="function")try{p.props=g.memoizedProps,p.state=g.memoizedState,p.componentWillUnmount()}catch(oe){is(g,S,oe)}break;case 5:tx(g,S);break;case 4:Xe?e3(p,g,S):X&&X&&(g=g.stateNode.containerInfo,S=At(g),Xt(g,S))}}function YN(p,g,S){for(var T=g;;)if(KN(p,T,S),T.child===null||Xe&&T.tag===4){if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function JN(p){var g=p.alternate;g!==null&&(p.alternate=null,JN(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&dt(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function qN(p){return p.tag===5||p.tag===3||p.tag===4}function ZN(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||qN(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function QN(p){if(Xe){e:{for(var g=p.return;g!==null;){if(qN(g))break e;g=g.return}throw Error(o(160))}var S=g;switch(S.tag){case 5:g=S.stateNode,S.flags&32&&(Ce(g),S.flags&=-33),S=ZN(p),RM(p,S,g);break;case 3:case 4:g=S.stateNode.containerInfo,S=ZN(p),PM(p,S,g);break;default:throw Error(o(161))}}}function PM(p,g,S){var T=p.tag;if(T===5||T===6)p=p.stateNode,g?Ke(S,p,g):D(S,p);else if(T!==4&&(p=p.child,p!==null))for(PM(p,g,S),p=p.sibling;p!==null;)PM(p,g,S),p=p.sibling}function RM(p,g,S){var T=p.tag;if(T===5||T===6)p=p.stateNode,g?_e(S,p,g):O(S,p);else if(T!==4&&(p=p.child,p!==null))for(RM(p,g,S),p=p.sibling;p!==null;)RM(p,g,S),p=p.sibling}function e3(p,g,S){for(var T=g,I=!1,N,oe;;){if(!I){I=T.return;e:for(;;){if(I===null)throw Error(o(160));switch(N=I.stateNode,I.tag){case 5:oe=!1;break e;case 3:N=N.containerInfo,oe=!0;break e;case 4:N=N.containerInfo,oe=!0;break e}I=I.return}I=!0}if(T.tag===5||T.tag===6)YN(p,T,S),oe?ue(N,T.stateNode):tt(N,T.stateNode);else if(T.tag===18)oe?se(N,T.stateNode):le(N,T.stateNode);else if(T.tag===4){if(T.child!==null){N=T.stateNode.containerInfo,oe=!0,T.child.return=T,T=T.child;continue}}else if(KN(p,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return,T.tag===4&&(I=!1)}T.sibling.return=T.return,T=T.sibling}}function OM(p,g){if(Xe){switch(g.tag){case 0:case 11:case 14:case 15:vu(3,g,g.return),wm(3,g),vu(5,g,g.return);return;case 1:return;case 5:var S=g.stateNode;if(S!=null){var T=g.memoizedProps;p=p!==null?p.memoizedProps:T;var I=g.type,N=g.updateQueue;g.updateQueue=null,N!==null&&ge(S,N,I,p,T,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));S=g.memoizedProps,V(g.stateNode,p!==null?p.memoizedProps:S,S);return;case 3:Le&&p!==null&&p.memoizedState.isDehydrated&&ee(g.stateNode.containerInfo);return;case 12:return;case 13:nx(g);return;case 19:nx(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:vu(3,g,g.return),wm(3,g),vu(5,g,g.return);return;case 12:return;case 13:nx(g);return;case 19:nx(g);return;case 3:Le&&p!==null&&p.memoizedState.isDehydrated&&ee(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,Xt(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function nx(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new sQ),g.forEach(function(T){var I=gQ.bind(null,p,T);S.has(T)||(S.add(T),T.then(I,I))})}}function aQ(p,g){for(xt=g;xt!==null;){g=xt;var S=g.deletions;if(S!==null)for(var T=0;T<S.length;T++){var I=S[T];try{var N=p;Xe?e3(N,I,g):YN(N,I,g);var oe=I.alternate;oe!==null&&(oe.return=null),I.return=null}catch(Lt){is(I,g,Lt)}}if(S=g.child,g.subtreeFlags&12854&&S!==null)S.return=g,xt=S;else for(;xt!==null;){g=xt;try{var ve=g.flags;if(ve&32&&Xe&&Ce(g.stateNode),ve&512){var Fe=g.alternate;if(Fe!==null){var lt=Fe.ref;lt!==null&&(typeof lt=="function"?lt(null):lt.current=null)}}if(ve&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var Ot=g.alternate;(Ot===null||Ot.memoizedState===null)&&(FM=ei())}break;case 22:var Wt=g.memoizedState!==null,Ut=g.alternate,Fn=Ut!==null&&Ut.memoizedState!==null;if(S=g,Xe){e:if(T=S,I=Wt,N=null,Xe)for(var kt=T;;){if(kt.tag===5){if(N===null){N=kt;var Ai=kt.stateNode;I?Ge(Ai):$e(kt.stateNode,kt.memoizedProps)}}else if(kt.tag===6){if(N===null){var Zs=kt.stateNode;I?vt(Zs):ae(Zs,kt.memoizedProps)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===T)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===T)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===T)break e;N===kt&&(N=null),kt=kt.return}N===kt&&(N=null),kt.sibling.return=kt.return,kt=kt.sibling}}if(Wt&&!Fn&&S.mode&1){xt=S;for(var Te=S.child;Te!==null;){for(S=xt=Te;xt!==null;){T=xt;var be=T.child;switch(T.tag){case 0:case 11:case 14:case 15:vu(4,T,T.return);break;case 1:tx(T,T.return);var Ne=T.stateNode;if(typeof Ne.componentWillUnmount=="function"){var _t=T.return;try{Ne.props=T.memoizedProps,Ne.state=T.memoizedState,Ne.componentWillUnmount()}catch(Lt){is(T,_t,Lt)}}break;case 5:tx(T,T.return);break;case 22:if(T.memoizedState!==null){r3(S);continue}}be!==null?(be.return=T,xt=be):r3(S)}Te=Te.sibling}}}switch(ve&4102){case 2:QN(g),g.flags&=-3;break;case 6:QN(g),g.flags&=-3,OM(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,OM(g.alternate,g);break;case 4:OM(g.alternate,g)}}catch(Lt){is(g,g.return,Lt)}if(S=g.sibling,S!==null){S.return=g.return,xt=S;break}xt=g.return}}}function lQ(p,g,S){xt=p,t3(p)}function t3(p,g,S){for(var T=(p.mode&1)!==0;xt!==null;){var I=xt,N=I.child;if(I.tag===22&&T){var oe=I.memoizedState!==null||ex;if(!oe){var ve=I.alternate,Fe=ve!==null&&ve.memoizedState!==null||gu;ve=ex;var lt=gu;if(ex=oe,(gu=Fe)&&!lt)for(xt=I;xt!==null;)oe=xt,Fe=oe.child,oe.tag===22&&oe.memoizedState!==null?i3(I):Fe!==null?(Fe.return=oe,xt=Fe):i3(I);for(;N!==null;)xt=N,t3(N),N=N.sibling;xt=I,ex=ve,gu=lt}n3(p)}else I.subtreeFlags&8772&&N!==null?(N.return=I,xt=N):n3(p)}}function n3(p){for(;xt!==null;){var g=xt;if(g.flags&8772){var S=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:gu||wm(5,g);break;case 1:var T=g.stateNode;if(g.flags&4&&!gu)if(S===null)T.componentDidMount();else{var I=g.elementType===g.type?S.memoizedProps:Po(g.type,S.memoizedProps);T.componentDidUpdate(I,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var N=g.updateQueue;N!==null&&JL(g,N,T);break;case 3:var oe=g.updateQueue;if(oe!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=Y(g.child.stateNode);break;case 1:S=g.child.stateNode}JL(g,oe,S)}break;case 5:var ve=g.stateNode;S===null&&g.flags&4&&he(ve,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Le&&g.memoizedState===null){var Fe=g.alternate;if(Fe!==null){var lt=Fe.memoizedState;if(lt!==null){var Ot=lt.dehydrated;Ot!==null&&ne(Ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}gu||g.flags&512&&CM(g)}catch(Wt){is(g,g.return,Wt)}}if(g===p){xt=null;break}if(S=g.sibling,S!==null){S.return=g.return,xt=S;break}xt=g.return}}function r3(p){for(;xt!==null;){var g=xt;if(g===p){xt=null;break}var S=g.sibling;if(S!==null){S.return=g.return,xt=S;break}xt=g.return}}function i3(p){for(;xt!==null;){var g=xt;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{wm(4,g)}catch(Fe){is(g,S,Fe)}break;case 1:var T=g.stateNode;if(typeof T.componentDidMount=="function"){var I=g.return;try{T.componentDidMount()}catch(Fe){is(g,I,Fe)}}var N=g.return;try{CM(g)}catch(Fe){is(g,N,Fe)}break;case 5:var oe=g.return;try{CM(g)}catch(Fe){is(g,oe,Fe)}}}catch(Fe){is(g,g.return,Fe)}if(g===p){xt=null;break}var ve=g.sibling;if(ve!==null){ve.return=g.return,xt=ve;break}xt=g.return}}var rx=0,ix=1,sx=2,ox=3,ax=4;if(typeof Symbol=="function"&&Symbol.for){var Sm=Symbol.for;rx=Sm("selector.component"),ix=Sm("selector.has_pseudo_class"),sx=Sm("selector.role"),ox=Sm("selector.test_id"),ax=Sm("selector.text")}function IM(p){var g=Se(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(p=xe(p),p===null)throw Error(o(362));return p.stateNode.current}function BM(p,g){switch(g.$$typeof){case rx:if(p.type===g.value)return!0;break;case ix:e:{g=g.value,p=[p,0];for(var S=0;S<p.length;){var T=p[S++],I=p[S++],N=g[I];if(T.tag!==5||!Ue(T)){for(;N!=null&&BM(T,N);)I++,N=g[I];if(I===g.length){g=!0;break e}else for(T=T.child;T!==null;)p.push(T,I),T=T.sibling}}g=!1}return g;case sx:if(p.tag===5&&ut(p.stateNode,g.value))return!0;break;case ax:if((p.tag===5||p.tag===6)&&(p=We(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case ox:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function DM(p){switch(p.$$typeof){case rx:return"<"+(E(p.value)||"Unknown")+">";case ix:return":has("+(DM(p)||"")+")";case sx:return'[role="'+p.value+'"]';case ax:return'"'+p.value+'"';case ox:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function s3(p,g){var S=[];p=[p,0];for(var T=0;T<p.length;){var I=p[T++],N=p[T++],oe=g[N];if(I.tag!==5||!Ue(I)){for(;oe!=null&&BM(I,oe);)N++,oe=g[N];if(N===g.length)S.push(I);else for(I=I.child;I!==null;)p.push(I,N),I=I.sibling}}return S}function LM(p,g){if(!$)throw Error(o(363));p=IM(p),p=s3(p,g),g=[],p=Array.from(p);for(var S=0;S<p.length;){var T=p[S++];if(T.tag===5)Ue(T)||g.push(T.stateNode);else for(T=T.child;T!==null;)p.push(T),T=T.sibling}return g}var cQ=Math.ceil,lx=a.ReactCurrentDispatcher,NM=a.ReactCurrentOwner,Ar=a.ReactCurrentBatchConfig,nn=0,Br=null,Dr=null,ui=0,Ss=0,bh=Et(0),Hr=0,Am=null,_h=0,cx=0,kM=0,Mm=null,ns=null,FM=0,UM=1/0;function wh(){UM=ei()+500}var ux=!1,jM=null,Vl=null,fx=!1,Wl=null,hx=0,Em=0,zM=null,dx=-1,px=0;function Vi(){return nn&6?ei():dx!==-1?dx:dx=ei()}function $l(p){return p.mode&1?nn&2&&ui!==0?ui&-ui:WZ.transition!==null?(px===0&&(p=T0,T0<<=1,!(T0&4194240)&&(T0=64),px=p),px):(p=wn,p!==0?p:Re()):1}function Js(p,g,S){if(50<Em)throw Em=0,zM=null,Error(o(185));var T=mx(p,g);return T===null?null:(cm(T,g,S),(!(nn&2)||T!==Br)&&(T===Br&&(!(nn&2)&&(cx|=g),Hr===4&&Xl(T,ui)),rs(T,S),g===1&&nn===0&&!(p.mode&1)&&(wh(),O0&&ha())),T)}function mx(p,g){p.lanes|=g;var S=p.alternate;for(S!==null&&(S.lanes|=g),S=p,p=p.return;p!==null;)p.childLanes|=g,S=p.alternate,S!==null&&(S.childLanes|=g),S=p,p=p.return;return S.tag===3?S.stateNode:null}function rs(p,g){var S=p.callbackNode;NZ(p,g);var T=P0(p,p===Br?ui:0);if(T===0)S!==null&&WL(S),p.callbackNode=null,p.callbackPriority=0;else if(g=T&-T,p.callbackPriority!==g){if(S!=null&&WL(S),g===1)p.tag===0?VZ(a3.bind(null,p)):$L(a3.bind(null,p)),it?Q(function(){nn===0&&ha()}):YA(JA,ha),S=null;else{switch(VL(T)){case 1:S=JA;break;case 4:S=jZ;break;case 16:S=qA;break;case 536870912:S=zZ;break;default:S=qA}S=g3(S,o3.bind(null,p))}p.callbackPriority=g,p.callbackNode=S}}function o3(p,g){if(dx=-1,px=0,nn&6)throw Error(o(327));var S=p.callbackNode;if(bu()&&p.callbackNode!==S)return null;var T=P0(p,p===Br?ui:0);if(T===0)return null;if(T&30||T&p.expiredLanes||g)g=gx(p,T);else{g=T;var I=nn;nn|=2;var N=u3();(Br!==p||ui!==g)&&(wh(),yu(p,g));do try{hQ();break}catch(ve){c3(p,ve)}while(!0);eM(),lx.current=N,nn=I,Dr!==null?g=0:(Br=null,ui=0,g=Hr)}if(g!==0){if(g===2&&(I=$A(p),I!==0&&(T=I,g=HM(p,I))),g===1)throw S=Am,yu(p,0),Xl(p,T),rs(p,ei()),S;if(g===6)Xl(p,T);else{if(I=p.current.alternate,!(T&30)&&!uQ(I)&&(g=gx(p,T),g===2&&(N=$A(p),N!==0&&(T=N,g=HM(p,N))),g===1))throw S=Am,yu(p,0),Xl(p,T),rs(p,ei()),S;switch(p.finishedWork=I,p.finishedLanes=T,g){case 0:case 1:throw Error(o(345));case 2:xu(p,ns);break;case 3:if(Xl(p,T),(T&130023424)===T&&(g=FM+500-ei(),10<g)){if(P0(p,0)!==0)break;if(I=p.suspendedLanes,(I&T)!==T){Vi(),p.pingedLanes|=p.suspendedLanes&I;break}p.timeoutHandle=Ze(xu.bind(null,p,ns),g);break}xu(p,ns);break;case 4:if(Xl(p,T),(T&4194240)===T)break;for(g=p.eventTimes,I=-1;0<T;){var oe=31-jn(T);N=1<<oe,oe=g[oe],oe>I&&(I=oe),T&=~N}if(T=I,T=ei()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*cQ(T/1960))-T,10<T){p.timeoutHandle=Ze(xu.bind(null,p,ns),T);break}xu(p,ns);break;case 5:xu(p,ns);break;default:throw Error(o(329))}}}return rs(p,ei()),p.callbackNode===S?o3.bind(null,p):null}function HM(p,g){var S=Mm;return p.current.memoizedState.isDehydrated&&(yu(p,g).flags|=256),p=gx(p,g),p!==2&&(g=ns,ns=S,g!==null&&GM(g)),p}function GM(p){ns===null?ns=p:ns.push.apply(ns,p)}function uQ(p){for(var g=p;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var I=S[T],N=I.getSnapshot;I=I.value;try{if(!fa(N(),I))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Xl(p,g){for(g&=~kM,g&=~cx,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var S=31-jn(g),T=1<<S;p[S]=-1,g&=~T}}function a3(p){if(nn&6)throw Error(o(327));bu();var g=P0(p,0);if(!(g&1))return rs(p,ei()),null;var S=gx(p,g);if(p.tag!==0&&S===2){var T=$A(p);T!==0&&(g=T,S=HM(p,T))}if(S===1)throw S=Am,yu(p,0),Xl(p,g),rs(p,ei()),S;if(S===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,xu(p,ns),rs(p,ei()),null}function l3(p){Wl!==null&&Wl.tag===0&&!(nn&6)&&bu();var g=nn;nn|=1;var S=Ar.transition,T=wn;try{if(Ar.transition=null,wn=1,p)return p()}finally{wn=T,Ar.transition=S,nn=g,!(nn&6)&&ha()}}function VM(){Ss=bh.current,yt(bh)}function yu(p,g){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==Ie&&(p.timeoutHandle=Ie,nt(S)),Dr!==null)for(S=Dr.return;S!==null;){var T=S;switch(aM(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&mn();break;case 3:yh(),yt(zt),yt(Nt),pM();break;case 5:hM(T);break;case 4:yh();break;case 13:yt(cr);break;case 19:yt(cr);break;case 10:tM(T.type._context);break;case 22:case 23:VM()}S=S.return}if(Br=p,Dr=p=Kl(p.current,null),ui=Ss=g,Hr=0,Am=null,kM=cx=_h=0,ns=Mm=null,da!==null){for(g=0;g<da.length;g++)if(S=da[g],T=S.interleaved,T!==null){S.interleaved=null;var I=T.next,N=S.pending;if(N!==null){var oe=N.next;N.next=I,T.next=oe}S.pending=T}da=null}return p}function c3(p,g){do{var S=Dr;try{if(eM(),H0.current=K0,G0){for(var T=vr.memoizedState;T!==null;){var I=T.queue;I!==null&&(I.pending=null),T=T.next}G0=!1}if(xh=0,ti=_i=vr=null,mm=!1,gm=0,NM.current=null,S===null||S.return===null){Hr=1,Am=g,Dr=null;break}e:{var N=p,oe=S.return,ve=S,Fe=g;if(g=ui,ve.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var lt=Fe,Ot=ve,Wt=Ot.tag;if(!(Ot.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Ut=Ot.alternate;Ut?(Ot.updateQueue=Ut.updateQueue,Ot.memoizedState=Ut.memoizedState,Ot.lanes=Ut.lanes):(Ot.updateQueue=null,Ot.memoizedState=null)}var Fn=RN(oe);if(Fn!==null){Fn.flags&=-257,ON(Fn,oe,ve,N,g),Fn.mode&1&&PN(N,lt,g),g=Fn,Fe=lt;var kt=g.updateQueue;if(kt===null){var Ai=new Set;Ai.add(Fe),g.updateQueue=Ai}else kt.add(Fe);break e}else{if(!(g&1)){PN(N,lt,g),WM();break e}Fe=Error(o(426))}}else if(rr&&ve.mode&1){var Zs=RN(oe);if(Zs!==null){!(Zs.flags&65536)&&(Zs.flags|=256),ON(Zs,oe,ve,N,g),uM(Fe);break e}}N=Fe,Hr!==4&&(Hr=2),Mm===null?Mm=[N]:Mm.push(N),Fe=_M(Fe,ve),ve=oe;do{switch(ve.tag){case 3:ve.flags|=65536,g&=-g,ve.lanes|=g;var Te=TN(ve,Fe,g);YL(ve,Te);break e;case 1:N=Fe;var be=ve.type,Ne=ve.stateNode;if(!(ve.flags&128)&&(typeof be.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Vl===null||!Vl.has(Ne)))){ve.flags|=65536,g&=-g,ve.lanes|=g;var _t=CN(ve,N,g);YL(ve,_t);break e}}ve=ve.return}while(ve!==null)}h3(S)}catch(Lt){g=Lt,Dr===S&&S!==null&&(Dr=S=S.return);continue}break}while(!0)}function u3(){var p=lx.current;return lx.current=K0,p===null?K0:p}function WM(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),Br===null||!(_h&268435455)&&!(cx&268435455)||Xl(Br,ui)}function gx(p,g){var S=nn;nn|=2;var T=u3();Br===p&&ui===g||yu(p,g);do try{fQ();break}catch(I){c3(p,I)}while(!0);if(eM(),nn=S,lx.current=T,Dr!==null)throw Error(o(261));return Br=null,ui=0,Hr}function fQ(){for(;Dr!==null;)f3(Dr)}function hQ(){for(;Dr!==null&&!FZ();)f3(Dr)}function f3(p){var g=m3(p.alternate,p,Ss);p.memoizedProps=p.pendingProps,g===null?h3(p):Dr=g,NM.current=null}function h3(p){var g=p;do{var S=g.alternate;if(p=g.return,g.flags&32768){if(S=iQ(S,g),S!==null){S.flags&=32767,Dr=S;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Hr=6,Dr=null;return}}else if(S=tQ(S,g,Ss),S!==null){Dr=S;return}if(g=g.sibling,g!==null){Dr=g;return}Dr=g=p}while(g!==null);Hr===0&&(Hr=5)}function xu(p,g){var S=wn,T=Ar.transition;try{Ar.transition=null,wn=1,dQ(p,g,S)}finally{Ar.transition=T,wn=S}return null}function dQ(p,g,S){do bu();while(Wl!==null);if(nn&6)throw Error(o(327));var T=p.finishedWork,I=p.finishedLanes;if(T===null)return null;if(p.finishedWork=null,p.finishedLanes=0,T===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var N=T.lanes|T.childLanes;if(kZ(p,N),p===Br&&(Dr=Br=null,ui=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||fx||(fx=!0,g3(qA,function(){return bu(),null})),N=(T.flags&15990)!==0,T.subtreeFlags&15990||N){N=Ar.transition,Ar.transition=null;var oe=wn;wn=1;var ve=nn;nn|=4,NM.current=null,oQ(p,T),aQ(p,T),te(p.containerInfo),p.current=T,lQ(T),UZ(),nn=ve,wn=oe,Ar.transition=N}else p.current=T;if(fx&&(fx=!1,Wl=p,hx=I),N=p.pendingLanes,N===0&&(Vl=null),HZ(T.stateNode),rs(p,ei()),g!==null)for(S=p.onRecoverableError,T=0;T<g.length;T++)S(g[T]);if(ux)throw ux=!1,p=jM,jM=null,p;return hx&1&&p.tag!==0&&bu(),N=p.pendingLanes,N&1?p===zM?Em++:(Em=0,zM=p):Em=0,ha(),null}function bu(){if(Wl!==null){var p=VL(hx),g=Ar.transition,S=wn;try{if(Ar.transition=null,wn=16>p?16:p,Wl===null)var T=!1;else{if(p=Wl,Wl=null,hx=0,nn&6)throw Error(o(331));var I=nn;for(nn|=4,xt=p.current;xt!==null;){var N=xt,oe=N.child;if(xt.flags&16){var ve=N.deletions;if(ve!==null){for(var Fe=0;Fe<ve.length;Fe++){var lt=ve[Fe];for(xt=lt;xt!==null;){var Ot=xt;switch(Ot.tag){case 0:case 11:case 15:vu(8,Ot,N)}var Wt=Ot.child;if(Wt!==null)Wt.return=Ot,xt=Wt;else for(;xt!==null;){Ot=xt;var Ut=Ot.sibling,Fn=Ot.return;if(JN(Ot),Ot===lt){xt=null;break}if(Ut!==null){Ut.return=Fn,xt=Ut;break}xt=Fn}}}var kt=N.alternate;if(kt!==null){var Ai=kt.child;if(Ai!==null){kt.child=null;do{var Zs=Ai.sibling;Ai.sibling=null,Ai=Zs}while(Ai!==null)}}xt=N}}if(N.subtreeFlags&2064&&oe!==null)oe.return=N,xt=oe;else e:for(;xt!==null;){if(N=xt,N.flags&2048)switch(N.tag){case 0:case 11:case 15:vu(9,N,N.return)}var Te=N.sibling;if(Te!==null){Te.return=N.return,xt=Te;break e}xt=N.return}}var be=p.current;for(xt=be;xt!==null;){oe=xt;var Ne=oe.child;if(oe.subtreeFlags&2064&&Ne!==null)Ne.return=oe,xt=Ne;else e:for(oe=be;xt!==null;){if(ve=xt,ve.flags&2048)try{switch(ve.tag){case 0:case 11:case 15:wm(9,ve)}}catch(Lt){is(ve,ve.return,Lt)}if(ve===oe){xt=null;break e}var _t=ve.sibling;if(_t!==null){_t.return=ve.return,xt=_t;break e}xt=ve.return}}if(nn=I,ha(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(R0,p)}catch{}T=!0}return T}finally{wn=S,Ar.transition=g}}return!1}function d3(p,g,S){g=_M(S,g),g=TN(p,g,1),Gl(p,g),g=Vi(),p=mx(p,1),p!==null&&(cm(p,1,g),rs(p,g))}function is(p,g,S){if(p.tag===3)d3(p,p,S);else for(;g!==null;){if(g.tag===3){d3(g,p,S);break}else if(g.tag===1){var T=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Vl===null||!Vl.has(T))){p=_M(S,p),p=CN(g,p,1),Gl(g,p),p=Vi(),g=mx(g,1),g!==null&&(cm(g,1,p),rs(g,p));break}}g=g.return}}function pQ(p,g,S){var T=p.pingCache;T!==null&&T.delete(g),g=Vi(),p.pingedLanes|=p.suspendedLanes&S,Br===p&&(ui&S)===S&&(Hr===4||Hr===3&&(ui&130023424)===ui&&500>ei()-FM?yu(p,0):kM|=S),rs(p,g)}function p3(p,g){g===0&&(p.mode&1?(g=C0,C0<<=1,!(C0&130023424)&&(C0=4194304)):g=1);var S=Vi();p=mx(p,g),p!==null&&(cm(p,g,S),rs(p,S))}function mQ(p){var g=p.memoizedState,S=0;g!==null&&(S=g.retryLane),p3(p,S)}function gQ(p,g){var S=0;switch(p.tag){case 13:var T=p.stateNode,I=p.memoizedState;I!==null&&(S=I.retryLane);break;case 19:T=p.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(g),p3(p,S)}var m3;m3=function(p,g,S){if(p!==null)if(p.memoizedProps!==g.pendingProps||zt.current)ws=!0;else{if(!(p.lanes&S)&&!(g.flags&128))return ws=!1,rQ(p,g,S);ws=!!(p.flags&131072)}else ws=!1,rr&&g.flags&1048576&&tN(g,U0,g.index);switch(g.lanes=0,g.tag){case 2:var T=g.type;p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps;var I=gr(g,Nt.current);hh(g,S),I=gM(null,g,T,p,I,S);var N=vM();return g.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,nr(T)?(N=!0,Kt(g)):N=!1,g.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,rM(g),I.updater=k0,g.stateNode=I,I._reactInternals=g,sM(g,T,p,S),g=AM(null,g,T,!0,N,S)):(g.tag=0,rr&&N&&oM(g),Gi(null,g,I,S),g=g.child),g;case 16:T=g.elementType;e:{switch(p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),p=g.pendingProps,I=T._init,T=I(T._payload),g.type=T,I=g.tag=yQ(T),p=Po(T,p),I){case 0:g=SM(null,g,T,p,S);break e;case 1:g=UN(null,g,T,p,S);break e;case 11:g=DN(null,g,T,p,S);break e;case 14:g=LN(null,g,T,Po(T.type,p),S);break e}throw Error(o(306,T,""))}return g;case 0:return T=g.type,I=g.pendingProps,I=g.elementType===T?I:Po(T,I),SM(p,g,T,I,S);case 1:return T=g.type,I=g.pendingProps,I=g.elementType===T?I:Po(T,I),UN(p,g,T,I,S);case 3:e:{if(jN(g),p===null)throw Error(o(387));T=g.pendingProps,N=g.memoizedState,I=N.element,KL(p,g),N0(g,T,null,S);var oe=g.memoizedState;if(T=oe.element,Le&&N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:oe.cache,transitions:oe.transitions},g.updateQueue.baseState=N,g.memoizedState=N,g.flags&256){I=Error(o(423)),g=zN(p,g,T,S,I);break e}else if(T!==I){I=Error(o(424)),g=zN(p,g,T,S,I);break e}else for(Le&&(_s=St(g.stateNode.containerInfo),bs=g,rr=!0,Ro=null,um=!1),S=aN(g,null,T,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(mh(),T===I){g=Ya(p,g,S);break e}Gi(p,g,T,S)}g=g.child}return g;case 5:return lN(g),p===null&&cM(g),T=g.type,I=g.pendingProps,N=p!==null?p.memoizedProps:null,oe=I.children,Ae(T,I)?oe=null:N!==null&&Ae(T,N)&&(g.flags|=32),FN(p,g),Gi(p,g,oe,S),g.child;case 6:return p===null&&cM(g),null;case 13:return HN(p,g,S);case 4:return fM(g,g.stateNode.containerInfo),T=g.pendingProps,p===null?g.child=gh(g,null,T,S):Gi(p,g,T,S),g.child;case 11:return T=g.type,I=g.pendingProps,I=g.elementType===T?I:Po(T,I),DN(p,g,T,I,S);case 7:return Gi(p,g,g.pendingProps,S),g.child;case 8:return Gi(p,g,g.pendingProps.children,S),g.child;case 12:return Gi(p,g,g.pendingProps.children,S),g.child;case 10:e:{if(T=g.type._context,I=g.pendingProps,N=g.memoizedProps,oe=I.value,XL(g,T,oe),N!==null)if(fa(N.value,oe)){if(N.children===I.children&&!zt.current){g=Ya(p,g,S);break e}}else for(N=g.child,N!==null&&(N.return=g);N!==null;){var ve=N.dependencies;if(ve!==null){oe=N.child;for(var Fe=ve.firstContext;Fe!==null;){if(Fe.context===T){if(N.tag===1){Fe=Wa(-1,S&-S),Fe.tag=2;var lt=N.updateQueue;if(lt!==null){lt=lt.shared;var Ot=lt.pending;Ot===null?Fe.next=Fe:(Fe.next=Ot.next,Ot.next=Fe),lt.pending=Fe}}N.lanes|=S,Fe=N.alternate,Fe!==null&&(Fe.lanes|=S),nM(N.return,S,g),ve.lanes|=S;break}Fe=Fe.next}}else if(N.tag===10)oe=N.type===g.type?null:N.child;else if(N.tag===18){if(oe=N.return,oe===null)throw Error(o(341));oe.lanes|=S,ve=oe.alternate,ve!==null&&(ve.lanes|=S),nM(oe,S,g),oe=N.sibling}else oe=N.child;if(oe!==null)oe.return=N;else for(oe=N;oe!==null;){if(oe===g){oe=null;break}if(N=oe.sibling,N!==null){N.return=oe.return,oe=N;break}oe=oe.return}N=oe}Gi(p,g,I.children,S),g=g.child}return g;case 9:return I=g.type,T=g.pendingProps.children,hh(g,S),I=Ws(I),T=T(I),g.flags|=1,Gi(p,g,T,S),g.child;case 14:return T=g.type,I=Po(T,g.pendingProps),I=Po(T.type,I),LN(p,g,T,I,S);case 15:return NN(p,g,g.type,g.pendingProps,S);case 17:return T=g.type,I=g.pendingProps,I=g.elementType===T?I:Po(T,I),p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,nr(T)?(p=!0,Kt(g)):p=!1,hh(g,S),QL(g,T,I),sM(g,T,I,S),AM(null,g,T,!0,p,S);case 19:return $N(p,g,S);case 22:return kN(p,g,S)}throw Error(o(156,g.tag))};function g3(p,g){return YA(p,g)}function vQ(p,g,S,T){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(p,g,S,T){return new vQ(p,g,S,T)}function $M(p){return p=p.prototype,!(!p||!p.isReactComponent)}function yQ(p){if(typeof p=="function")return $M(p)?1:0;if(p!=null){if(p=p.$$typeof,p===x)return 11;if(p===b)return 14}return 2}function Kl(p,g){var S=p.alternate;return S===null?(S=qs(p.tag,g,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=g,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&14680064,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,g=p.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function vx(p,g,S,T,I,N){var oe=2;if(T=p,typeof p=="function")$M(p)&&(oe=1);else if(typeof p=="string")oe=5;else e:switch(p){case u:return _u(S.children,I,N,g);case f:oe=8,I|=8;break;case h:return p=qs(12,S,g,I|2),p.elementType=h,p.lanes=N,p;case y:return p=qs(13,S,g,I),p.elementType=y,p.lanes=N,p;case v:return p=qs(19,S,g,I),p.elementType=v,p.lanes=N,p;case M:return yx(S,I,N,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case d:oe=10;break e;case m:oe=9;break e;case x:oe=11;break e;case b:oe=14;break e;case _:oe=16,T=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return g=qs(oe,S,g,I),g.elementType=p,g.type=T,g.lanes=N,g}function _u(p,g,S,T){return p=qs(7,p,T,g),p.lanes=S,p}function yx(p,g,S,T){return p=qs(22,p,T,g),p.elementType=M,p.lanes=S,p.stateNode={},p}function XM(p,g,S){return p=qs(6,p,null,g),p.lanes=S,p}function KM(p,g,S){return g=qs(4,p.children!==null?p.children:[],p.key,g),g.lanes=S,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function xQ(p,g,S,T,I){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ie,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=XA(0),this.expirationTimes=XA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XA(0),this.identifierPrefix=T,this.onRecoverableError=I,Le&&(this.mutableSourceEagerHydrationData=null)}function v3(p,g,S,T,I,N,oe,ve,Fe){return p=new xQ(p,g,S,ve,Fe),g===1?(g=1,N===!0&&(g|=8)):g=0,N=qs(3,null,null,g),p.current=N,N.stateNode=p,N.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},rM(N),p}function y3(p){if(!p)return Dt;p=p._reactInternals;e:{if(L(p)!==p||p.tag!==1)throw Error(o(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(nr(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(p.tag===1){var S=p.type;if(nr(S))return lr(p,S,g)}return g}function x3(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=H(g),p===null?null:p.stateNode}function b3(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<g?S:g}}function YM(p,g){b3(p,g),(p=p.alternate)&&b3(p,g)}function bQ(p){return p=H(p),p===null?null:p.stateNode}function _Q(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var g=Vi();Js(p,134217728,g),YM(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=Vi(),S=$l(p);Js(p,S,g),YM(p,S)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var S=lm(g.pendingLanes);S!==0&&(KA(g,S|1),rs(g,ei()),!(nn&6)&&(wh(),ha()))}break;case 13:var T=Vi();l3(function(){return Js(p,1,T)}),YM(p,1)}},n.batchedUpdates=function(p,g){var S=nn;nn|=1;try{return p(g)}finally{nn=S,nn===0&&(wh(),O0&&ha())}},n.createComponentSelector=function(p){return{$$typeof:rx,value:p}},n.createContainer=function(p,g,S,T,I,N,oe){return v3(p,g,!1,null,S,T,I,N,oe)},n.createHasPseudoClassSelector=function(p){return{$$typeof:ix,value:p}},n.createHydrationContainer=function(p,g,S,T,I,N,oe,ve,Fe){return p=v3(S,T,!0,p,I,N,oe,ve,Fe),p.context=y3(null),S=p.current,T=Vi(),I=$l(S),N=Wa(T,I),N.callback=g??null,Gl(S,N),p.current.lanes=I,cm(p,I,T),rs(p,T),p},n.createPortal=function(p,g,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:p,containerInfo:g,implementation:S}},n.createRoleSelector=function(p){return{$$typeof:sx,value:p}},n.createTestNameSelector=function(p){return{$$typeof:ox,value:p}},n.createTextSelector=function(p){return{$$typeof:ax,value:p}},n.deferredUpdates=function(p){var g=wn,S=Ar.transition;try{return Ar.transition=null,wn=16,p()}finally{wn=g,Ar.transition=S}},n.discreteUpdates=function(p,g,S,T,I){var N=wn,oe=Ar.transition;try{return Ar.transition=null,wn=1,p(g,S,T,I)}finally{wn=N,Ar.transition=oe,nn===0&&wh()}},n.findAllNodes=LM,n.findBoundingRects=function(p,g){if(!$)throw Error(o(363));g=LM(p,g),p=[];for(var S=0;S<g.length;S++)p.push(He(g[S]));for(g=p.length-1;0<g;g--){S=p[g];for(var T=S.x,I=T+S.width,N=S.y,oe=N+S.height,ve=g-1;0<=ve;ve--)if(g!==ve){var Fe=p[ve],lt=Fe.x,Ot=lt+Fe.width,Wt=Fe.y,Ut=Wt+Fe.height;if(T>=lt&&N>=Wt&&I<=Ot&&oe<=Ut){p.splice(g,1);break}else if(T!==lt||S.width!==Fe.width||Ut<N||Wt>oe){if(!(N!==Wt||S.height!==Fe.height||Ot<T||lt>I)){lt>T&&(Fe.width+=lt-T,Fe.x=T),Ot<I&&(Fe.width=I-lt),p.splice(g,1);break}}else{Wt>N&&(Fe.height+=Wt-N,Fe.y=N),Ut<oe&&(Fe.height=oe-Wt),p.splice(g,1);break}}}return p},n.findHostInstance=x3,n.findHostInstanceWithNoPortals=function(p){return p=B(p),p=p!==null?z(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return x3(p)},n.flushControlled=function(p){var g=nn;nn|=1;var S=Ar.transition,T=wn;try{Ar.transition=null,wn=1,p()}finally{wn=T,Ar.transition=S,nn=g,nn===0&&(wh(),ha())}},n.flushPassiveEffects=bu,n.flushSync=l3,n.focusWithin=function(p,g){if(!$)throw Error(o(363));for(p=IM(p),g=s3(p,g),g=Array.from(g),p=0;p<g.length;){var S=g[p++];if(!Ue(S)){if(S.tag===5&&ft(S.stateNode))return!0;for(S=S.child;S!==null;)g.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return wn},n.getFindAllNodesFailureDescription=function(p,g){if(!$)throw Error(o(363));var S=0,T=[];p=[IM(p),0];for(var I=0;I<p.length;){var N=p[I++],oe=p[I++],ve=g[oe];if((N.tag!==5||!Ue(N))&&(BM(N,ve)&&(T.push(DM(ve)),oe++,oe>S&&(S=oe)),oe<g.length))for(N=N.child;N!==null;)p.push(N,oe),N=N.sibling}if(S<g.length){for(p=[];S<g.length;S++)p.push(DM(g[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Y(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:bQ,findFiberByHostInstance:p.findFiberByHostInstance||_Q,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{R0=g.inject(p),ua=g}catch{}p=!!g.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,g,S,T){if(!$)throw Error(o(363));p=LM(p,g);var I=j(p,S,T).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(p,g){var S=g._getVersion;S=S(g._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,S]:p.mutableSourceEagerHydrationData.push(g,S)},n.runWithPriority=function(p,g){var S=wn;try{return wn=p,g()}finally{wn=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,g,S,T){var I=g.current,N=Vi(),oe=$l(I);return S=y3(S),g.context===null?g.context=S:g.pendingContext=S,g=Wa(N,oe),g.payload={element:p},T=T===void 0?null:T,T!==null&&(g.callback=T),Gl(I,g),p=Js(I,oe,N),p!==null&&L0(p,I,oe),oe},n};_$.exports=xfe;var bfe=_$.exports;const _fe=Ln(bfe),MB={},EB=t=>void Object.assign(MB,t);function wfe(t,e){function n(u,{args:f=[],attach:h,...d},m){let x=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=d.object;y=td(v,{type:u,root:m,attach:h,primitive:!0})}else{const v=MB[x];if(!v)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=td(new v(...f),{type:u,root:m,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),x!=="inject"&&uT(y,d),y}function r(u,f){let h=!1;if(f){var d,m;(d=f.__r3f)!=null&&d.attach?cT(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),h=!0),h||(m=u.__r3f)==null||m.objects.push(f),f.__r3f||td(f,{}),f.__r3f.parent=u,d2(f),nd(f)}}function i(u,f,h){let d=!1;if(f){var m,x;if((m=f.__r3f)!=null&&m.attach)cT(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const y=u.children.filter(b=>b!==f),v=y.indexOf(h);u.children=[...y.slice(0,v),f,...y.slice(v)],d=!0}d||(x=u.__r3f)==null||x.objects.push(f),f.__r3f||td(f,{}),f.__r3f.parent=u,d2(f),nd(f)}}function s(u,f,h=!1){u&&[...u].forEach(d=>o(f,d,h))}function o(u,f,h){if(f){var d,m,x;if(f.__r3f&&(f.__r3f.parent=null),(d=u.__r3f)!=null&&d.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==f)),(m=f.__r3f)!=null&&m.attach)LU(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&Pfe(L_(f),f)}const b=(x=f.__r3f)==null?void 0:x.primitive,_=!b&&(h===void 0?f.dispose!==null:h);if(!b){var v;s((v=f.__r3f)==null?void 0:v.objects,f,_),s(f.children,f,_)}if(delete f.__r3f,_&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?f2.unstable_scheduleCallback(f2.unstable_IdlePriority,M):M()}nd(u)}}function a(u,f,h,d){var m;const x=(m=u.__r3f)==null?void 0:m.parent;if(!x)return;const y=n(f,h,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(y,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(y,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&L_(y).getState().internal.interaction.push(y),[d,d.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>{};return{reconciler:_fe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,r(h,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,h)=>{if(!f||!h)return;const d=u.getState().scene;d.__r3f&&i(d,f,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,h,d){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&d.object&&d.object!==u)return[!0];{const{args:y=[],children:v,...b}=d,{args:_=[],children:M,...w}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((E,C)=>E!==_[C]))return[!0];const A=R$(u,b,w,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[f,h],d,m,x,y){f?a(u,d,x,y):uT(u,h)},commitMount(u,f,h,d){var m;const x=(m=u.__r3f)!=null?m:{};u.raycast&&x.handlers&&x.eventCount&&L_(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>td(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:h,parent:d}=(f=u.__r3f)!=null?f:{};h&&d&&LU(d,u,h),u.isObject3D&&(u.visible=!1),nd(u)},unhideInstance(u,f){var h;const{attach:d,parent:m}=(h=u.__r3f)!=null?h:{};d&&m&&cT(m,u,d),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),nd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():bd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Gn.fun(performance.now)?performance.now:Gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:uT}}var OU,IU;const lT=t=>"colorSpace"in t||"outputColorSpace"in t,A$=()=>{var t;return(t=MB.ColorManagement)!=null?t:null},M$=t=>t&&t.isOrthographicCamera,Sfe=t=>t&&t.hasOwnProperty("current"),a0=typeof window<"u"&&((OU=window.document)!=null&&OU.createElement||((IU=window.navigator)==null?void 0:IU.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function E$(t){const e=U.useRef(t);return a0(()=>void(e.current=t),[t]),e}function Afe({set:t}){return a0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class T$ extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}T$.getDerivedStateFromError=()=>({error:!0});const C$="__default",BU=new Map,Mfe=t=>t&&!!t.memoized&&!!t.changes;function P$(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Ym=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function L_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Gn={obj:t=>t===Object(t)&&!Gn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Gn.str(t)||Gn.num(t)||Gn.boo(t))return t===e;const s=Gn.obj(t);if(s&&r==="reference")return t===e;const o=Gn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Gn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Gn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Efe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Tfe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function td(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function h2(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const DU=/-\d+$/;function cT(t,e,n){if(Gn.str(n)){if(DU.test(n)){const s=n.replace(DU,""),{target:o,key:a}=h2(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=h2(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function LU(t,e,n){var r,i;if(Gn.str(n)){const{target:s,key:o}=h2(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function R$(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),h=[];if(c){const m=Object.keys(l);for(let x=0;x<m.length;x++)i.hasOwnProperty(m[x])||f.unshift([m[x],C$+"remove"])}f.forEach(([m,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&m==="object"||Gn.equ(x,l[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return h.push([m,x,!0,[]]);let v=[];m.includes("-")&&(v=m.split("-")),h.push([m,x,!1,v]);for(const b in i){const _=i[b];b.startsWith(`${m}-`)&&h.push([b,_,!1,b.split("-")])}});const d={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(d.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(d.attach=u.memoizedProps.attach),{memoized:d,changes:h}}function uT(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Mfe(e)?e:R$(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[d,m,x,y]=a[h];if(lT(t)){const M="srgb",w="srgb-linear";d==="encoding"?(d="colorSpace",m=m===3001?M:w):d==="outputEncoding"&&(d="outputColorSpace",m=m===3001?M:w)}let v=t,b=v[d];if(y.length&&(b=y.reduce((_,M)=>_[M],t),!(b&&b.set))){const[_,...M]=y.reverse();v=M.reverse().reduce((w,A)=>w[A],t),d=_}if(m===C$+"remove")if(v.constructor){let _=BU.get(v.constructor);_||(_=new v.constructor,BU.set(v.constructor,_)),m=_[d]}else m=0;if(x&&r)m?r.handlers[d]=m:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof Ef)){if(Array.isArray(m))b.fromArray?b.fromArray(m):b.set(...m);else if(b.copy&&m&&m.constructor&&b.constructor===m.constructor)b.copy(m);else if(m!==void 0){var c;const _=(c=b)==null?void 0:c.isColor;!_&&b.setScalar?b.setScalar(m):b instanceof Ef&&m instanceof Ef?b.mask=m.mask:b.set(m),!A$()&&s&&!s.linear&&_&&b.convertSRGBToLinear()}}else{var u;if(v[d]=m,(u=v[d])!=null&&u.isTexture&&v[d].format===jr&&v[d].type===ks&&s){const _=v[d];lT(_)&&lT(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}nd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=L_(t).getState().internal,d=h.interaction.indexOf(t);d>-1&&h.interaction.splice(d,1),r.eventCount&&h.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&d2(t),t}function nd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function d2(t){t.onUpdate==null||t.onUpdate(t)}function O$(t,e){t.manual||(M$(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Cb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Cfe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return bd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return bd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return bd.ContinuousEventPriority;default:return bd.DefaultEventPriority}}function I$(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Pfe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{I$(n.capturedMap,e,r,i)})}function Rfe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,h=[],d=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<d.length;v++){const b=Ym(d[v]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(v){const b=Ym(v);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var _;b.events.compute==null||b.events.compute(l,b,(_=b.previousRoot)==null?void 0:_.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(v,!0):[]}let x=d.flatMap(m).sort((v,b)=>{const _=Ym(v.object),M=Ym(b.object);return!_||!M?v.distance-b.distance:M.events.priority-_.events.priority||v.distance-b.distance}).filter(v=>{const b=Cb(v);return f.has(b)?!1:(f.add(b),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const v of x){let b=v.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&h.push({...v,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())f.has(Cb(v.intersection))||h.push(v.intersection);return h}function i(l,c,u,f){const h=t.getState();if(l.length){const d={stopped:!1};for(const m of l){const x=Ym(m.object)||h,{raycaster:y,pointer:v,camera:b,internal:_}=x,M=new Z(v.x,v.y,0).unproject(b),w=P=>{var B,H;return(B=(H=_.capturedMap.get(P))==null?void 0:H.has(m.eventObject))!=null?B:!1},A=P=>{const B={intersection:m,target:c.target};_.capturedMap.has(P)?_.capturedMap.get(P).set(m.eventObject,B):_.capturedMap.set(P,new Map([[m.eventObject,B]])),c.target.setPointerCapture(P)},E=P=>{const B=_.capturedMap.get(P);B&&I$(_.capturedMap,m.eventObject,B,P)};let C={};for(let P in c){let B=c[P];typeof B!="function"&&(C[P]=B)}let L={...m,...C,pointer:v,intersections:l,stopped:d.stopped,delta:u,unprojectedPoint:M,ray:y.ray,camera:b,stopPropagation(){const P="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!P||P.has(m.eventObject))&&(L.stopped=d.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(B=>B.eventObject===m.eventObject))){const B=l.slice(0,l.indexOf(m));s([...B,m])}},target:{hasPointerCapture:w,setPointerCapture:A,releasePointerCapture:E},currentTarget:{hasPointerCapture:w,setPointerCapture:A,releasePointerCapture:E},nativeEvent:c};if(f(L),d.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const h=u.eventObject.__r3f,d=h==null?void 0:h.handlers;if(c.hovered.delete(Cb(u)),h!=null&&h.eventCount){const m={...u,intersections:l};d.onPointerOut==null||d.onPointerOut(m),d.onPointerLeave==null||d.onPointerLeave(m)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=u;const d=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,d?n:void 0),v=m?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=y.map(_=>_.eventObject)),m&&!y.length&&v<=2&&(o(u,h.interaction),f&&f(u)),d&&s(y);function b(_){const M=_.eventObject,w=M.__r3f,A=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(d){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const E=Cb(_),C=h.hovered.get(E);C?C.stopped&&_.stopPropagation():(h.hovered.set(E,_),A.onPointerOver==null||A.onPointerOver(_),A.onPointerEnter==null||A.onPointerEnter(_))}A.onPointerMove==null||A.onPointerMove(_)}else{const E=A[l];E?(!m||h.initialHits.includes(M))&&(o(u,h.interaction.filter(C=>!h.initialHits.includes(C))),E(_)):m&&h.initialHits.includes(M)&&o(u,h.interaction.filter(C=>!h.initialHits.includes(C)))}}i(y,u,v,b)}}return{handlePointer:a}}const Ofe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],B$=t=>!!(t!=null&&t.render),TB=U.createContext(null),Ife=(t,e)=>{const n=y$((a,l)=>{const c=new Z,u=new Z,f=new Z;function h(v=l().camera,b=u,_=l().size){const{width:M,height:w,top:A,left:E}=_,C=M/w;b.isVector3?f.copy(b):f.set(...b);const L=v.getWorldPosition(c).distanceTo(f);if(M$(v))return{width:M/v.zoom,height:w/v.zoom,top:A,left:E,factor:1,distance:L,aspect:C};{const P=v.fov*Math.PI/180,B=2*Math.tan(P/2)*L,H=B*(M/w);return{width:H,height:B,top:A,left:E,factor:M/H,distance:L,aspect:C}}}let d;const m=v=>a(b=>({performance:{...b.performance,current:v}})),x=new ze;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,b)=>e(v,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new bB,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();d&&clearTimeout(d),v.performance.current!==v.performance.min&&m(v.performance.min),d=setTimeout(()=>m(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>a(b=>({...b,events:{...b.events,...v}})),setSize:(v,b,_,M,w)=>{const A=l().camera,E={width:v,height:b,top:M||0,left:w||0,updateStyle:_};a(C=>({size:E,viewport:{...C.viewport,...h(A,u,E)}}))},setDpr:v=>a(b=>{const _=P$(v);return{viewport:{...b.viewport,dpr:_,initialDpr:b.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,v!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,b,_)=>{const M=l().internal;return M.priority=M.priority+(b>0?1:0),M.subscribers.push({ref:v,priority:b,store:_}),M.subscribers=M.subscribers.sort((w,A)=>w.priority-A.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(b>0?1:0),w.subscribers=w.subscribers.filter(A=>A.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var h;i=l,s=c.dpr,O$(a,l),u.setPixelRatio(c.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,d)}a!==o&&(o=a,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Pb,Bfe=new Set,Dfe=new Set,Lfe=new Set;function fT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Jm(t,e){switch(t){case"before":return fT(Bfe,e);case"after":return fT(Dfe,e);case"tail":return fT(Lfe,e)}}let hT,dT;function pT(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),hT=e.internal.subscribers,Pb=0;Pb<hT.length;Pb++)dT=hT[Pb],dT.ref.current(dT.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Nfe(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Jm("before",c),n=!0;for(const f of t.values()){var u;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=pT(c,s))}if(n=!1,Jm("after",c),r===0)return Jm("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var f;if(!c)return t.forEach(h=>a(h.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,f,h){if(u&&Jm("before",c),f)pT(c,f,h);else for(const d of t.values())pT(c,d.store.getState());u&&Jm("after",c)}return{loop:o,invalidate:a,advance:l}}function CB(){const t=U.useContext(TB);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Tr(t=n=>n,e){return CB()(t,e)}function l0(t,e=0){const n=CB(),r=n.getState().internal.subscribe,i=E$(t);return a0(()=>r(i,e,n),[e,r,n]),null}const NU=new WeakMap;function D$(t,e){return function(n,...r){let i=NU.get(n);return i||(i=new n,NU.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Efe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Pl(t,e,n,r){const i=Array.isArray(e)?e:[e],s=gfe(D$(n,r),[t,...i],{equal:Gn.equ});return Array.isArray(e)?s:s[0]}Pl.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return vfe(D$(n),[t,...r])};Pl.clear=function(t,e){const n=Array.isArray(e)?e:[e];return yfe([t,...n])};const op=new Map,{invalidate:kU,advance:FU}=Nfe(op),{reconciler:Uv,applyProps:hc}=wfe(op,Cfe),$h={objects:"shallow",strict:!1},kfe=(t,e)=>{const n=typeof t=="function"?t(e):t;return B$(n)?n:new gS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Ffe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Ufe(t){const e=op.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Ife(kU,FU),o=n||Uv.createContainer(s,bd.ConcurrentRoot,null,!1,null,"",i,null);e||op.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:h,scene:d,events:m,onCreated:x,shadows:y=!1,linear:v=!1,flat:b=!1,legacy:_=!1,orthographic:M=!1,frameloop:w="always",dpr:A=[1,2],performance:E,raycaster:C,camera:L,onPointerMissed:P}=u,B=s.getState(),H=B.gl;B.gl||B.set({gl:H=kfe(f,t)});let q=B.raycaster;q||B.set({raycaster:q=new AB});const{params:z,...K}=C||{};if(Gn.equ(K,q,$h)||hc(q,{...K}),Gn.equ(z,q.params,$h)||hc(q,{params:{...q.params,...z}}),!B.camera||B.camera===c&&!Gn.equ(c,L,$h)){c=L;const te=L instanceof Jy,re=te?L:M?new Ba(0,0,0,0,.1,1e3):new Sr(75,0,.1,1e3);te||(re.position.z=5,L&&(hc(re,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(re.manual=!0,re.updateProjectionMatrix())),!B.camera&&!(L!=null&&L.rotation)&&re.lookAt(0,0,0)),B.set({camera:re}),q.camera=re}if(!B.scene){let te;d!=null&&d.isScene?te=d:(te=new Qy,d&&hc(te,d)),B.set({scene:td(te)})}if(!B.xr){var Y;const te=(we,pe)=>{const Ae=s.getState();Ae.frameloop!=="never"&&FU(we,!0,Ae,pe)},re=()=>{const we=s.getState();we.gl.xr.enabled=we.gl.xr.isPresenting,we.gl.xr.setAnimationLoop(we.gl.xr.isPresenting?te:null),we.gl.xr.isPresenting||kU(we)},fe={connect(){const we=s.getState().gl;we.xr.addEventListener("sessionstart",re),we.xr.addEventListener("sessionend",re)},disconnect(){const we=s.getState().gl;we.xr.removeEventListener("sessionstart",re),we.xr.removeEventListener("sessionend",re)}};typeof((Y=H.xr)==null?void 0:Y.addEventListener)=="function"&&fe.connect(),B.set({xr:fe})}if(H.shadowMap){const te=H.shadowMap.enabled,re=H.shadowMap.type;if(H.shadowMap.enabled=!!y,Gn.boo(y))H.shadowMap.type=Fg;else if(Gn.str(y)){var ie;const fe={basic:x9,percentage:lS,soft:Fg,variance:jo};H.shadowMap.type=(ie=fe[y])!=null?ie:Fg}else Gn.obj(y)&&Object.assign(H.shadowMap,y);(te!==H.shadowMap.enabled||re!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const G=A$();G&&("enabled"in G?G.enabled=!_:"legacyMode"in G&&(G.legacyMode=_)),l||hc(H,{outputEncoding:v?3e3:3001,toneMapping:b?Ia:PI}),B.legacy!==_&&B.set(()=>({legacy:_})),B.linear!==v&&B.set(()=>({linear:v})),B.flat!==b&&B.set(()=>({flat:b})),f&&!Gn.fun(f)&&!B$(f)&&!Gn.equ(f,H,$h)&&hc(H,f),m&&!B.events.handlers&&B.set({events:m(s)});const J=Ffe(t,h);return Gn.equ(J,B.size,$h)||B.setSize(J.width,J.height,J.updateStyle,J.top,J.left),A&&B.viewport.dpr!==P$(A)&&B.setDpr(A),B.frameloop!==w&&B.setFrameloop(w),B.onPointerMissed||B.set({onPointerMissed:P}),E&&!Gn.equ(E,B.performance,$h)&&B.set(te=>({performance:{...te.performance,...E}})),a=x,l=!0,this},render(u){return l||this.configure(),Uv.updateContainer(R.jsx(jfe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){L$(t)}}}function jfe({store:t,children:e,onCreated:n,rootElement:r}){return a0(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),R.jsx(TB.Provider,{value:t,children:e})}function L$(t,e){const n=op.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Uv.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Tfe(i),op.delete(t)}catch{}},500)})}}function zfe(t,e,n){return R.jsx(Hfe,{children:t,container:e,state:n},e.uuid)}function Hfe({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=CB(),[a]=U.useState(()=>new AB),[l]=U.useState(()=>new ze),c=U.useCallback((f,h)=>{const d={...f};Object.keys(f).forEach(x=>{(Ofe.includes(x)||f[x]!==h[x]&&h[x])&&delete d[x]});let m;if(h&&i){const x=h.camera;m=f.viewport.getCurrentViewport(x,new Z,i),x!==f.camera&&O$(x,i)}return{...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...m},...s}},[t]),[u]=U.useState(()=>{const f=o.getState();return y$((d,m)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:d,get:m,setEvents:x=>d(y=>({...y,events:{...y.events,...x}}))}))});return U.useEffect(()=>{const f=o.subscribe(h=>u.setState(d=>c(h,d)));return()=>{f()}},[c]),U.useEffect(()=>{u.setState(f=>c(o.getState(),f))},[c]),U.useEffect(()=>()=>{u.destroy()},[]),R.jsx(R.Fragment,{children:Uv.createPortal(R.jsx(TB.Provider,{value:u,children:e}),u,null)})}Uv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});const mT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Gfe(t){const{handlePointer:e}=Rfe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(mT).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=mT[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=mT[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function UU(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Vfe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=U.useRef(!1);U.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,h,d]=U.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:b,top:_,width:M,height:w,bottom:A,right:E,x:C,y:L}=a.current.element.getBoundingClientRect(),P={left:b,top:_,width:M,height:w,bottom:A,right:E,x:C,y:L};a.current.element instanceof HTMLElement&&r&&(P.height=a.current.element.offsetHeight,P.width=a.current.element.offsetWidth),Object.freeze(P),u.current&&!Kfe(a.current.lastBounds,P)&&o(a.current.lastBounds=P)};return[v,c?UU(v,c):v,l?UU(v,l):v]},[o,r,l,c]);function m(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",d,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(d),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(v=>v.addEventListener("scroll",d,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=v=>{!v||v===a.current.element||(m(),a.current.element=v,a.current.scrollContainers=N$(v),x())};return $fe(d,!!e),Wfe(h),U.useEffect(()=>{m(),x()},[e,d,h]),U.useEffect(()=>m,[]),[y,s,f]}function Wfe(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function $fe(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function N$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...N$(t.parentElement)]}const Xfe=["x","y","top","bottom","left","right","width","height"],Kfe=(t,e)=>Xfe.every(n=>t[n]===e[n]);var Yfe=Object.defineProperty,Jfe=Object.defineProperties,qfe=Object.getOwnPropertyDescriptors,jU=Object.getOwnPropertySymbols,Zfe=Object.prototype.hasOwnProperty,Qfe=Object.prototype.propertyIsEnumerable,zU=(t,e,n)=>e in t?Yfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HU=(t,e)=>{for(var n in e||(e={}))Zfe.call(e,n)&&zU(t,n,e[n]);if(jU)for(var n of jU(e))Qfe.call(e,n)&&zU(t,n,e[n]);return t},ehe=(t,e)=>Jfe(t,qfe(e)),GU,VU;typeof window<"u"&&((GU=window.document)!=null&&GU.createElement||((VU=window.navigator)==null?void 0:VU.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function k$(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=k$(r,e,n);if(i)return i;r=r.sibling}}function F$(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const WU=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=WU;return}return WU.apply(this,arguments)};const PB=F$(U.createContext(null));class U$ extends U.Component{render(){return U.createElement(PB.Provider,{value:this._reactInternals},this.props.children)}}function the(){const t=U.useContext(PB);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=k$(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function nhe(){const t=the(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==PB&&!e.has(i)&&e.set(i,U.useContext(F$(i)))}n=n.return}return e}function rhe(){const t=nhe();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>U.createElement(e,null,U.createElement(n.Provider,ehe(HU({},r),{value:t.get(n)}))),e=>U.createElement(U$,HU({},e))),[t])}const ihe=U.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Gfe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:m,dpr:x,performance:y,raycaster:v,camera:b,scene:_,onPointerMissed:M,onCreated:w,...A},E){U.useMemo(()=>EB(hfe),[]);const C=rhe(),[L,P]=Vfe({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=U.useRef(null),H=U.useRef(null);U.useImperativeHandle(E,()=>B.current);const q=E$(M),[z,K]=U.useState(!1),[Y,ie]=U.useState(!1);if(z)throw z;if(Y)throw Y;const G=U.useRef(null);a0(()=>{const te=B.current;P.width>0&&P.height>0&&te&&(G.current||(G.current=Ufe(te)),G.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:m,dpr:x,performance:y,raycaster:v,camera:b,scene:_,size:P,onPointerMissed:(...re)=>q.current==null?void 0:q.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(a?Sfe(a)?a.current:a:H.current),l&&re.setEvents({compute:(fe,we)=>{const pe=fe[l+"X"],Ae=fe[l+"Y"];we.pointer.set(pe/we.size.width*2-1,-(Ae/we.size.height)*2+1),we.raycaster.setFromCamera(we.pointer,we.camera)}}),w==null||w(re)}}),G.current.render(R.jsx(C,{children:R.jsx(T$,{set:ie,children:R.jsx(U.Suspense,{fallback:R.jsx(Afe,{set:K}),children:e??null})})})))}),U.useEffect(()=>{const te=B.current;if(te)return()=>L$(te)},[]);const J=a?"none":"auto";return R.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...i},...A,children:R.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:R.jsx("canvas",{ref:B,style:{display:"block"},children:n})})})}),j$=U.forwardRef(function(e,n){return R.jsx(U$,{children:R.jsx(ihe,{...e,ref:n})})});function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(null,arguments)}const $U=t=>{let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},she=t=>t?$U(t):$U,ohe=t=>t;function ahe(t,e=ohe){const n=me.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return me.useDebugValue(n),n}const XU=t=>{const e=she(t),n=r=>ahe(e,r);return Object.assign(n,e),n},lhe=t=>t?XU(t):XU;let qm=0;const che=lhe(t=>(xd.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-qm)/(r-qm)*100})},xd.onLoad=()=>{t({active:!1})},xd.onError=e=>t(n=>({errors:[...n.errors,e]})),xd.onProgress=(e,n,r)=>{n===r&&(qm=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-qm)/(r-qm)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),RB=parseInt(Fp.replace(/\D+/g,""));function KU(t,e){if(e===sW)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===S1||e===jI){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===S1)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var fo=Uint8Array,wc=Uint16Array,p2=Uint32Array,z$=new fo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),H$=new fo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uhe=new fo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G$=function(t,e){for(var n=new wc(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new p2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},V$=G$(z$,2),W$=V$[0],fhe=V$[1];W$[28]=258,fhe[258]=28;var hhe=G$(H$,0),dhe=hhe[0],m2=new wc(32768);for(var Qn=0;Qn<32768;++Qn){var sc=(Qn&43690)>>>1|(Qn&21845)<<1;sc=(sc&52428)>>>2|(sc&13107)<<2,sc=(sc&61680)>>>4|(sc&3855)<<4,m2[Qn]=((sc&65280)>>>8|(sc&255)<<8)>>>1}var Hg=function(t,e,n){for(var r=t.length,i=0,s=new wc(e);i<r;++i)++s[t[i]-1];var o=new wc(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new wc(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=o[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[m2[f]>>>l]=c}else for(a=new wc(r),i=0;i<r;++i)t[i]&&(a[i]=m2[o[t[i]-1]++]>>>15-t[i]);return a},c0=new fo(288);for(var Qn=0;Qn<144;++Qn)c0[Qn]=8;for(var Qn=144;Qn<256;++Qn)c0[Qn]=9;for(var Qn=256;Qn<280;++Qn)c0[Qn]=7;for(var Qn=280;Qn<288;++Qn)c0[Qn]=8;var $$=new fo(32);for(var Qn=0;Qn<32;++Qn)$$[Qn]=5;var phe=Hg(c0,9,1),mhe=Hg($$,5,1),gT=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Lo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},vT=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ghe=function(t){return(t/8|0)+(t&7&&1)},vhe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof wc?wc:t instanceof p2?p2:fo)(n-e);return r.set(t.subarray(e,n)),r},yhe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new fo(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new fo(r*3));var o=function(Pe){var Ze=e.length;if(Pe>Ze){var nt=new fo(Math.max(Ze*2,Pe));nt.set(e),e=nt}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,h=n.m,d=n.n,m=r*8;do{if(!u){n.f=a=Lo(t,l,1);var x=Lo(t,l+1,3);if(l+=3,x)if(x==1)u=phe,f=mhe,h=9,d=5;else if(x==2){var _=Lo(t,l,31)+257,M=Lo(t,l+10,15)+4,w=_+Lo(t,l+5,31)+1;l+=14;for(var A=new fo(w),E=new fo(19),C=0;C<M;++C)E[uhe[C]]=Lo(t,l+C*3,7);l+=M*3;for(var L=gT(E),P=(1<<L)-1,B=Hg(E,L,1),C=0;C<w;){var H=B[Lo(t,l,P)];l+=H&15;var y=H>>>4;if(y<16)A[C++]=y;else{var q=0,z=0;for(y==16?(z=3+Lo(t,l,3),l+=2,q=A[C-1]):y==17?(z=3+Lo(t,l,7),l+=3):y==18&&(z=11+Lo(t,l,127),l+=7);z--;)A[C++]=q}}var K=A.subarray(0,_),Y=A.subarray(_);h=gT(K),d=gT(Y),u=Hg(K,h,1),f=Hg(Y,d,1)}else throw"invalid block type";else{var y=ghe(l)+4,v=t[y-4]|t[y-3]<<8,b=y+v;if(b>r){if(s)throw"unexpected EOF";break}i&&o(c+v),e.set(t.subarray(y,b),c),n.b=c+=v,n.p=l=b*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var ie=(1<<h)-1,G=(1<<d)-1,J=l;;J=l){var q=u[vT(t,l)&ie],te=q>>>4;if(l+=q&15,l>m){if(s)throw"unexpected EOF";break}if(!q)throw"invalid length/literal";if(te<256)e[c++]=te;else if(te==256){J=l,u=null;break}else{var re=te-254;if(te>264){var C=te-257,fe=z$[C];re=Lo(t,l,(1<<fe)-1)+W$[C],l+=fe}var we=f[vT(t,l)&G],pe=we>>>4;if(!we)throw"invalid distance";l+=we&15;var Y=dhe[pe];if(pe>3){var fe=H$[pe];Y+=vT(t,l)&(1<<fe)-1,l+=fe}if(l>m){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var Ae=c+re;c<Ae;c+=4)e[c]=e[c-Y],e[c+1]=e[c+1-Y],e[c+2]=e[c+2-Y],e[c+3]=e[c+3-Y];c=Ae}}n.l=u,n.p=J,n.b=c,u&&(a=1,n.m=h,n.d=f,n.n=d)}while(!a);return c==e.length?e:vhe(e,0,c)},xhe=new fo(0),bhe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Rb(t,e){return yhe((bhe(t),t.subarray(2,-4)),e)}var _he=typeof TextDecoder<"u"&&new TextDecoder,whe=0;try{_he.decode(xhe,{stream:!0}),whe=1}catch{}const She=t=>t&&t.isCubeTexture;class Ahe extends tr{constructor(e,n){var r,i;const s=She(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,m=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${RB>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new r0(1,16),v=new xi({uniforms:x,fragmentShader:m,vertexShader:d,side:uo});super(y,v)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Mhe=Object.defineProperty,Ehe=(t,e,n)=>e in t?Mhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,The=(t,e,n)=>(Ehe(t,e+"",n),n);class Che{constructor(){The(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Phe=Object.defineProperty,Rhe=(t,e,n)=>e in t?Phe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jt=(t,e,n)=>(Rhe(t,typeof e!="symbol"?e+"":e,n),n);const Ob=new eh,YU=new cl,Ohe=Math.cos(70*(Math.PI/180)),JU=(t,e)=>(t%e+e)%e;let Ihe=class extends Che{constructor(e,n){super(),jt(this,"object"),jt(this,"domElement"),jt(this,"enabled",!0),jt(this,"target",new Z),jt(this,"minDistance",0),jt(this,"maxDistance",1/0),jt(this,"minZoom",0),jt(this,"maxZoom",1/0),jt(this,"minPolarAngle",0),jt(this,"maxPolarAngle",Math.PI),jt(this,"minAzimuthAngle",-1/0),jt(this,"maxAzimuthAngle",1/0),jt(this,"enableDamping",!1),jt(this,"dampingFactor",.05),jt(this,"enableZoom",!0),jt(this,"zoomSpeed",1),jt(this,"enableRotate",!0),jt(this,"rotateSpeed",1),jt(this,"enablePan",!0),jt(this,"panSpeed",1),jt(this,"screenSpacePanning",!0),jt(this,"keyPanSpeed",7),jt(this,"zoomToCursor",!1),jt(this,"autoRotate",!1),jt(this,"autoRotateSpeed",2),jt(this,"reverseOrbit",!1),jt(this,"reverseHorizontalOrbit",!1),jt(this,"reverseVerticalOrbit",!1),jt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),jt(this,"mouseButtons",{LEFT:ju.ROTATE,MIDDLE:ju.DOLLY,RIGHT:ju.PAN}),jt(this,"touches",{ONE:zu.ROTATE,TWO:zu.DOLLY_PAN}),jt(this,"target0"),jt(this,"position0"),jt(this,"zoom0"),jt(this,"_domElementKeyEvents",null),jt(this,"getPolarAngle"),jt(this,"getAzimuthalAngle"),jt(this,"setPolarAngle"),jt(this,"setAzimuthalAngle"),jt(this,"getDistance"),jt(this,"getZoomScale"),jt(this,"listenToKeyEvents"),jt(this,"stopListenToKeyEvents"),jt(this,"saveState"),jt(this,"reset"),jt(this,"update"),jt(this,"connect"),jt(this,"dispose"),jt(this,"dollyIn"),jt(this,"dollyOut"),jt(this,"getScale"),jt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ue=>{let Ce=JU(ue,2*Math.PI),Ge=u.phi;Ge<0&&(Ge+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let vt=Math.abs(Ce-Ge);2*Math.PI-vt<vt&&(Ce<Ge?Ce+=2*Math.PI:Ge+=2*Math.PI),f.phi=Ce-Ge,r.update()},this.setAzimuthalAngle=ue=>{let Ce=JU(ue,2*Math.PI),Ge=u.theta;Ge<0&&(Ge+=2*Math.PI),Ce<0&&(Ce+=2*Math.PI);let vt=Math.abs(Ce-Ge);2*Math.PI-vt<vt&&(Ce<Ge?Ce+=2*Math.PI:Ge+=2*Math.PI),f.theta=Ce-Ge,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",O),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",O),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ue=new Z,Ce=new Z(0,1,0),Ge=new Ir().setFromUnitVectors(e.up,Ce),vt=Ge.clone().invert(),$e=new Z,ae=new Ir,Qe=2*Math.PI;return function(){const At=r.object.position;Ge.setFromUnitVectors(e.up,Ce),vt.copy(Ge).invert(),ue.copy(At).sub(r.target),ue.applyQuaternion(Ge),u.setFromVector3(ue),r.autoRotate&&l===a.NONE&&z(H()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Tt=r.minAzimuthAngle,Vt=r.maxAzimuthAngle;isFinite(Tt)&&isFinite(Vt)&&(Tt<-Math.PI?Tt+=Qe:Tt>Math.PI&&(Tt-=Qe),Vt<-Math.PI?Vt+=Qe:Vt>Math.PI&&(Vt-=Qe),Tt<=Vt?u.theta=Math.max(Tt,Math.min(Vt,u.theta)):u.theta=u.theta>(Tt+Vt)/2?Math.max(Tt,u.theta):Math.min(Vt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.zoomToCursor&&L||r.object.isOrthographicCamera?u.radius=we(u.radius):u.radius=we(u.radius*h),ue.setFromSpherical(u),ue.applyQuaternion(vt),At.copy(r.target).add(ue),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let Xt=!1;if(r.zoomToCursor&&L){let bn=null;if(r.object instanceof Sr&&r.object.isPerspectiveCamera){const Xn=ue.length();bn=we(Xn*h);const on=Xn-bn;r.object.position.addScaledVector(E,on),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Xn=new Z(C.x,C.y,0);Xn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Xt=!0;const on=new Z(C.x,C.y,0);on.unproject(r.object),r.object.position.sub(on).add(Xn),r.object.updateMatrixWorld(),bn=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;bn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(bn).add(r.object.position):(Ob.origin.copy(r.object.position),Ob.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ob.direction))<Ohe?e.lookAt(r.target):(YU.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ob.intersectPlane(YU,r.target))))}else r.object instanceof Ba&&r.object.isOrthographicCamera&&(Xt=h!==1,Xt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,L=!1,Xt||$e.distanceToSquared(r.object.position)>c||8*(1-ae.dot(r.object.quaternion))>c?(r.dispatchEvent(i),$e.copy(r.object.position),ae.copy(r.object.quaternion),Xt=!1,!0):!1}})(),this.connect=ue=>{r.domElement=ue,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",he),r.domElement.addEventListener("pointerdown",He),r.domElement.addEventListener("pointercancel",Ue),r.domElement.addEventListener("wheel",j)},this.dispose=()=>{var ue,Ce,Ge,vt,$e,ae;r.domElement&&(r.domElement.style.touchAction="auto"),(ue=r.domElement)==null||ue.removeEventListener("contextmenu",he),(Ce=r.domElement)==null||Ce.removeEventListener("pointerdown",He),(Ge=r.domElement)==null||Ge.removeEventListener("pointercancel",Ue),(vt=r.domElement)==null||vt.removeEventListener("wheel",j),($e=r.domElement)==null||$e.ownerDocument.removeEventListener("pointermove",We),(ae=r.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",Ue),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",O)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new u2,f=new u2;let h=1;const d=new Z,m=new ze,x=new ze,y=new ze,v=new ze,b=new ze,_=new ze,M=new ze,w=new ze,A=new ze,E=new Z,C=new ze;let L=!1;const P=[],B={};function H(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function z(ue){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ue:f.theta-=ue}function K(ue){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ue:f.phi-=ue}const Y=(()=>{const ue=new Z;return function(Ge,vt){ue.setFromMatrixColumn(vt,0),ue.multiplyScalar(-Ge),d.add(ue)}})(),ie=(()=>{const ue=new Z;return function(Ge,vt){r.screenSpacePanning===!0?ue.setFromMatrixColumn(vt,1):(ue.setFromMatrixColumn(vt,0),ue.crossVectors(r.object.up,ue)),ue.multiplyScalar(Ge),d.add(ue)}})(),G=(()=>{const ue=new Z;return function(Ge,vt){const $e=r.domElement;if($e&&r.object instanceof Sr&&r.object.isPerspectiveCamera){const ae=r.object.position;ue.copy(ae).sub(r.target);let Qe=ue.length();Qe*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*Ge*Qe/$e.clientHeight,r.object.matrix),ie(2*vt*Qe/$e.clientHeight,r.object.matrix)}else $e&&r.object instanceof Ba&&r.object.isOrthographicCamera?(Y(Ge*(r.object.right-r.object.left)/r.object.zoom/$e.clientWidth,r.object.matrix),ie(vt*(r.object.top-r.object.bottom)/r.object.zoom/$e.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function J(ue){r.object instanceof Sr&&r.object.isPerspectiveCamera||r.object instanceof Ba&&r.object.isOrthographicCamera?h=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(ue){J(h/ue)}function re(ue){J(h*ue)}function fe(ue){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Ce=r.domElement.getBoundingClientRect(),Ge=ue.clientX-Ce.left,vt=ue.clientY-Ce.top,$e=Ce.width,ae=Ce.height;C.x=Ge/$e*2-1,C.y=-(vt/ae)*2+1,E.set(C.x,C.y,1).unproject(r.object).sub(r.object.position).normalize()}function we(ue){return Math.max(r.minDistance,Math.min(r.maxDistance,ue))}function pe(ue){m.set(ue.clientX,ue.clientY)}function Ae(ue){fe(ue),M.set(ue.clientX,ue.clientY)}function Pe(ue){v.set(ue.clientX,ue.clientY)}function Ze(ue){x.set(ue.clientX,ue.clientY),y.subVectors(x,m).multiplyScalar(r.rotateSpeed);const Ce=r.domElement;Ce&&(z(2*Math.PI*y.x/Ce.clientHeight),K(2*Math.PI*y.y/Ce.clientHeight)),m.copy(x),r.update()}function nt(ue){w.set(ue.clientX,ue.clientY),A.subVectors(w,M),A.y>0?te(q()):A.y<0&&re(q()),M.copy(w),r.update()}function Ie(ue){b.set(ue.clientX,ue.clientY),_.subVectors(b,v).multiplyScalar(r.panSpeed),G(_.x,_.y),v.copy(b),r.update()}function et(ue){fe(ue),ue.deltaY<0?re(q()):ue.deltaY>0&&te(q()),r.update()}function Xe(ue){let Ce=!1;switch(ue.code){case r.keys.UP:G(0,r.keyPanSpeed),Ce=!0;break;case r.keys.BOTTOM:G(0,-r.keyPanSpeed),Ce=!0;break;case r.keys.LEFT:G(r.keyPanSpeed,0),Ce=!0;break;case r.keys.RIGHT:G(-r.keyPanSpeed,0),Ce=!0;break}Ce&&(ue.preventDefault(),r.update())}function X(){if(P.length==1)m.set(P[0].pageX,P[0].pageY);else{const ue=.5*(P[0].pageX+P[1].pageX),Ce=.5*(P[0].pageY+P[1].pageY);m.set(ue,Ce)}}function Le(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const ue=.5*(P[0].pageX+P[1].pageX),Ce=.5*(P[0].pageY+P[1].pageY);v.set(ue,Ce)}}function Se(){const ue=P[0].pageX-P[1].pageX,Ce=P[0].pageY-P[1].pageY,Ge=Math.sqrt(ue*ue+Ce*Ce);M.set(0,Ge)}function Ve(){r.enableZoom&&Se(),r.enablePan&&Le()}function Re(){r.enableZoom&&Se(),r.enableRotate&&X()}function dt(ue){if(P.length==1)x.set(ue.pageX,ue.pageY);else{const Ge=tt(ue),vt=.5*(ue.pageX+Ge.x),$e=.5*(ue.pageY+Ge.y);x.set(vt,$e)}y.subVectors(x,m).multiplyScalar(r.rotateSpeed);const Ce=r.domElement;Ce&&(z(2*Math.PI*y.x/Ce.clientHeight),K(2*Math.PI*y.y/Ce.clientHeight)),m.copy(x)}function it(ue){if(P.length==1)b.set(ue.pageX,ue.pageY);else{const Ce=tt(ue),Ge=.5*(ue.pageX+Ce.x),vt=.5*(ue.pageY+Ce.y);b.set(Ge,vt)}_.subVectors(b,v).multiplyScalar(r.panSpeed),G(_.x,_.y),v.copy(b)}function Q(ue){const Ce=tt(ue),Ge=ue.pageX-Ce.x,vt=ue.pageY-Ce.y,$e=Math.sqrt(Ge*Ge+vt*vt);w.set(0,$e),A.set(0,Math.pow(w.y/M.y,r.zoomSpeed)),te(A.y),M.copy(w)}function $(ue){r.enableZoom&&Q(ue),r.enablePan&&it(ue)}function xe(ue){r.enableZoom&&Q(ue),r.enableRotate&&dt(ue)}function He(ue){var Ce,Ge;r.enabled!==!1&&(P.length===0&&((Ce=r.domElement)==null||Ce.ownerDocument.addEventListener("pointermove",We),(Ge=r.domElement)==null||Ge.ownerDocument.addEventListener("pointerup",Ue)),ge(ue),ue.pointerType==="touch"?D(ue):ut(ue))}function We(ue){r.enabled!==!1&&(ue.pointerType==="touch"?V(ue):ft(ue))}function Ue(ue){var Ce,Ge,vt;_e(ue),P.length===0&&((Ce=r.domElement)==null||Ce.releasePointerCapture(ue.pointerId),(Ge=r.domElement)==null||Ge.ownerDocument.removeEventListener("pointermove",We),(vt=r.domElement)==null||vt.ownerDocument.removeEventListener("pointerup",Ue)),r.dispatchEvent(o),l=a.NONE}function ut(ue){let Ce;switch(ue.button){case 0:Ce=r.mouseButtons.LEFT;break;case 1:Ce=r.mouseButtons.MIDDLE;break;case 2:Ce=r.mouseButtons.RIGHT;break;default:Ce=-1}switch(Ce){case ju.DOLLY:if(r.enableZoom===!1)return;Ae(ue),l=a.DOLLY;break;case ju.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enablePan===!1)return;Pe(ue),l=a.PAN}else{if(r.enableRotate===!1)return;pe(ue),l=a.ROTATE}break;case ju.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enableRotate===!1)return;pe(ue),l=a.ROTATE}else{if(r.enablePan===!1)return;Pe(ue),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ft(ue){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Ze(ue);break;case a.DOLLY:if(r.enableZoom===!1)return;nt(ue);break;case a.PAN:if(r.enablePan===!1)return;Ie(ue);break}}function j(ue){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ue.preventDefault(),r.dispatchEvent(s),et(ue),r.dispatchEvent(o))}function O(ue){r.enabled===!1||r.enablePan===!1||Xe(ue)}function D(ue){switch(Ke(ue),P.length){case 1:switch(r.touches.ONE){case zu.ROTATE:if(r.enableRotate===!1)return;X(),l=a.TOUCH_ROTATE;break;case zu.PAN:if(r.enablePan===!1)return;Le(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case zu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ve(),l=a.TOUCH_DOLLY_PAN;break;case zu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Re(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function V(ue){switch(Ke(ue),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;dt(ue),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;it(ue),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$(ue),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;xe(ue),r.update();break;default:l=a.NONE}}function he(ue){r.enabled!==!1&&ue.preventDefault()}function ge(ue){P.push(ue)}function _e(ue){delete B[ue.pointerId];for(let Ce=0;Ce<P.length;Ce++)if(P[Ce].pointerId==ue.pointerId){P.splice(Ce,1);return}}function Ke(ue){let Ce=B[ue.pointerId];Ce===void 0&&(Ce=new ze,B[ue.pointerId]=Ce),Ce.set(ue.pageX,ue.pageY)}function tt(ue){const Ce=ue.pointerId===P[0].pointerId?P[1]:P[0];return B[Ce.pointerId]}this.dollyIn=(ue=q())=>{re(ue),r.update()},this.dollyOut=(ue=q())=>{te(ue),r.update()},this.getScale=()=>h,this.setScale=ue=>{J(ue),r.update()},this.getZoomScale=()=>q(),n!==void 0&&this.connect(n),this.update()}};function T1(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const uf="srgb",bl="srgb-linear",qU=3001,Bhe=3e3;class OB extends bi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Fhe(n)}),this.register(function(n){return new Uhe(n)}),this.register(function(n){return new Khe(n)}),this.register(function(n){return new Yhe(n)}),this.register(function(n){return new Jhe(n)}),this.register(function(n){return new zhe(n)}),this.register(function(n){return new Hhe(n)}),this.register(function(n){return new Ghe(n)}),this.register(function(n){return new Vhe(n)}),this.register(function(n){return new khe(n)}),this.register(function(n){return new Whe(n)}),this.register(function(n){return new jhe(n)}),this.register(function(n){return new Xhe(n)}),this.register(function(n){return new $he(n)}),this.register(function(n){return new Lhe(n)}),this.register(function(n){return new qhe(n)}),this.register(function(n){return new Zhe(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Uc.extractUrlBase(e);o=Uc.resolveURL(c,this.path)}else o=Uc.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new gi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(T1(new Uint8Array(e.slice(0,4)))===X$){try{o[an.KHR_BINARY_GLTF]=new Qhe(e)}catch(u){i&&i(u);return}s=JSON.parse(o[an.KHR_BINARY_GLTF].content)}else s=JSON.parse(T1(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new hde(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case an.KHR_MATERIALS_UNLIT:o[u]=new Nhe;break;case an.KHR_DRACO_MESH_COMPRESSION:o[u]=new ede(s,this.dracoLoader);break;case an.KHR_TEXTURE_TRANSFORM:o[u]=new tde;break;case an.KHR_MESH_QUANTIZATION:o[u]=new nde;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Dhe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const an={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Lhe{constructor(e){this.parser=e,this.name=an.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new gt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],bl);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new yB(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new vB(u),c.distance=f;break;case"spot":c=new gB(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,al(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Nhe{constructor(){this.name=an.KHR_MATERIALS_UNLIT}getMaterialType(){return fs}extendParams(e,n,r){const i=[];e.color=new gt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],bl),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,uf))}return Promise.all(i)}}class khe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Fhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ze(a,a)}return Promise.all(s)}}class Uhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class jhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class zhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new gt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],bl)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,uf)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Hhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Ghe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new gt().setRGB(a[0],a[1],a[2],bl),Promise.all(s)}}class Vhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Whe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new gt().setRGB(a[0],a[1],a[2],bl),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,uf)),Promise.all(s)}}class $he{constructor(e){this.parser=e,this.name=an.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class Xhe{constructor(e){this.parser=e,this.name=an.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Khe{constructor(e){this.parser=e,this.name=an.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class Yhe{constructor(e){this.parser=e,this.name=an.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Jhe{constructor(e){this.parser=e,this.name=an.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class qhe{constructor(e){this.name=an.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,h=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,h,i.mode,i.filter).then(function(d){return d.buffer}):o.ready.then(function(){const d=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(d),u,f,h,i.mode,i.filter),d})})}else return null}}class Zhe{constructor(e){this.name=an.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==oo.TRIANGLES&&c.mode!==oo.TRIANGLE_STRIP&&c.mode!==oo.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],h=c[0].count,d=[];for(const m of f){const x=new Ft,y=new Z,v=new Ir,b=new Z(1,1,1),_=new tB(m.geometry,m.material,h);for(let M=0;M<h;M++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,M),l.SCALE&&b.fromBufferAttribute(l.SCALE,M),_.setMatrixAt(M,x.compose(y,v,b));for(const M in l)if(M==="_COLOR_0"){const w=l[M];_.instanceColor=new zf(w.array,w.itemSize,w.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&m.geometry.setAttribute(M,l[M]);yn.prototype.copy.call(_,m),this.parser.assignFinalMaterial(_),d.push(_)}return u.isGroup?(u.clear(),u.add(...d),u):d[0]}))}}const X$="glTF",Zm=12,ZU={JSON:1313821514,BIN:5130562};class Qhe{constructor(e){this.name=an.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Zm);if(this.header={magic:T1(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==X$)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Zm,i=new DataView(e,Zm);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===ZU.JSON){const l=new Uint8Array(e,Zm+s,o);this.content=T1(l)}else if(a===ZU.BIN){const l=Zm+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ede{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=an.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=g2[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=g2[u]||u.toLowerCase();if(o[u]!==void 0){const h=r.accessors[e.attributes[u]],d=Ud[h.componentType];c[f]=d.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(f,h){i.decodeDracoFile(u,function(d){for(const m in d.attributes){const x=d.attributes[m],y=l[m];y!==void 0&&(x.normalized=y)}f(d)},a,c,bl,h)})})}}class tde{constructor(){this.name=an.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class nde{constructor(){this.name=an.KHR_MESH_QUANTIZATION}}class K$ extends Hp{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,f=(r-n)/u,h=f*f,d=h*f,m=e*c,x=m-c,y=-2*d+3*h,v=d-h,b=1-y,_=v-h+f;for(let M=0;M!==a;M++){const w=o[x+M+a],A=o[x+M+l]*u,E=o[m+M+a],C=o[m+M]*u;s[M]=b*w+_*A+y*E+v*C}return s}}const rde=new Ir;class ide extends K${interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return rde.fromArray(s).normalize().toArray(s),s}}const oo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ud={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},QU={9728:sr,9729:hn,9984:Ev,9985:Nd,9986:vc,9987:po},e4={33071:Zn,33648:tp,10497:Xc},yT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},g2={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...RB>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},oc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},sde={CUBICSPLINE:void 0,LINEAR:jf,STEP:np},xT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ode(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new o0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ja})),t.DefaultMaterial}function Iu(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function al(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ade(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function lde(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function cde(t){let e;const n=t.extensions&&t.extensions[an.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+bT(n.attributes):e=t.indices+":"+bT(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+bT(t.targets[r]);return e}function bT(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function v2(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ude(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const fde=new Ft;class hde{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Dhe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new i$(this.options.manager):this.textureLoader=new h$(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new gi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Iu(s,a,i),al(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[an.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Uc.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=yT[i.type],a=Ud[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new xn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=yT[i.type],c=Ud[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=i.byteOffset||0,d=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,m=i.normalized===!0;let x,y;if(d&&d!==f){const v=Math.floor(h/d),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count;let _=n.cache.get(b);_||(x=new c(a,v*d,i.count*d/u),_=new e0(x,d/u),n.cache.add(b,_)),y=new Kc(_,l,h%d/u,m)}else a===null?x=new c(i.count*l):x=new c(a,h,i.count*l),y=new xn(x,l,m);if(i.sparse!==void 0){const v=yT.SCALAR,b=Ud[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,w=new b(o[1],_,i.sparse.count*v),A=new c(o[2],M,i.sparse.count*l);a!==null&&(y=new xn(y.array.slice(),y.itemSize,y.normalized));for(let E=0,C=w.length;E<C;E++){const L=w[E];if(y.setX(L,A[E*l]),l>=2&&y.setY(L,A[E*l+1]),l>=3&&y.setZ(L,A[E*l+2]),l>=4&&y.setW(L,A[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=QU[h.magFilter]||hn,u.minFilter=QU[h.minFilter]||po,u.wrapS=e4[h.wrapS]||Xc,u.wrapT=e4[h.wrapT]||Xc,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let m=h;n.isImageBitmapLoader===!0&&(m=function(x){const y=new Pn(x);y.needsUpdate=!0,h(y)}),n.load(Uc.resolveURL(f,s.path),m,void 0,d)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),al(f,o),f.userData.mimeType=o.mimeType||ude(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[an.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[an.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[an.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===qU?uf:bl),"colorSpace"in o?o.colorSpace=i:o.encoding=i===uf?qU:Bhe),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new bS,Jr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new zi,Jr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return o0}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[an.KHR_MATERIALS_UNLIT]){const f=i[an.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new gt(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],bl),a.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",f.baseColorTexture,uf)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=uo);const u=s.alphaMode||xT.OPAQUE;if(u===xT.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===xT.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==fs&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ze(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==fs&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==fs){const f=s.emissiveFactor;a.emissive=new gt().setRGB(f[0],f[1],f[2],bl)}return s.emissiveTexture!==void 0&&o!==fs&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,uf)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),al(f,s),n.associations.set(f,{materials:e}),s.extensions&&Iu(i,f,s),f})}createUniqueName(e){const n=gn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[an.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return t4(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=cde(c),f=i[u];if(f)o.push(f.promise);else{let h;c.extensions&&c.extensions[an.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=t4(new qt,c,n),i[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?ode(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let d=0,m=u.length;d<m;d++){const x=u[d],y=o[d];let v;const b=c[d];if(y.mode===oo.TRIANGLES||y.mode===oo.TRIANGLE_STRIP||y.mode===oo.TRIANGLE_FAN||y.mode===void 0)v=s.isSkinnedMesh===!0?new eB(x,b):new tr(x,b),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),y.mode===oo.TRIANGLE_STRIP?v.geometry=KU(v.geometry,jI):y.mode===oo.TRIANGLE_FAN&&(v.geometry=KU(v.geometry,S1));else if(y.mode===oo.LINES)v=new ia(x,b);else if(y.mode===oo.LINE_STRIP)v=new Cl(x,b);else if(y.mode===oo.LINE_LOOP)v=new nB(x,b);else if(y.mode===oo.POINTS)v=new rB(x,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(v.geometry.morphAttributes).length>0&&lde(v,s),v.name=n.createUniqueName(s.name||"mesh_"+e),al(v,s),y.extensions&&Iu(i,v,y),n.assignFinalMaterial(v),f.push(v)}for(let d=0,m=f.length;d<m;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return s.extensions&&Iu(i,f[0],s),f[0];const h=new pl;s.extensions&&Iu(i,h,s),n.associations.set(h,{meshes:e});for(let d=0,m=f.length;d<m;d++)h.add(f[d]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Sr(kd.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Ba(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),al(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const h=new Ft;s!==null&&h.fromArray(s.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new t0(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let f=0,h=i.channels.length;f<h;f++){const d=i.channels[f],m=i.samplers[d.sampler],x=d.target,y=x.node,v=i.parameters!==void 0?i.parameters[m.input]:m.input,b=i.parameters!==void 0?i.parameters[m.output]:m.output;x.node!==void 0&&(o.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",b)),c.push(m),u.push(x))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const h=f[0],d=f[1],m=f[2],x=f[3],y=f[4],v=[];for(let b=0,_=h.length;b<_;b++){const M=h[b],w=d[b],A=m[b],E=x[b],C=y[b];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const L=r._createAnimationTracks(M,w,A,E,C);if(L)for(let P=0;P<L.length;P++)v.push(L[P])}return new sp(s,void 0,v)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],h=c[2];h!==null&&u.traverse(function(d){d.isSkinnedMesh&&d.bind(h,fde)});for(let d=0,m=f.length;d<m;d++)u.add(f[d]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new xS:c.length>1?u=new pl:c.length===1?u=c[0]:u=new yn,u!==c[0])for(let f=0,h=c.length;f<h;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),al(u,s),s.extensions&&Iu(r,u,s),s.matrix!==void 0){const f=new Ft;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new pl;r.name&&(s.name=i.createUniqueName(r.name)),al(s,r),r.extensions&&Iu(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[h,d]of i.associations)(h instanceof Jr||h instanceof Pn)&&f.set(h,d);return u.traverse(h=>{const d=i.associations.get(h);d!=null&&f.set(h,d)}),f};return i.associations=c(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];oc[s.path]===oc.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(a);let c;switch(oc[s.path]){case oc.weights:c=Gf;break;case oc.rotation:c=Yc;break;case oc.position:case oc.scale:c=Vf;break;default:switch(r.itemSize){case 1:c=Gf;break;case 2:case 3:default:c=Vf;break}break}const u=i.interpolation!==void 0?sde[i.interpolation]:jf,f=this._getArrayFromAccessor(r);for(let h=0,d=l.length;h<d;h++){const m=new c(l[h]+"."+oc[s.path],n.array,f,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),o.push(m)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=v2(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Yc?ide:K$;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function dde(t,e,n){const r=e.attributes,i=new Yr;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const u=v2(Ud[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,m=h.max;if(d!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(m[2]))),h.normalized){const x=v2(Ud[h.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new ai;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function t4(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=g2[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return al(t,e),dde(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?ade(t,e.targets,n):t})}const pde={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},mde={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class gde extends pB{constructor(e){super(e),this.type=Xr}parse(e){const o=function(C,L){switch(C){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(L||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(L||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(L||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(L||""))}},u=`
`,f=function(C,L,P){L=L||1024;let H=C.pos,q=-1,z=0,K="",Y=String.fromCharCode.apply(null,new Uint16Array(C.subarray(H,H+128)));for(;0>(q=Y.indexOf(u))&&z<L&&H<C.byteLength;)K+=Y,z+=Y.length,H+=128,Y+=String.fromCharCode.apply(null,new Uint16Array(C.subarray(H,H+128)));return-1<q?(C.pos+=z+q+1,K+Y.slice(0,q)):!1},h=function(C){const L=/^#\?(\S+)/,P=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*FORMAT=(\S+)\s*$/,q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,z={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let K,Y;for((C.pos>=C.byteLength||!(K=f(C)))&&o(1,"no header found"),(Y=K.match(L))||o(3,"bad initial token"),z.valid|=1,z.programtype=Y[1],z.string+=K+`
`;K=f(C),K!==!1;){if(z.string+=K+`
`,K.charAt(0)==="#"){z.comments+=K+`
`;continue}if((Y=K.match(P))&&(z.gamma=parseFloat(Y[1])),(Y=K.match(B))&&(z.exposure=parseFloat(Y[1])),(Y=K.match(H))&&(z.valid|=2,z.format=Y[1]),(Y=K.match(q))&&(z.valid|=4,z.height=parseInt(Y[1],10),z.width=parseInt(Y[2],10)),z.valid&2&&z.valid&4)break}return z.valid&2||o(3,"missing format specifier"),z.valid&4||o(3,"missing image size specifier"),z},d=function(C,L,P){const B=L;if(B<8||B>32767||C[0]!==2||C[1]!==2||C[2]&128)return new Uint8Array(C);B!==(C[2]<<8|C[3])&&o(3,"wrong scanline width");const H=new Uint8Array(4*L*P);H.length||o(4,"unable to allocate buffer space");let q=0,z=0;const K=4*B,Y=new Uint8Array(4),ie=new Uint8Array(K);let G=P;for(;G>0&&z<C.byteLength;){z+4>C.byteLength&&o(1),Y[0]=C[z++],Y[1]=C[z++],Y[2]=C[z++],Y[3]=C[z++],(Y[0]!=2||Y[1]!=2||(Y[2]<<8|Y[3])!=B)&&o(3,"bad rgbe scanline format");let J=0,te;for(;J<K&&z<C.byteLength;){te=C[z++];const fe=te>128;if(fe&&(te-=128),(te===0||J+te>K)&&o(3,"bad scanline data"),fe){const we=C[z++];for(let pe=0;pe<te;pe++)ie[J++]=we}else ie.set(C.subarray(z,z+te),J),J+=te,z+=te}const re=B;for(let fe=0;fe<re;fe++){let we=0;H[q]=ie[fe+we],we+=B,H[q+1]=ie[fe+we],we+=B,H[q+2]=ie[fe+we],we+=B,H[q+3]=ie[fe+we],q+=4}G--}return H},m=function(C,L,P,B){const H=C[L+3],q=Math.pow(2,H-128)/255;P[B+0]=C[L+0]*q,P[B+1]=C[L+1]*q,P[B+2]=C[L+2]*q,P[B+3]=1},x=function(C,L,P,B){const H=C[L+3],q=Math.pow(2,H-128)/255;P[B+0]=af.toHalfFloat(Math.min(C[L+0]*q,65504)),P[B+1]=af.toHalfFloat(Math.min(C[L+1]*q,65504)),P[B+2]=af.toHalfFloat(Math.min(C[L+2]*q,65504)),P[B+3]=af.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const v=h(y),b=v.width,_=v.height,M=d(y.subarray(y.pos),b,_);let w,A,E;switch(this.type){case Pr:E=M.length/4;const C=new Float32Array(E*4);for(let P=0;P<E;P++)m(M,P*4,C,P*4);w=C,A=Pr;break;case Xr:E=M.length/4;const L=new Uint16Array(E*4);for(let P=0;P<E;P++)x(M,P*4,L,P*4);w=L,A=Xr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:b,height:_,data:w,header:v.string,gamma:v.gamma,exposure:v.exposure,type:A}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case Pr:case Xr:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=hn,o.magFilter=hn,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const Qm=RB>=152;class vde extends pB{constructor(e){super(e),this.type=Xr}parse(e){const L=Math.pow(2.7182818,2.2);function P(k,W){for(var ce=0,F=0;F<65536;++F)(F==0||k[F>>3]&1<<(F&7))&&(W[ce++]=F);for(var ee=ce-1;ce<65536;)W[ce++]=0;return ee}function B(k){for(var W=0;W<16384;W++)k[W]={},k[W].len=0,k[W].lit=0,k[W].p=null}const H={l:0,c:0,lc:0};function q(k,W,ce,F,ee){for(;ce<k;)W=W<<8|tt(F,ee),ce+=8;ce-=k,H.l=W>>ce&(1<<k)-1,H.c=W,H.lc=ce}const z=new Array(59);function K(k){for(var W=0;W<=58;++W)z[W]=0;for(var W=0;W<65537;++W)z[k[W]]+=1;for(var ce=0,W=58;W>0;--W){var F=ce+z[W]>>1;z[W]=ce,ce=F}for(var W=0;W<65537;++W){var ee=k[W];ee>0&&(k[W]=ee|z[ee]++<<6)}}function Y(k,W,ce,F,ee,ne,le){for(var se=ce,Me=0,Oe=0;ee<=ne;ee++){if(se.value-ce.value>F)return!1;q(6,Me,Oe,k,se);var De=H.l;if(Me=H.c,Oe=H.lc,le[ee]=De,De==63){if(se.value-ce.value>F)throw"Something wrong with hufUnpackEncTable";q(8,Me,Oe,k,se);var Be=H.l+6;if(Me=H.c,Oe=H.lc,ee+Be>ne+1)throw"Something wrong with hufUnpackEncTable";for(;Be--;)le[ee++]=0;ee--}else if(De>=59){var Be=De-59+2;if(ee+Be>ne+1)throw"Something wrong with hufUnpackEncTable";for(;Be--;)le[ee++]=0;ee--}}K(le)}function ie(k){return k&63}function G(k){return k>>6}function J(k,W,ce,F){for(;W<=ce;W++){var ee=G(k[W]),ne=ie(k[W]);if(ee>>ne)throw"Invalid table entry";if(ne>14){var le=F[ee>>ne-14];if(le.len)throw"Invalid table entry";if(le.lit++,le.p){var se=le.p;le.p=new Array(le.lit);for(var Me=0;Me<le.lit-1;++Me)le.p[Me]=se[Me]}else le.p=new Array(1);le.p[le.lit-1]=W}else if(ne)for(var Oe=0,Me=1<<14-ne;Me>0;Me--){var le=F[(ee<<14-ne)+Oe];if(le.len||le.p)throw"Invalid table entry";le.len=ne,le.lit=W,Oe++}}return!0}const te={c:0,lc:0};function re(k,W,ce,F){k=k<<8|tt(ce,F),W+=8,te.c=k,te.lc=W}const fe={c:0,lc:0};function we(k,W,ce,F,ee,ne,le,se,Me,Oe){if(k==W){F<8&&(re(ce,F,ee,le),ce=te.c,F=te.lc),F-=8;var De=ce>>F,De=new Uint8Array([De])[0];if(Me.value+De>Oe)return!1;for(var Be=se[Me.value-1];De-- >0;)se[Me.value++]=Be}else if(Me.value<Oe)se[Me.value++]=k;else return!1;fe.c=ce,fe.lc=F}function pe(k){return k&65535}function Ae(k){var W=pe(k);return W>32767?W-65536:W}const Pe={a:0,b:0};function Ze(k,W){var ce=Ae(k),F=Ae(W),ee=F,ne=ce+(ee&1)+(ee>>1),le=ne,se=ne-ee;Pe.a=le,Pe.b=se}function nt(k,W){var ce=pe(k),F=pe(W),ee=ce-(F>>1)&65535,ne=F+ee-32768&65535;Pe.a=ne,Pe.b=ee}function Ie(k,W,ce,F,ee,ne,le){for(var se=le<16384,Me=ce>ee?ee:ce,Oe=1,De;Oe<=Me;)Oe<<=1;for(Oe>>=1,De=Oe,Oe>>=1;Oe>=1;){for(var Be=0,bt=Be+ne*(ee-De),Ye=ne*Oe,qe=ne*De,wt=F*Oe,It=F*De,ht,Et,yt,ct;Be<=bt;Be+=qe){for(var Dt=Be,Nt=Be+F*(ce-De);Dt<=Nt;Dt+=It){var zt=Dt+wt,Tn=Dt+Ye,gr=Tn+wt;se?(Ze(k[Dt+W],k[Tn+W]),ht=Pe.a,yt=Pe.b,Ze(k[zt+W],k[gr+W]),Et=Pe.a,ct=Pe.b,Ze(ht,Et),k[Dt+W]=Pe.a,k[zt+W]=Pe.b,Ze(yt,ct),k[Tn+W]=Pe.a,k[gr+W]=Pe.b):(nt(k[Dt+W],k[Tn+W]),ht=Pe.a,yt=Pe.b,nt(k[zt+W],k[gr+W]),Et=Pe.a,ct=Pe.b,nt(ht,Et),k[Dt+W]=Pe.a,k[zt+W]=Pe.b,nt(yt,ct),k[Tn+W]=Pe.a,k[gr+W]=Pe.b)}if(ce&Oe){var Tn=Dt+Ye;se?Ze(k[Dt+W],k[Tn+W]):nt(k[Dt+W],k[Tn+W]),ht=Pe.a,k[Tn+W]=Pe.b,k[Dt+W]=ht}}if(ee&Oe)for(var Dt=Be,Nt=Be+F*(ce-De);Dt<=Nt;Dt+=It){var zt=Dt+wt;se?Ze(k[Dt+W],k[zt+W]):nt(k[Dt+W],k[zt+W]),ht=Pe.a,k[zt+W]=Pe.b,k[Dt+W]=ht}De=Oe,Oe>>=1}return Be}function et(k,W,ce,F,ee,ne,le,se,Me,Oe){for(var De=0,Be=0,bt=se,Ye=Math.trunc(ee.value+(ne+7)/8);ee.value<Ye;)for(re(De,Be,ce,ee),De=te.c,Be=te.lc;Be>=14;){var qe=De>>Be-14&16383,wt=W[qe];if(wt.len)Be-=wt.len,we(wt.lit,le,De,Be,ce,F,ee,Me,Oe,bt),De=fe.c,Be=fe.lc;else{if(!wt.p)throw"hufDecode issues";var It;for(It=0;It<wt.lit;It++){for(var ht=ie(k[wt.p[It]]);Be<ht&&ee.value<Ye;)re(De,Be,ce,ee),De=te.c,Be=te.lc;if(Be>=ht&&G(k[wt.p[It]])==(De>>Be-ht&(1<<ht)-1)){Be-=ht,we(wt.p[It],le,De,Be,ce,F,ee,Me,Oe,bt),De=fe.c,Be=fe.lc;break}}if(It==wt.lit)throw"hufDecode issues"}}var Et=8-ne&7;for(De>>=Et,Be-=Et;Be>0;){var wt=W[De<<14-Be&16383];if(wt.len)Be-=wt.len,we(wt.lit,le,De,Be,ce,F,ee,Me,Oe,bt),De=fe.c,Be=fe.lc;else throw"hufDecode issues"}return!0}function Xe(k,W,ce,F,ee,ne){var le={value:0},se=ce.value,Me=Ke(W,ce),Oe=Ke(W,ce);ce.value+=4;var De=Ke(W,ce);if(ce.value+=4,Me<0||Me>=65537||Oe<0||Oe>=65537)throw"Something wrong with HUF_ENCSIZE";var Be=new Array(65537),bt=new Array(16384);B(bt);var Ye=F-(ce.value-se);if(Y(k,W,ce,Ye,Me,Oe,Be),De>8*(F-(ce.value-se)))throw"Something wrong with hufUncompress";J(Be,Me,Oe,bt),et(Be,bt,k,W,ce,De,Oe,ne,ee,le)}function X(k,W,ce){for(var F=0;F<ce;++F)W[F]=k[W[F]]}function Le(k){for(var W=1;W<k.length;W++){var ce=k[W-1]+k[W]-128;k[W]=ce}}function Se(k,W){for(var ce=0,F=Math.floor((k.length+1)/2),ee=0,ne=k.length-1;!(ee>ne||(W[ee++]=k[ce++],ee>ne));)W[ee++]=k[F++]}function Ve(k){for(var W=k.byteLength,ce=new Array,F=0,ee=new DataView(k);W>0;){var ne=ee.getInt8(F++);if(ne<0){var le=-ne;W-=le+1;for(var se=0;se<le;se++)ce.push(ee.getUint8(F++))}else{var le=ne;W-=2;for(var Me=ee.getUint8(F++),se=0;se<le+1;se++)ce.push(Me)}}return ce}function Re(k,W,ce,F,ee,ne){var zt=new DataView(ne.buffer),le=ce[k.idx[0]].width,se=ce[k.idx[0]].height,Me=3,Oe=Math.floor(le/8),De=Math.ceil(le/8),Be=Math.ceil(se/8),bt=le-(De-1)*8,Ye=se-(Be-1)*8,qe={value:0},wt=new Array(Me),It=new Array(Me),ht=new Array(Me),Et=new Array(Me),yt=new Array(Me);for(let sn=0;sn<Me;++sn)yt[sn]=W[k.idx[sn]],wt[sn]=sn<1?0:wt[sn-1]+De*Be,It[sn]=new Float32Array(64),ht[sn]=new Uint16Array(64),Et[sn]=new Uint16Array(De*64);for(let sn=0;sn<Be;++sn){var ct=8;sn==Be-1&&(ct=Ye);var Dt=8;for(let Kt=0;Kt<De;++Kt){Kt==De-1&&(Dt=bt);for(let cn=0;cn<Me;++cn)ht[cn].fill(0),ht[cn][0]=ee[wt[cn]++],dt(qe,F,ht[cn]),it(ht[cn],It[cn]),Q(It[cn]);$(It);for(let cn=0;cn<Me;++cn)xe(It[cn],Et[cn],Kt*64)}let lr=0;for(let Kt=0;Kt<Me;++Kt){const cn=ce[k.idx[Kt]].type;for(let jn=8*sn;jn<8*sn+ct;++jn){lr=yt[Kt][jn];for(let Vs=0;Vs<Oe;++Vs){const Hi=Vs*64+(jn&7)*8;zt.setUint16(lr+0*2*cn,Et[Kt][Hi+0],!0),zt.setUint16(lr+1*2*cn,Et[Kt][Hi+1],!0),zt.setUint16(lr+2*2*cn,Et[Kt][Hi+2],!0),zt.setUint16(lr+3*2*cn,Et[Kt][Hi+3],!0),zt.setUint16(lr+4*2*cn,Et[Kt][Hi+4],!0),zt.setUint16(lr+5*2*cn,Et[Kt][Hi+5],!0),zt.setUint16(lr+6*2*cn,Et[Kt][Hi+6],!0),zt.setUint16(lr+7*2*cn,Et[Kt][Hi+7],!0),lr+=8*2*cn}}if(Oe!=De)for(let jn=8*sn;jn<8*sn+ct;++jn){const Vs=yt[Kt][jn]+8*Oe*2*cn,Hi=Oe*64+(jn&7)*8;for(let ca=0;ca<Dt;++ca)zt.setUint16(Vs+ca*2*cn,Et[Kt][Hi+ca],!0)}}}for(var Nt=new Uint16Array(le),zt=new DataView(ne.buffer),Tn=0;Tn<Me;++Tn){ce[k.idx[Tn]].decoded=!0;var gr=ce[k.idx[Tn]].type;if(ce[Tn].type==2)for(var nr=0;nr<se;++nr){const sn=yt[Tn][nr];for(var mn=0;mn<le;++mn)Nt[mn]=zt.getUint16(sn+mn*2*gr,!0);for(var mn=0;mn<le;++mn)zt.setFloat32(sn+mn*2*gr,$e(Nt[mn]),!0)}}}function dt(k,W,ce){for(var F,ee=1;ee<64;)F=W[k.value],F==65280?ee=64:F>>8==255?ee+=F&255:(ce[ee]=F,ee++),k.value++}function it(k,W){W[0]=$e(k[0]),W[1]=$e(k[1]),W[2]=$e(k[5]),W[3]=$e(k[6]),W[4]=$e(k[14]),W[5]=$e(k[15]),W[6]=$e(k[27]),W[7]=$e(k[28]),W[8]=$e(k[2]),W[9]=$e(k[4]),W[10]=$e(k[7]),W[11]=$e(k[13]),W[12]=$e(k[16]),W[13]=$e(k[26]),W[14]=$e(k[29]),W[15]=$e(k[42]),W[16]=$e(k[3]),W[17]=$e(k[8]),W[18]=$e(k[12]),W[19]=$e(k[17]),W[20]=$e(k[25]),W[21]=$e(k[30]),W[22]=$e(k[41]),W[23]=$e(k[43]),W[24]=$e(k[9]),W[25]=$e(k[11]),W[26]=$e(k[18]),W[27]=$e(k[24]),W[28]=$e(k[31]),W[29]=$e(k[40]),W[30]=$e(k[44]),W[31]=$e(k[53]),W[32]=$e(k[10]),W[33]=$e(k[19]),W[34]=$e(k[23]),W[35]=$e(k[32]),W[36]=$e(k[39]),W[37]=$e(k[45]),W[38]=$e(k[52]),W[39]=$e(k[54]),W[40]=$e(k[20]),W[41]=$e(k[22]),W[42]=$e(k[33]),W[43]=$e(k[38]),W[44]=$e(k[46]),W[45]=$e(k[51]),W[46]=$e(k[55]),W[47]=$e(k[60]),W[48]=$e(k[21]),W[49]=$e(k[34]),W[50]=$e(k[37]),W[51]=$e(k[47]),W[52]=$e(k[50]),W[53]=$e(k[56]),W[54]=$e(k[59]),W[55]=$e(k[61]),W[56]=$e(k[35]),W[57]=$e(k[36]),W[58]=$e(k[48]),W[59]=$e(k[49]),W[60]=$e(k[57]),W[61]=$e(k[58]),W[62]=$e(k[62]),W[63]=$e(k[63])}function Q(k){const W=.5*Math.cos(.7853975),ce=.5*Math.cos(3.14159/16),F=.5*Math.cos(3.14159/8),ee=.5*Math.cos(3*3.14159/16),ne=.5*Math.cos(5*3.14159/16),le=.5*Math.cos(3*3.14159/8),se=.5*Math.cos(7*3.14159/16);for(var Me=new Array(4),Oe=new Array(4),De=new Array(4),Be=new Array(4),bt=0;bt<8;++bt){var Ye=bt*8;Me[0]=F*k[Ye+2],Me[1]=le*k[Ye+2],Me[2]=F*k[Ye+6],Me[3]=le*k[Ye+6],Oe[0]=ce*k[Ye+1]+ee*k[Ye+3]+ne*k[Ye+5]+se*k[Ye+7],Oe[1]=ee*k[Ye+1]-se*k[Ye+3]-ce*k[Ye+5]-ne*k[Ye+7],Oe[2]=ne*k[Ye+1]-ce*k[Ye+3]+se*k[Ye+5]+ee*k[Ye+7],Oe[3]=se*k[Ye+1]-ne*k[Ye+3]+ee*k[Ye+5]-ce*k[Ye+7],De[0]=W*(k[Ye+0]+k[Ye+4]),De[3]=W*(k[Ye+0]-k[Ye+4]),De[1]=Me[0]+Me[3],De[2]=Me[1]-Me[2],Be[0]=De[0]+De[1],Be[1]=De[3]+De[2],Be[2]=De[3]-De[2],Be[3]=De[0]-De[1],k[Ye+0]=Be[0]+Oe[0],k[Ye+1]=Be[1]+Oe[1],k[Ye+2]=Be[2]+Oe[2],k[Ye+3]=Be[3]+Oe[3],k[Ye+4]=Be[3]-Oe[3],k[Ye+5]=Be[2]-Oe[2],k[Ye+6]=Be[1]-Oe[1],k[Ye+7]=Be[0]-Oe[0]}for(var qe=0;qe<8;++qe)Me[0]=F*k[16+qe],Me[1]=le*k[16+qe],Me[2]=F*k[48+qe],Me[3]=le*k[48+qe],Oe[0]=ce*k[8+qe]+ee*k[24+qe]+ne*k[40+qe]+se*k[56+qe],Oe[1]=ee*k[8+qe]-se*k[24+qe]-ce*k[40+qe]-ne*k[56+qe],Oe[2]=ne*k[8+qe]-ce*k[24+qe]+se*k[40+qe]+ee*k[56+qe],Oe[3]=se*k[8+qe]-ne*k[24+qe]+ee*k[40+qe]-ce*k[56+qe],De[0]=W*(k[qe]+k[32+qe]),De[3]=W*(k[qe]-k[32+qe]),De[1]=Me[0]+Me[3],De[2]=Me[1]-Me[2],Be[0]=De[0]+De[1],Be[1]=De[3]+De[2],Be[2]=De[3]-De[2],Be[3]=De[0]-De[1],k[0+qe]=Be[0]+Oe[0],k[8+qe]=Be[1]+Oe[1],k[16+qe]=Be[2]+Oe[2],k[24+qe]=Be[3]+Oe[3],k[32+qe]=Be[3]-Oe[3],k[40+qe]=Be[2]-Oe[2],k[48+qe]=Be[1]-Oe[1],k[56+qe]=Be[0]-Oe[0]}function $(k){for(var W=0;W<64;++W){var ce=k[0][W],F=k[1][W],ee=k[2][W];k[0][W]=ce+1.5747*ee,k[1][W]=ce-.1873*F-.4682*ee,k[2][W]=ce+1.8556*F}}function xe(k,W,ce){for(var F=0;F<64;++F)W[ce+F]=af.toHalfFloat(He(k[F]))}function He(k){return k<=1?Math.sign(k)*Math.pow(Math.abs(k),2.2):Math.sign(k)*Math.pow(L,Math.abs(k)-1)}function We(k){return new DataView(k.array.buffer,k.offset.value,k.size)}function Ue(k){var W=k.viewer.buffer.slice(k.offset.value,k.offset.value+k.size),ce=new Uint8Array(Ve(W)),F=new Uint8Array(ce.length);return Le(ce),Se(ce,F),new DataView(F.buffer)}function ut(k){var W=k.array.slice(k.offset.value,k.offset.value+k.size),ce=Rb(W),F=new Uint8Array(ce.length);return Le(ce),Se(ce,F),new DataView(F.buffer)}function ft(k){for(var W=k.viewer,ce={value:k.offset.value},F=new Uint16Array(k.width*k.scanlineBlockSize*(k.channels*k.type)),ee=new Uint8Array(8192),ne=0,le=new Array(k.channels),se=0;se<k.channels;se++)le[se]={},le[se].start=ne,le[se].end=le[se].start,le[se].nx=k.width,le[se].ny=k.lines,le[se].size=k.type,ne+=le[se].nx*le[se].ny*le[se].size;var Me=ae(W,ce),Oe=ae(W,ce);if(Oe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Me<=Oe)for(var se=0;se<Oe-Me+1;se++)ee[se+Me]=ue(W,ce);var De=new Uint16Array(65536),Be=P(ee,De),bt=Ke(W,ce);Xe(k.array,W,ce,bt,F,ne);for(var se=0;se<k.channels;++se)for(var Ye=le[se],qe=0;qe<le[se].size;++qe)Ie(F,Ye.start+qe,Ye.nx,Ye.size,Ye.ny,Ye.nx*Ye.size,Be);X(De,F,ne);for(var wt=0,It=new Uint8Array(F.buffer.byteLength),ht=0;ht<k.lines;ht++)for(var Et=0;Et<k.channels;Et++){var Ye=le[Et],yt=Ye.nx*Ye.size,ct=new Uint8Array(F.buffer,Ye.end*2,yt*2);It.set(ct,wt),wt+=yt*2,Ye.end+=yt}return new DataView(It.buffer)}function j(k){var W=k.array.slice(k.offset.value,k.offset.value+k.size),ce=Rb(W);const F=k.lines*k.channels*k.width,ee=k.type==1?new Uint16Array(F):new Uint32Array(F);let ne=0,le=0;const se=new Array(4);for(let Me=0;Me<k.lines;Me++)for(let Oe=0;Oe<k.channels;Oe++){let De=0;switch(k.type){case 1:se[0]=ne,se[1]=se[0]+k.width,ne=se[1]+k.width;for(let Be=0;Be<k.width;++Be){const bt=ce[se[0]++]<<8|ce[se[1]++];De+=bt,ee[le]=De,le++}break;case 2:se[0]=ne,se[1]=se[0]+k.width,se[2]=se[1]+k.width,ne=se[2]+k.width;for(let Be=0;Be<k.width;++Be){const bt=ce[se[0]++]<<24|ce[se[1]++]<<16|ce[se[2]++]<<8;De+=bt,ee[le]=De,le++}break}}return new DataView(ee.buffer)}function O(k){var W=k.viewer,ce={value:k.offset.value},F=new Uint8Array(k.width*k.lines*(k.channels*k.type*2)),ee={version:Ce(W,ce),unknownUncompressedSize:Ce(W,ce),unknownCompressedSize:Ce(W,ce),acCompressedSize:Ce(W,ce),dcCompressedSize:Ce(W,ce),rleCompressedSize:Ce(W,ce),rleUncompressedSize:Ce(W,ce),rleRawSize:Ce(W,ce),totalAcUncompressedCount:Ce(W,ce),totalDcUncompressedCount:Ce(W,ce),acCompression:Ce(W,ce)};if(ee.version<2)throw"EXRLoader.parse: "+Mt.compression+" version "+ee.version+" is unsupported";for(var ne=new Array,le=ae(W,ce)-2;le>0;){var se=D(W.buffer,ce),Me=ue(W,ce),Oe=Me>>2&3,De=(Me>>4)-1,Be=new Int8Array([De])[0],bt=ue(W,ce);ne.push({name:se,index:Be,type:bt,compression:Oe}),le-=se.length+3}for(var Ye=Mt.channels,qe=new Array(k.channels),wt=0;wt<k.channels;++wt){var It=qe[wt]={},ht=Ye[wt];It.name=ht.name,It.compression=0,It.decoded=!1,It.type=ht.pixelType,It.pLinear=ht.pLinear,It.width=k.width,It.height=k.lines}for(var Et={idx:new Array(3)},yt=0;yt<k.channels;++yt)for(var It=qe[yt],wt=0;wt<ne.length;++wt){var ct=ne[wt];It.name==ct.name&&(It.compression=ct.compression,ct.index>=0&&(Et.idx[ct.index]=yt),It.offset=yt)}if(ee.acCompressedSize>0)switch(ee.acCompression){case 0:var zt=new Uint16Array(ee.totalAcUncompressedCount);Xe(k.array,W,ce,ee.acCompressedSize,zt,ee.totalAcUncompressedCount);break;case 1:var Dt=k.array.slice(ce.value,ce.value+ee.totalAcUncompressedCount),Nt=Rb(Dt),zt=new Uint16Array(Nt.buffer);ce.value+=ee.totalAcUncompressedCount;break}if(ee.dcCompressedSize>0){var Tn={array:k.array,offset:ce,size:ee.dcCompressedSize},gr=new Uint16Array(ut(Tn).buffer);ce.value+=ee.dcCompressedSize}if(ee.rleRawSize>0){var Dt=k.array.slice(ce.value,ce.value+ee.rleCompressedSize),Nt=Rb(Dt),nr=Ve(Nt.buffer);ce.value+=ee.rleCompressedSize}for(var mn=0,sn=new Array(qe.length),wt=0;wt<sn.length;++wt)sn[wt]=new Array;for(var lr=0;lr<k.lines;++lr)for(var Kt=0;Kt<qe.length;++Kt)sn[Kt].push(mn),mn+=qe[Kt].width*k.type*2;Re(Et,sn,qe,zt,gr,F);for(var wt=0;wt<qe.length;++wt){var It=qe[wt];if(!It.decoded)switch(It.compression){case 2:for(var cn=0,jn=0,lr=0;lr<k.lines;++lr){for(var Vs=sn[wt][cn],Hi=0;Hi<It.width;++Hi){for(var ca=0;ca<2*It.type;++ca)F[Vs++]=nr[jn+ca*It.width*It.height];jn++}cn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(F.buffer)}function D(k,W){for(var ce=new Uint8Array(k),F=0;ce[W.value+F]!=0;)F+=1;var ee=new TextDecoder().decode(ce.slice(W.value,W.value+F));return W.value=W.value+F+1,ee}function V(k,W,ce){var F=new TextDecoder().decode(new Uint8Array(k).slice(W.value,W.value+ce));return W.value=W.value+ce,F}function he(k,W){var ce=_e(k,W),F=Ke(k,W);return[ce,F]}function ge(k,W){var ce=Ke(k,W),F=Ke(k,W);return[ce,F]}function _e(k,W){var ce=k.getInt32(W.value,!0);return W.value=W.value+4,ce}function Ke(k,W){var ce=k.getUint32(W.value,!0);return W.value=W.value+4,ce}function tt(k,W){var ce=k[W.value];return W.value=W.value+1,ce}function ue(k,W){var ce=k.getUint8(W.value);return W.value=W.value+1,ce}const Ce=function(k,W){let ce;return"getBigInt64"in DataView.prototype?ce=Number(k.getBigInt64(W.value,!0)):ce=k.getUint32(W.value+4,!0)+Number(k.getUint32(W.value,!0)<<32),W.value+=8,ce};function Ge(k,W){var ce=k.getFloat32(W.value,!0);return W.value+=4,ce}function vt(k,W){return af.toHalfFloat(Ge(k,W))}function $e(k){var W=(k&31744)>>10,ce=k&1023;return(k>>15?-1:1)*(W?W===31?ce?NaN:1/0:Math.pow(2,W-15)*(1+ce/1024):6103515625e-14*(ce/1024))}function ae(k,W){var ce=k.getUint16(W.value,!0);return W.value+=2,ce}function Qe(k,W){return $e(ae(k,W))}function st(k,W,ce,F){for(var ee=ce.value,ne=[];ce.value<ee+F-1;){var le=D(W,ce),se=_e(k,ce),Me=ue(k,ce);ce.value+=3;var Oe=_e(k,ce),De=_e(k,ce);ne.push({name:le,pixelType:se,pLinear:Me,xSampling:Oe,ySampling:De})}return ce.value+=1,ne}function At(k,W){var ce=Ge(k,W),F=Ge(k,W),ee=Ge(k,W),ne=Ge(k,W),le=Ge(k,W),se=Ge(k,W),Me=Ge(k,W),Oe=Ge(k,W);return{redX:ce,redY:F,greenX:ee,greenY:ne,blueX:le,blueY:se,whiteX:Me,whiteY:Oe}}function Tt(k,W){var ce=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],F=ue(k,W);return ce[F]}function Vt(k,W){var ce=Ke(k,W),F=Ke(k,W),ee=Ke(k,W),ne=Ke(k,W);return{xMin:ce,yMin:F,xMax:ee,yMax:ne}}function Xt(k,W){var ce=["INCREASING_Y"],F=ue(k,W);return ce[F]}function bn(k,W){var ce=Ge(k,W),F=Ge(k,W);return[ce,F]}function Xn(k,W){var ce=Ge(k,W),F=Ge(k,W),ee=Ge(k,W);return[ce,F,ee]}function on(k,W,ce,F,ee){if(F==="string"||F==="stringvector"||F==="iccProfile")return V(W,ce,ee);if(F==="chlist")return st(k,W,ce,ee);if(F==="chromaticities")return At(k,ce);if(F==="compression")return Tt(k,ce);if(F==="box2i")return Vt(k,ce);if(F==="lineOrder")return Xt(k,ce);if(F==="float")return Ge(k,ce);if(F==="v2f")return bn(k,ce);if(F==="v3f")return Xn(k,ce);if(F==="int")return _e(k,ce);if(F==="rational")return he(k,ce);if(F==="timecode")return ge(k,ce);if(F==="preview")return ce.value+=ee,"skipped";ce.value+=ee}function de(k,W,ce){const F={};if(k.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";F.version=k.getUint8(4);const ee=k.getUint8(5);F.spec={singleTile:!!(ee&2),longName:!!(ee&4),deepFormat:!!(ee&8),multiPart:!!(ee&16)},ce.value=8;for(var ne=!0;ne;){var le=D(W,ce);if(le==0)ne=!1;else{var se=D(W,ce),Me=Ke(k,ce),Oe=on(k,W,ce,se,Me);Oe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${se}'.`):F[le]=Oe}}if(ee&-5)throw console.error("EXRHeader:",F),"THREE.EXRLoader: provided file is currently unsupported.";return F}function ye(k,W,ce,F,ee){const ne={size:0,viewer:W,array:ce,offset:F,width:k.dataWindow.xMax-k.dataWindow.xMin+1,height:k.dataWindow.yMax-k.dataWindow.yMin+1,channels:k.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:k.channels[0].pixelType,uncompress:null,getter:null,format:null,[Qm?"colorSpace":"encoding"]:null};switch(k.compression){case"NO_COMPRESSION":ne.lines=1,ne.uncompress=We;break;case"RLE_COMPRESSION":ne.lines=1,ne.uncompress=Ue;break;case"ZIPS_COMPRESSION":ne.lines=1,ne.uncompress=ut;break;case"ZIP_COMPRESSION":ne.lines=16,ne.uncompress=ut;break;case"PIZ_COMPRESSION":ne.lines=32,ne.uncompress=ft;break;case"PXR24_COMPRESSION":ne.lines=16,ne.uncompress=j;break;case"DWAA_COMPRESSION":ne.lines=32,ne.uncompress=O;break;case"DWAB_COMPRESSION":ne.lines=256,ne.uncompress=O;break;default:throw"EXRLoader.parse: "+k.compression+" is unsupported"}if(ne.scanlineBlockSize=ne.lines,ne.type==1)switch(ee){case Pr:ne.getter=Qe,ne.inputSize=2;break;case Xr:ne.getter=ae,ne.inputSize=2;break}else if(ne.type==2)switch(ee){case Pr:ne.getter=Ge,ne.inputSize=4;break;case Xr:ne.getter=vt,ne.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ne.type+" for "+k.compression+".";ne.blockCount=(k.dataWindow.yMax+1)/ne.scanlineBlockSize;for(var le=0;le<ne.blockCount;le++)Ce(W,F);ne.outputChannels=ne.channels==3?4:ne.channels;const se=ne.width*ne.height*ne.outputChannels;switch(ee){case Pr:ne.byteArray=new Float32Array(se),ne.channels<ne.outputChannels&&ne.byteArray.fill(1,0,se);break;case Xr:ne.byteArray=new Uint16Array(se),ne.channels<ne.outputChannels&&ne.byteArray.fill(15360,0,se);break;default:console.error("THREE.EXRLoader: unsupported type: ",ee);break}return ne.bytesPerLine=ne.width*ne.inputSize*ne.channels,ne.outputChannels==4?ne.format=jr:ne.format=DI,Qm?ne.colorSpace="srgb-linear":ne.encoding=3e3,ne}const Ee=new DataView(e),Je=new Uint8Array(e),at={value:0},Mt=de(Ee,e,at),ot=ye(Mt,Ee,Je,at,this.type),St={value:0},Ct={R:0,G:1,B:2,A:3,Y:0};for(let k=0;k<ot.height/ot.scanlineBlockSize;k++){const W=Ke(Ee,at);ot.size=Ke(Ee,at),ot.lines=W+ot.scanlineBlockSize>ot.height?ot.height-W:ot.scanlineBlockSize;const F=ot.size<ot.lines*ot.bytesPerLine?ot.uncompress(ot):We(ot);at.value+=ot.size;for(let ee=0;ee<ot.scanlineBlockSize;ee++){const ne=ee+k*ot.scanlineBlockSize;if(ne>=ot.height)break;for(let le=0;le<ot.channels;le++){const se=Ct[Mt.channels[le].name];for(let Me=0;Me<ot.width;Me++){St.value=(ee*(ot.channels*ot.width)+le*ot.width+Me)*ot.inputSize;const Oe=(ot.height-1-ne)*(ot.width*ot.outputChannels)+Me*ot.outputChannels+se;ot.byteArray[Oe]=ot.getter(F,St)}}}}return{header:Mt,width:ot.width,height:ot.height,data:ot.byteArray,format:ot.format,[Qm?"colorSpace":"encoding"]:ot[Qm?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){Qm?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=hn,o.magFilter=hn,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}const _T=new WeakMap;class yde extends bi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new gi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(_T.has(e)){const l=_T.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),_T.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new qt;e.index&&n.setIndex(new xn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new xn(o,a))}return n}_loadLibrary(e,n){const r=new gi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=xde.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function xde(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,h=new f.Decoder,d=new f.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const m=n(f,h,d,c),x=m.attributes.map(y=>y.array.buffer);m.index&&x.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},x)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{f.destroy(d),f.destroy(h)}});break}};function n(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let h,d;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)h=new o.Mesh,d=a.DecodeBufferToMesh(l,h);else if(m===o.POINT_CLOUD)h=new o.PointCloud,d=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const x={index:null,attributes:[]};for(const y in u){const v=self[f[y]];let b,_;if(c.useUniqueIDs)_=u[y],b=a.GetAttributeByUniqueId(h,_);else{if(_=a.GetAttributeId(h,o[u[y]]),_===-1)continue;b=a.GetAttribute(h,_)}x.attributes.push(i(o,a,h,y,v,b))}return m===o.TRIANGULAR_MESH&&(x.index=r(o,a,h)),o.destroy(h),x}function r(o,a,l){const u=l.num_faces()*3,f=u*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(o.HEAPF32.buffer,h,u).slice();return o._free(h),{array:d,itemSize:1}}function i(o,a,l,c,u,f){const h=f.num_components(),m=l.num_points()*h,x=m*u.BYTES_PER_ELEMENT,y=s(o,u),v=o._malloc(x);a.GetAttributeDataArrayForAllPoints(l,f,y,x,v);const b=new u(o.HEAPF32.buffer,v,m).slice();return o._free(v),{name:c,array:b,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Ib;const wT=()=>{if(Ib)return Ib;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let m=0;m<f.length;++m){const x=f.charCodeAt(m);h[m]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let d=0;for(let m=0;m<f.length;++m)h[d++]=h[m]<60?r[h[m]]:(h[m]-60)*64+h[++m];return h.buffer.slice(0,d)}function l(f,h,d,m,x,y){const v=s.exports.sbrk,b=d+3&-4,_=v(b*m),M=v(x.length),w=new Uint8Array(s.exports.memory.buffer);w.set(x,M);const A=f(_,d,m,M,x.length);if(A===0&&y&&y(_,b,m),h.set(w.subarray(_,_+d*m)),v(_-v(0)),A!==0)throw new Error(`Malformed buffer data: ${A}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ib={ready:o,supported:!0,decodeVertexBuffer(f,h,d,m,x){l(s.exports.meshopt_decodeVertexBuffer,f,h,d,m,s.exports[c[x]])},decodeIndexBuffer(f,h,d,m){l(s.exports.meshopt_decodeIndexBuffer,f,h,d,m)},decodeIndexSequence(f,h,d,m){l(s.exports.meshopt_decodeIndexSequence,f,h,d,m)},decodeGltfBuffer(f,h,d,m,x,y){l(s.exports[u[x]],f,h,d,m,s.exports[c[y]])}},Ib};function Y$(t,e,n,r){const i=class extends xi{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,u])=>{const f=KI.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=kd.generateUUID(),i}const bde=()=>parseInt(Fp.replace(/\D+/g,"")),J$=bde();let Bb=null,q$="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Z$(t=!0,e=!0,n){return r=>{n&&n(r),t&&(Bb||(Bb=new yde),Bb.setDecoderPath(typeof t=="string"?t:q$),r.setDRACOLoader(Bb)),e&&r.setMeshoptDecoder(typeof wT=="function"?wT():wT)}}const Bs=(t,e,n,r)=>Pl(OB,t,Z$(e,n,r));Bs.preload=(t,e,n,r)=>Pl.preload(OB,t,Z$(e,n,r));Bs.clear=t=>Pl.clear(OB,t);Bs.setDecoderPath=t=>{q$=t};const Q$=U.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=Tr(A=>A.invalidate),h=Tr(A=>A.camera),d=Tr(A=>A.gl),m=Tr(A=>A.events),x=Tr(A=>A.setEvents),y=Tr(A=>A.set),v=Tr(A=>A.get),b=Tr(A=>A.performance),_=e||h,M=r||m.connected||d.domElement,w=U.useMemo(()=>new Ihe(_),[_]);return l0(()=>{w.enabled&&w.update()},-1),U.useEffect(()=>(s&&w.connect(s===!0?M:s),w.connect(M),()=>void w.dispose()),[s,M,n,w,f]),U.useEffect(()=>{const A=L=>{f(),n&&b.regress(),o&&o(L)},E=L=>{a&&a(L)},C=L=>{l&&l(L)};return w.addEventListener("change",A),w.addEventListener("start",E),w.addEventListener("end",C),()=>{w.removeEventListener("start",E),w.removeEventListener("end",C),w.removeEventListener("change",A)}},[o,a,l,w,f,x]),U.useEffect(()=>{if(t){const A=v().controls;return y({controls:w}),()=>y({controls:A})}},[t,w]),U.createElement("primitive",qo({ref:u,object:w,enableDamping:i},c))}),_de=U.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:c,front:u,back:f,onCentered:h,precise:d=!0,cacheKey:m=0,...x},y){const v=U.useRef(null),b=U.useRef(null),_=U.useRef(null);return U.useLayoutEffect(()=>{b.current.matrixWorld.identity();const M=new Yr().setFromObject(_.current,d),w=new Z,A=new ai,E=M.max.x-M.min.x,C=M.max.y-M.min.y,L=M.max.z-M.min.z;M.getCenter(w),M.getBoundingSphere(A);const P=l?C/2:c?-C/2:0,B=o?-E/2:a?E/2:0,H=u?L/2:f?-L/2:0;b.current.position.set(n||r?0:-w.x+B,n||i?0:-w.y+P,n||s?0:-w.z+H),typeof h<"u"&&h({parent:v.current.parent,container:v.current,width:E,height:C,depth:L,boundingBox:M,boundingSphere:A,center:w,verticalAlignment:P,horizontalAlignment:B,depthAlignment:H})},[m,h,l,o,u,n,r,i,s,d,a,c,f]),U.useImperativeHandle(y,()=>v.current,[]),U.createElement("group",qo({ref:v},x),U.createElement("group",{ref:b},U.createElement("group",{ref:_},e)))});var e7={exports:{}},wde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sde=wde,Ade=Sde;function t7(){}function n7(){}n7.resetWarningCache=t7;var Mde=function(){function t(r,i,s,o,a,l){if(l!==Ade){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n7,resetWarningCache:t7};return n.PropTypes=n,n};e7.exports=Mde();var Ede=e7.exports;const Cn=Ln(Ede),Tde=3e3,Cde=3001,Pde=Y$({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");var io=function(t){return t[t.NONE=0]="NONE",t[t.START=1]="START",t[t.ACTIVE=2]="ACTIVE",t}(io||{});const Xh=t=>t&&t.isOrthographicCamera,Rde=t=>t&&t.isBox3,Ode=t=>1-Math.exp(-5*t)+.007*t,r7=U.createContext(null);function Ide({children:t,maxDuration:e=1,margin:n=1.2,observe:r,fit:i,clip:s,interpolateFunc:o=Ode,onFit:a}){const l=U.useRef(null),{camera:c,size:u,invalidate:f}=Tr(),h=Tr(w=>w.controls),d=U.useRef(a);d.current=a;const m=U.useRef({camPos:new Z,camRot:new Ir,camZoom:1}),x=U.useRef({camPos:void 0,camRot:void 0,camZoom:void 0,camUp:void 0,target:void 0}),y=U.useRef(io.NONE),v=U.useRef(0),[b]=U.useState(()=>new Yr),_=U.useMemo(()=>{function w(){const A=b.getSize(new Z),E=b.getCenter(new Z),C=Math.max(A.x,A.y,A.z),L=Xh(c)?C*4:C/(2*Math.atan(Math.PI*c.fov/360)),P=Xh(c)?C*4:L/c.aspect,B=n*Math.max(L,P);return{box:b,size:A,center:E,distance:B}}return{getSize:w,refresh(A){if(Rde(A))b.copy(A);else{const E=A||l.current;if(!E)return this;E.updateWorldMatrix(!0,!0),b.setFromObject(E)}if(b.isEmpty()){const E=c.position.length()||10;b.setFromCenterAndSize(new Z,new Z(E,E,E))}return m.current.camPos.copy(c.position),m.current.camRot.copy(c.quaternion),Xh(c)&&(m.current.camZoom=c.zoom),x.current.camPos=void 0,x.current.camRot=void 0,x.current.camZoom=void 0,x.current.camUp=void 0,x.current.target=void 0,this},reset(){const{center:A,distance:E}=w(),C=c.position.clone().sub(A).normalize();x.current.camPos=A.clone().addScaledVector(C,E),x.current.target=A.clone();const L=new Ft().lookAt(x.current.camPos,x.current.target,c.up);return x.current.camRot=new Ir().setFromRotationMatrix(L),y.current=io.START,v.current=0,this},moveTo(A){return x.current.camPos=Array.isArray(A)?new Z(...A):A.clone(),y.current=io.START,v.current=0,this},lookAt({target:A,up:E}){x.current.target=Array.isArray(A)?new Z(...A):A.clone(),E?x.current.camUp=Array.isArray(E)?new Z(...E):E.clone():x.current.camUp=c.up.clone();const C=new Ft().lookAt(x.current.camPos||c.position,x.current.target,x.current.camUp);return x.current.camRot=new Ir().setFromRotationMatrix(C),y.current=io.START,v.current=0,this},to({position:A,target:E}){return this.moveTo(A).lookAt({target:E})},fit(){if(!Xh(c))return this.reset();let A=0,E=0;const C=[new Z(b.min.x,b.min.y,b.min.z),new Z(b.min.x,b.max.y,b.min.z),new Z(b.min.x,b.min.y,b.max.z),new Z(b.min.x,b.max.y,b.max.z),new Z(b.max.x,b.max.y,b.max.z),new Z(b.max.x,b.max.y,b.min.z),new Z(b.max.x,b.min.y,b.max.z),new Z(b.max.x,b.min.y,b.min.z)],L=x.current.camPos||c.position,P=x.current.target||(h==null?void 0:h.target),B=x.current.camUp||c.up,H=P?new Ft().lookAt(L,P,B).setPosition(L).invert():c.matrixWorldInverse;for(const K of C)K.applyMatrix4(H),A=Math.max(A,Math.abs(K.y)),E=Math.max(E,Math.abs(K.x));A*=2,E*=2;const q=(c.top-c.bottom)/A,z=(c.right-c.left)/E;return x.current.camZoom=Math.min(q,z)/n,y.current=io.START,v.current=0,d.current&&d.current(this.getSize()),this},clip(){const{distance:A}=w();return c.near=A/100,c.far=A*100,c.updateProjectionMatrix(),h&&(h.maxDistance=A*10,h.update()),f(),this}}},[b,c,h,n,f]);U.useLayoutEffect(()=>{if(h){const w=()=>{if(h&&x.current.target&&y.current!==io.NONE){const A=new Z().setFromMatrixColumn(c.matrix,2),E=m.current.camPos.distanceTo(h.target),C=(x.current.camPos||m.current.camPos).distanceTo(x.current.target),L=(1-v.current)*E+v.current*C;h.target.copy(c.position).addScaledVector(A,-L),h.update()}y.current=io.NONE};return h.addEventListener("start",w),()=>h.removeEventListener("start",w)}},[h]);const M=U.useRef(0);return U.useLayoutEffect(()=>{(r||M.current++===0)&&(_.refresh(),i&&_.reset().fit(),s&&_.clip())},[u,s,i,r,c,h]),l0((w,A)=>{if(y.current===io.START)y.current=io.ACTIVE,f();else if(y.current===io.ACTIVE){if(v.current+=A/e,v.current>=1)x.current.camPos&&c.position.copy(x.current.camPos),x.current.camRot&&c.quaternion.copy(x.current.camRot),x.current.camUp&&c.up.copy(x.current.camUp),x.current.camZoom&&Xh(c)&&(c.zoom=x.current.camZoom),c.updateMatrixWorld(),c.updateProjectionMatrix(),h&&x.current.target&&(h.target.copy(x.current.target),h.update()),y.current=io.NONE;else{const E=o(v.current);x.current.camPos&&c.position.lerpVectors(m.current.camPos,x.current.camPos,E),x.current.camRot&&c.quaternion.slerpQuaternions(m.current.camRot,x.current.camRot,E),x.current.camUp&&c.up.set(0,1,0).applyQuaternion(c.quaternion),x.current.camZoom&&Xh(c)&&(c.zoom=(1-E)*m.current.camZoom+E*x.current.camZoom),c.updateMatrixWorld(),c.updateProjectionMatrix()}f()}}),U.createElement("group",{ref:l},U.createElement(r7.Provider,{value:_},t))}function Bde(){return U.useContext(r7)}const i7=(t,e,n)=>{let r;switch(t){case ks:r=new Uint8ClampedArray(e*n*4);break;case Xr:r=new Uint16Array(e*n*4);break;case Ea:r=new Uint32Array(e*n*4);break;case RI:r=new Int8Array(e*n*4);break;case OI:r=new Int16Array(e*n*4);break;case uS:r=new Int32Array(e*n*4);break;case Pr:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let Db;const Dde=(t,e,n,r)=>{if(Db!==void 0)return Db;const i=new yi(1,1,r);e.setRenderTarget(i);const s=new tr(new Fl,new fs({color:16777215}));e.render(s,n),e.setRenderTarget(null);const o=i7(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),Db=o[0]!==0,Db};class IB{constructor(e){var n,r,i,s,o,a,l,c,u,f,h,d,m,x,y,v;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(_){throw this._renderer.setRenderTarget(null),_}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const b={format:jr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:hn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:hn,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((h=e.renderTargetOptions)===null||h===void 0?void 0:h.wrapS)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS:Zn,wrapT:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapT)!==void 0?(x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT:Zn};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=IB.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Qy,this._camera=new Ba,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Dde(this._type,this._renderer,this._camera,b)){let _;switch(this._type){case Xr:_=this._renderer.extensions.has("EXT_color_buffer_float")?Pr:void 0;break}_!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Pr}`),this._type=_):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new tr(new Fl,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new yi(this.width,this.height,b),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping:Wc}static instantiateRenderer(){const e=new gS;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=i7(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Fc(this.toArray(),this.width,this.height,jr,this._type,(e==null?void 0:e.mapping)||Wc,(e==null?void 0:e.wrapS)||Zn,(e==null?void 0:e.wrapT)||Zn,(e==null?void 0:e.magFilter)||hn,(e==null?void 0:e.minFilter)||hn,(e==null?void 0:e.anisotropy)||1,js);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof xi&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Pn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Pn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Lde=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Nde=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class kde extends xi{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:Lde,fragmentShader:Nde,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new Z(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Z().fromArray(n)},offsetSdr:{value:new Z().fromArray(r)},gainMapMin:{value:new Z().fromArray(i)},gainMapMax:{value:new Z().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:Oa,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class s7 extends Error{}class o7 extends Error{}const eg=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},Fde=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const s=eg(i,"hdrgm:GainMapMin","0"),o=eg(i,"hdrgm:GainMapMax"),a=eg(i,"hdrgm:Gamma","1"),l=eg(i,"hdrgm:OffsetSDR","0.015625"),c=eg(i,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=u?u[1]:"0",h=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!h)throw new Error("Incomplete gainmap metadata");const d=h[1];return{gainMapMin:Array.isArray(s)?s.map(m=>parseFloat(m)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(m=>parseFloat(m)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(m=>parseFloat(m)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(m=>parseFloat(m)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(m=>parseFloat(m)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(d)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class Ude{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,c;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops 😵`));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(c=s.getUint8(a+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=a+4;if(s.getUint32(u)===1297106432){const f=u+4;let h;if(s.getUint16(f)===18761)h=!1;else if(s.getUint16(f)===19789)h=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(f+2,!h)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const d=s.getUint32(f+4,!h);if(d<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const m=f+d,x=s.getUint16(m,!h),y=m+2;let v=0;for(let w=y;w<y+12*x;w+=12)s.getUint16(w,!h)===45057&&(v=s.getUint32(w+8,!h));const _=m+2+x*12+4,M=[];for(let w=_;w<_+v*16;w+=16){const A={MPType:s.getUint32(w,!h),size:s.getUint32(w+4,!h),dataOffset:s.getUint32(w+8,!h),dependantImages:s.getUint32(w+12,!h),start:-1,end:-1,isFII:!1};A.dataOffset?(A.start=f+A.dataOffset,A.isFII=!1):(A.start=0,A.isFII=!0),A.end=A.start+A.size,M.push(A)}if(this.options.extractNonFII&&M.length){const w=new Blob([s]),A=[];for(const E of M){if(E.isFII&&!this.options.extractFII)continue;const C=w.slice(E.start,E.end+1,"image/jpeg");A.push(C)}n(A)}}}a+=2+s.getUint16(a+2)}})}}const jde=async t=>{const e=Fde(t);if(!e)throw new o7("Gain map XMP metadata not found");const r=await new Ude({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new s7("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},n4=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class a7 extends bi{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new LS}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new kde({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Pn,sdr:new Pn});return new IB({width:16,height:16,type:Xr,colorSpace:js,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const h=await Promise.all([s?n4(s):Promise.resolve(void 0),n4(o)]);l=h[0],a=h[1],c=!0}else{const h=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=h[0],a=h[1]}const u=new Pn(l||new ImageData(2,2),Wc,Zn,Zn,hn,CP,jr,ks,1,js);u.flipY=c,u.needsUpdate=!0;const f=new Pn(a,Wc,Zn,Zn,hn,CP,jr,ks,1,Fr);f.flipY=c,f.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=u,e.material.sdr=f,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class zde extends a7{load([e,n,r],i,s,o){const a=this.prepareQuadRenderer();let l,c,u;const f=async()=>{if(l&&c&&u){try{await this.render(a,u,l,c)}catch(L){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(L),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let h=!0,d=0,m=0,x=!0,y=0,v=0,b=!0,_=0,M=0;const w=()=>{if(typeof s=="function"){const L=d+y+_,P=m+v+M,B=h&&x&&b;s(new ProgressEvent("progress",{lengthComputable:B,loaded:P,total:L}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const A=new gi(this._internalLoadingManager);A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(this.withCredentials),A.load(e,async L=>{if(typeof L=="string")throw new Error("Invalid sdr buffer");l=L,await f()},L=>{h=L.lengthComputable,m=L.loaded,d=L.total,w()},L=>{this.manager.itemError(e),typeof o=="function"&&o(L)});const E=new gi(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(n,async L=>{if(typeof L=="string")throw new Error("Invalid gainmap buffer");c=L,await f()},L=>{x=L.lengthComputable,v=L.loaded,y=L.total,w()},L=>{this.manager.itemError(n),typeof o=="function"&&o(L)});const C=new gi(this._internalLoadingManager);return C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(r,async L=>{if(typeof L!="string")throw new Error("Invalid metadata string");u=JSON.parse(L),await f()},L=>{b=L.lengthComputable,M=L.loaded,_=L.total,w()},L=>{this.manager.itemError(r),typeof o=="function"&&o(L)}),a}}class Hde extends a7{load(e,n,r,i){const s=this.prepareQuadRenderer(),o=new gi(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,u,f;try{const h=await jde(l);c=h.sdr,u=h.gainMap,f=h.metadata}catch(h){if(h instanceof o7||h instanceof s7)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw h}try{await this.render(s,f,c,u)}catch(h){this.manager.itemError(e),typeof i=="function"&&i(h),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const jv={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},l7="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",jd=t=>Array.isArray(t),BB=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function kS({files:t=BB,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;n&&(DB(n),t=jv[n],e=l7),o=jd(t);const{extension:a,isCubemap:l}=LB(t);if(s=NB(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=Tr(d=>d.gl);U.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function d(){Pl.clear(s,o?[t]:t)}c.domElement.addEventListener("webglcontextlost",d,{once:!0})},[t,c.domElement]);const u=Pl(s,o?[t]:t,d=>{(a==="webp"||a==="jpg"||a==="jpeg")&&d.setRenderer(c),d.setPath==null||d.setPath(e),i&&i(d)});let f=o?u[0]:u;if(a==="jpg"||a==="jpeg"||a==="webp"){var h;f=(h=f.renderTarget)==null?void 0:h.texture}return f.mapping=l?za:ep,"colorSpace"in f?f.colorSpace=r??l?"srgb":"srgb-linear":f.encoding=r??l?Cde:Tde,f}const Gde={files:BB,path:"",preset:void 0,extensions:void 0};kS.preload=t=>{const e={...Gde,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(DB(i),n=jv[i],r=l7);const{extension:o}=LB(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=NB(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);Pl.preload(a,jd(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const Vde={files:BB,preset:void 0};kS.clear=t=>{const e={...Vde,...t};let{files:n}=e;const{preset:r}=e;r&&(DB(r),n=jv[r]);const{extension:i}=LB(n),s=NB(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);Pl.clear(s,jd(n)?[n]:n)};function DB(t){if(!(t in jv))throw new Error("Preset must be one of: "+Object.keys(jv).join(", "))}function LB(t){var e;const n=jd(t)&&t.length===6,r=jd(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=jd(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function NB(t){return t==="cube"?r$:t==="hdr"?gde:t==="exr"?vde:t==="jpg"||t==="jpeg"?Hde:t==="webp"?zde:null}const Wde=t=>t.current&&t.current.isScene,$de=t=>Wde(t)?t.current:t;function kB(t,e,n,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=$de(e||n),u=c.background,f=c.environment,h={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(o=c.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(a=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return t!=="only"&&(c.environment=r),t&&(c.background=r),hc(c,i),()=>{t!=="only"&&(c.environment=f),t&&(c.background=u),hc(c,h)}}function FB({scene:t,background:e=!1,map:n,...r}){const i=Tr(s=>s.scene);return U.useLayoutEffect(()=>{if(n)return kB(e,t,i,n,r)}),null}function c7({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const c=kS(l),u=Tr(f=>f.scene);return U.useLayoutEffect(()=>kB(t,e,u,c,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),U.useEffect(()=>()=>{c.dispose()},[c]),null}function Xde({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:h,scene:d,files:m,path:x,preset:y=void 0,extensions:v}){const b=Tr(C=>C.gl),_=Tr(C=>C.scene),M=U.useRef(null),[w]=U.useState(()=>new Qy),A=U.useMemo(()=>{const C=new YI(r);return C.texture.type=Xr,C},[r]);U.useEffect(()=>()=>{A.dispose()},[A]),U.useLayoutEffect(()=>{if(i===1){const C=b.autoClear;b.autoClear=!0,M.current.update(b,w),b.autoClear=C}return kB(o,d,_,A.texture,{backgroundBlurriness:a??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:h})},[t,w,A.texture,d,_,o,i,b]);let E=1;return l0(()=>{if(i===1/0||E<i){const C=b.autoClear;b.autoClear=!0,M.current.update(b,w),b.autoClear=C,E++}}),U.createElement(U.Fragment,null,zfe(U.createElement(U.Fragment,null,t,U.createElement("cubeCamera",{ref:M,args:[e,n,A]}),m||y?U.createElement(c7,{background:!0,files:m,preset:y,path:x,extensions:v}):s?U.createElement(FB,{background:!0,map:s,extensions:v}):null),w))}function Kde(t){var e,n,r,i;const s=kS(t),o=t.map||s;U.useMemo(()=>EB({GroundProjectedEnvImpl:Ahe}),[]),U.useEffect(()=>()=>{s.dispose()},[s]);const a=U.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return U.createElement(U.Fragment,null,U.createElement(FB,qo({},t,{map:o})),U.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function Yde(t){return t.ground?U.createElement(Kde,t):t.map?U.createElement(FB,t):t.children?U.createElement(Xde,t):U.createElement(c7,t)}const Jde=U.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:o=0,far:a=10,resolution:l=512,smooth:c=!0,color:u="#000000",depthWrite:f=!1,renderOrder:h,...d},m)=>{const x=U.useRef(null),y=Tr(z=>z.scene),v=Tr(z=>z.gl),b=U.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[_,M,w,A,E,C,L]=U.useMemo(()=>{const z=new yi(l,l),K=new yi(l,l);K.texture.generateMipmaps=z.texture.generateMipmaps=!1;const Y=new Fl(r,i).rotateX(Math.PI/2),ie=new tr(Y),G=new mS;G.depthTest=G.depthWrite=!1,G.onBeforeCompile=re=>{re.uniforms={...re.uniforms,ucolor:{value:new gt(u)}},re.fragmentShader=re.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),re.fragmentShader=re.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const J=new xi(pde),te=new xi(mde);return te.depthTest=J.depthTest=!1,[z,Y,G,ie,J,te,K]},[l,r,i,t,u]),P=z=>{A.visible=!0,A.material=E,E.uniforms.tDiffuse.value=_.texture,E.uniforms.h.value=z*1/256,v.setRenderTarget(L),v.render(A,b.current),A.material=C,C.uniforms.tDiffuse.value=L.texture,C.uniforms.v.value=z*1/256,v.setRenderTarget(_),v.render(A,b.current),A.visible=!1};let B=0,H,q;return l0(()=>{b.current&&(e===1/0||B<e)&&(B++,H=y.background,q=y.overrideMaterial,x.current.visible=!1,y.background=null,y.overrideMaterial=w,v.setRenderTarget(_),v.render(y,b.current),P(s),c&&P(s*.4),v.setRenderTarget(null),x.current.visible=!0,y.overrideMaterial=q,y.background=H)}),U.useImperativeHandle(m,()=>x.current,[]),U.createElement("group",qo({"rotation-x":Math.PI/2},d,{ref:x}),U.createElement("mesh",{renderOrder:h,geometry:M,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},U.createElement("meshBasicMaterial",{transparent:!0,map:_.texture,opacity:n,depthWrite:f})),U.createElement("orthographicCamera",{ref:b,args:[-r/2,r/2,i/2,-i/2,o,a]}))});function qde(t){return t.isLight}function Zde(t){return!!t.geometry}const u7=U.createContext(null),Qde=Y$({color:new gt,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <${J$>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),epe=U.forwardRef(({children:t,temporal:e,frames:n=40,limit:r=1/0,blend:i=20,scale:s=10,opacity:o=1,alphaTest:a=.75,color:l="black",colorBlend:c=2,resolution:u=1024,toneMapped:f=!0,...h},d)=>{EB({SoftShadowMaterial:Qde});const m=Tr(A=>A.gl),x=Tr(A=>A.scene),y=Tr(A=>A.camera),v=Tr(A=>A.invalidate),b=U.useRef(null),_=U.useRef(null),[M]=U.useState(()=>new npe(m,x,u));U.useLayoutEffect(()=>{M.configure(b.current)},[]);const w=U.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,n),blend:Math.max(2,n===1/0?i:n),count:0,getMesh:()=>b.current,reset:()=>{M.clear();const A=b.current.material;A.opacity=0,A.alphaTest=0,w.count=0},update:(A=1)=>{const E=b.current.material;w.temporal?(E.opacity=Math.min(o,E.opacity+o/w.blend),E.alphaTest=Math.min(a,E.alphaTest+a/w.blend)):(E.opacity=o,E.alphaTest=a),_.current.visible=!0,M.prepare();for(let C=0;C<A;C++)w.lights.forEach(L=>L.update()),M.update(y,w.blend);_.current.visible=!1,M.finish()}}),[M,y,x,e,n,i,o,a]);return U.useLayoutEffect(()=>{w.reset(),!w.temporal&&w.frames!==1/0&&w.update(w.blend)}),U.useImperativeHandle(d,()=>w,[w]),l0(()=>{(w.temporal||w.frames===1/0)&&w.count<w.frames&&w.count<r&&(v(),w.update(),w.count++)}),U.createElement("group",h,U.createElement("group",{traverse:()=>null,ref:_},U.createElement(u7.Provider,{value:w},t)),U.createElement("mesh",{receiveShadow:!0,ref:b,scale:s,rotation:[-Math.PI/2,0,0]},U.createElement("planeGeometry",null),U.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:f,color:l,blend:c,map:M.progressiveLightMap2.texture})))}),tpe=U.forwardRef(({castShadow:t=!0,bias:e=.001,mapSize:n=512,size:r=5,near:i=.5,far:s=500,frames:o=1,position:a=[0,0,0],radius:l=1,amount:c=8,intensity:u=J$>=155?Math.PI:1,ambient:f=.5,...h},d)=>{const m=U.useRef(null),x=new Z(...a).length(),y=U.useContext(u7),v=U.useCallback(()=>{let _;if(m.current)for(let M=0;M<m.current.children.length;M++)if(_=m.current.children[M],Math.random()>f)_.position.set(a[0]+kd.randFloatSpread(l),a[1]+kd.randFloatSpread(l),a[2]+kd.randFloatSpread(l));else{let w=Math.acos(2*Math.random()-1)-Math.PI/2,A=2*Math.PI*Math.random();_.position.set(Math.cos(w)*Math.cos(A)*x,Math.abs(Math.cos(w)*Math.sin(A)*x),Math.sin(w)*x)}},[l,f,x,...a]),b=U.useMemo(()=>({update:v}),[v]);return U.useImperativeHandle(d,()=>b,[b]),U.useLayoutEffect(()=>{var _;const M=m.current;return y&&((_=y.lights)==null||_.set(M.uuid,b)),()=>{var w;return void(y==null||(w=y.lights)==null?void 0:w.delete(M.uuid))}},[y,b]),U.createElement("group",qo({ref:m},h),Array.from({length:c},(_,M)=>U.createElement("directionalLight",{key:M,castShadow:t,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:u/c},U.createElement("orthographicCamera",{attach:"shadow-camera",args:[-r,r,r,-r,i,s]}))))});class npe{constructor(e,n,r=1024){this.renderer=e,this.res=r,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new gt,this.clearAlpha=0;const i={type:Xr,magFilter:sr,minFilter:sr};this.progressiveLightMap1=new yi(this.res,this.res,i),this.progressiveLightMap2=new yi(this.res,this.res,i),this.discardMat=new Pde,this.targetMat=new uB({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=s=>{s.vertexShader=`varying vec2 vUv;
`+s.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=s.fragmentShader.indexOf("void main() {");s.fragmentShader=`varying vec2 vUv;
`+s.fragmentShader.slice(0,o)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+s.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,s.uniforms.previousShadowMap=this.previousShadowMap,s.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{Zde(e)?this.meshes.push({object:e,material:e.material}):qde(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,n=100){if(!this.object)return;this.averagingWindow.value=n,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,i=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=i.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}}const rpe={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function ipe({radius:t,adjustCamera:e}){const n=Bde();return U.useEffect(()=>{e&&n.refresh().clip().fit()},[t,e]),null}function spe({children:t,center:e,adjustCamera:n=!0,intensity:r=.5,shadows:i="contact",environment:s="city",preset:o="rembrandt",...a}){var l,c,u,f,h,d,m,x;const y=typeof o=="string"?rpe[o]:o,[{radius:v,height:b},_]=U.useState({radius:0,width:0,height:0,depth:0}),M=(l=i==null?void 0:i.bias)!==null&&l!==void 0?l:-1e-4,w=(c=i==null?void 0:i.normalBias)!==null&&c!==void 0?c:0,A=(u=i==null?void 0:i.size)!==null&&u!==void 0?u:1024,E=(f=i==null?void 0:i.offset)!==null&&f!==void 0?f:0,C=i==="contact"||(i==null?void 0:i.type)==="contact",L=i==="accumulative"||(i==null?void 0:i.type)==="accumulative",P={...typeof i=="object"?i:{}},B=s?typeof s=="string"?{preset:s}:s:null,H=U.useCallback(q=>{const{width:z,height:K,depth:Y,boundingSphere:ie}=q;_({radius:ie.radius,width:z,height:K,depth:Y}),e!=null&&e.onCentered&&e.onCentered(q)},[]);return U.createElement(U.Fragment,null,U.createElement("ambientLight",{intensity:r/3}),U.createElement("spotLight",{penumbra:1,position:[y.main[0]*v,y.main[1]*v,y.main[2]*v],intensity:r*2,castShadow:!!i,"shadow-bias":M,"shadow-normalBias":w,"shadow-mapSize":A}),U.createElement("pointLight",{position:[y.fill[0]*v,y.fill[1]*v,y.fill[2]*v],intensity:r}),U.createElement(Ide,qo({fit:!!n,clip:!!n,margin:Number(n),observe:!0},a),U.createElement(ipe,{radius:v,adjustCamera:n}),U.createElement(_de,qo({},e,{position:[0,E/2,0],onCentered:H}),t)),U.createElement("group",{position:[0,-b/2-E/2,0]},C&&U.createElement(Jde,qo({scale:v*4,far:v,blur:2},P)),L&&U.createElement(epe,qo({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:v*4},P),U.createElement(tpe,{amount:(h=P.amount)!==null&&h!==void 0?h:8,radius:(d=P.radius)!==null&&d!==void 0?d:v,ambient:(m=P.ambient)!==null&&m!==void 0?m:.5,intensity:(x=P.intensity)!==null&&x!==void 0?x:1,position:[y.main[0]*v,y.main[1]*v,y.main[2]*v],size:v*4,bias:-M,mapSize:A}))),s&&U.createElement(Yde,B))}function ope(t){const{scene:e}=Bs("/models3d/2011_mosler_super_gt.glb",!0);return R.jsx("primitive",{object:e,...t})}function ape(){return R.jsxs("mesh",{children:[R.jsx("boxGeometry",{args:[1,1,1]}),R.jsx("meshStandardMaterial",{color:"hotpink"})]})}function lpe(){const t=U.useRef(null);return R.jsx("section",{ref:t,className:"relative py-24 px-4",children:R.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[R.jsxs("header",{className:"text-center",children:[R.jsx("h2",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-400 dark:to-pink-400 mb-4",children:"Autos Exclusivos"}),R.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto font-light",children:"Descubre nuestra colección de vehículos de alta gama"})]}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative w-full max-w-6xl mx-auto justify-center items-center",children:[R.jsxs("div",{className:"w-full md:w-5/12 flex flex-col gap-6 backdrop-blur-lg bg-white/80 dark:bg-white/10 p-8 rounded-2xl border border-purple-100 dark:border-white/20 hover:border-purple-300 dark:hover:border-white/40 transition-all duration-300",children:[R.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Experiencia Premium"}),R.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"Accede a una selección exclusiva de los mejores autos del mundo. Desde superdeportivos hasta clásicos de colección, cada vehículo es cuidadosamente seleccionado para ofrecerte lo mejor en rendimiento, diseño y exclusividad."})]}),R.jsx("div",{className:"w-full md:w-7/12 h-[700px]",children:R.jsx("div",{className:"h-full w-full",children:R.jsxs(j$,{camera:{position:[4,2,5],fov:45},gl:{preserveDrawingBuffer:!0,antialias:!0},dpr:[1,2],children:[R.jsx("ambientLight",{intensity:.7}),R.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1}),R.jsx("pointLight",{position:[-10,-10,-10],intensity:.5}),R.jsxs(U.Suspense,{fallback:R.jsx(ape,{}),children:[R.jsx(ope,{scale:120,position:[0,-.5,1],rotation:[0,Math.PI/3,0]}),R.jsx(Q$,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/4})]})]})})})]})]})})}const f7=""+new URL("guci-BVB-pjd1.svg",import.meta.url).href;function cpe(){return R.jsx("article",{className:"relative py-24 px-4 overflow-hidden ",children:R.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[R.jsxs("header",{className:"mb-16 text-center",children:[R.jsx("h2",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 dark:from-purple-400 dark:to-pink-400 mb-4",children:"Feature Coin"}),R.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto font-light",children:"La ventaja de tenernos en tu garage virtual"})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[R.jsxs("div",{className:"lg:col-span-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"feature-card backdrop-blur-lg bg-white/80 dark:bg-white/10 p-8 rounded-2xl border border-purple-100 dark:border-white/20 hover:border-purple-300 dark:hover:border-white/40 transition-all duration-300 group shadow-lg hover:shadow-xl",children:[R.jsx("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300",children:"🏎️"}),R.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Modelos exclusivos de alta gama"}),R.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Accede a autos premium que no encontrarás en otras plataformas."})]}),R.jsxs("div",{className:"feature-card backdrop-blur-lg bg-white/80 dark:bg-white/10 p-8 rounded-2xl border border-purple-100 dark:border-white/20 hover:border-purple-300 dark:hover:border-white/40 transition-all duration-300 group shadow-lg hover:shadow-xl",children:[R.jsx("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300",children:"💰"}),R.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Sin comisiones ocultas"}),R.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Todas nuestras transacciones son transparentes, sin sorpresas."})]}),R.jsxs("div",{className:"feature-card backdrop-blur-lg bg-white/80 dark:bg-white/10 p-8 rounded-2xl border border-purple-100 dark:border-white/20 hover:border-purple-300 dark:hover:border-white/40 transition-all duration-300 group shadow-lg hover:shadow-xl",children:[R.jsx("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300",children:"🔒"}),R.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Seguridad garantizada"}),R.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Transacciones protegidas con la última tecnología blockchain."})]}),R.jsxs("div",{className:"feature-card backdrop-blur-lg bg-white/80 dark:bg-white/10 p-8 rounded-2xl border border-purple-100 dark:border-white/20 hover:border-purple-300 dark:hover:border-white/40 transition-all duration-300 group shadow-lg hover:shadow-xl",children:[R.jsx("div",{className:"text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300",children:"🚀"}),R.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Velocidad en tus operaciones"}),R.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Compra, vende e intercambia autos virtuales en segundos."})]})]}),R.jsx("div",{className:"lg:col-span-4 flex items-center justify-center",children:R.jsxs("div",{className:"relative group",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-indigo-500 dark:from-purple-600 dark:to-pink-600 rounded-full blur-2xl opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),R.jsx("div",{className:"relative bg-white/30 dark:bg-black/30 backdrop-blur-xl p-8 rounded-2xl border border-purple-100 dark:border-white/20",children:R.jsx("img",{className:"w-full max-w-[280px] transform transition-transform duration-500 group-hover:scale-110",src:f7,alt:"Feature Coin Logo"})})]})})]})]})})}function Lb({end:t,suffix:e="",prefix:n="",duration:r=2e3}){const[i,s]=U.useState(0),o=U.useRef(0),[a,l]=U.useState(!1);return U.useEffect(()=>{const c=new IntersectionObserver(f=>{if(f[0].isIntersecting&&!a){l(!0);const h=Date.now(),d=()=>{const m=Date.now(),x=Math.min((m-h)/r,1);o.current=Math.floor(t*x),s(o.current),x<1&&requestAnimationFrame(d)};requestAnimationFrame(d)}},{threshold:.1}),u=document.getElementById(`counter-${t}`);return u&&c.observe(u),()=>{u&&c.unobserve(u)}},[t,r,a]),R.jsxs("span",{id:`counter-${t}`,children:[n,i,e]})}function upe(){return R.jsx("section",{className:"py-20",children:R.jsxs("div",{className:"max-w-7xl mx-auto",children:[R.jsx("h2",{className:"text-5xl font-bold text-center mb-12 bg-gradient-to-r from-pink-500 to-purple-500 text-transparent bg-clip-text",children:"Nuestros Números"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[R.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-8 rounded-2xl border border-white/20 hover:scale-105 transition-all duration-500 hover:bg-white/20 group",children:[R.jsx("h3",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 text-transparent bg-clip-text group-hover:from-purple-500 group-hover:to-pink-500 transition-all duration-500",children:R.jsx(Lb,{end:500,suffix:"+"})}),R.jsx("p",{className:"text-gray-300 mt-4 font-medium",children:"Autos en Colección"})]}),R.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-8 rounded-2xl border border-white/20 hover:scale-105 transition-all duration-500 hover:bg-white/20 group",children:[R.jsx("h3",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 text-transparent bg-clip-text group-hover:from-purple-500 group-hover:to-pink-500 transition-all duration-500",children:R.jsx(Lb,{end:10,suffix:"K+"})}),R.jsx("p",{className:"text-gray-300 mt-4 font-medium",children:"Usuarios Activos"})]}),R.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-8 rounded-2xl border border-white/20 hover:scale-105 transition-all duration-500 hover:bg-white/20 group",children:[R.jsx("h3",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 text-transparent bg-clip-text group-hover:from-purple-500 group-hover:to-pink-500 transition-all duration-500",children:R.jsx(Lb,{prefix:"$RACE ",end:2.45,duration:1500})}),R.jsx("p",{className:"text-gray-300 mt-4 font-medium",children:"Valor del Token"})]}),R.jsxs("div",{className:"backdrop-blur-lg bg-white/10 p-8 rounded-2xl border border-white/20 hover:scale-105 transition-all duration-500 hover:bg-white/20 group",children:[R.jsx("h3",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 text-transparent bg-clip-text group-hover:from-purple-500 group-hover:to-pink-500 transition-all duration-500",children:R.jsx(Lb,{end:1,suffix:"M+"})}),R.jsx("p",{className:"text-gray-300 mt-4 font-medium",children:"Transacciones"})]})]})]})})}const Kh=[{text:"RaceGame es el mejor producto que he usado en mucho tiempo - es una plataforma potenciada por IA. Le pedí que me recomendara una estrategia de carrera y analizó mi estilo de conducción perfectamente a la primera.",name:"Zeke Sikelianos",company:"Replicate"},{text:"RaceGame es 🏎️-ed de verdad",name:"Steven Tey",company:"Dub"},{text:"Me encanta correr y RaceGame es una necesidad. RaceGame está varios pasos por delante de mi cerebro, sugiriendo líneas de carrera perfectas antes de que yo las piense.",name:"Andrew Milich",company:"OpenAI"},{text:"Voy a aplicar a YC y listar RaceGame como mi proyecto estrella",name:"Sam Whitmore",company:"New Racing"},{text:"Me gusta mucho cómo RaceGame sugiere mejoras en mi estilo de conducción. Notó que era inconsistente en las curvas y me sugirió ajustes que coincidían con mi estilo!",name:"Sawyer Hood",company:"Speed Masters"}];function fpe(){const t=U.useRef(null);return U.useEffect(()=>{const e=t.current;if(!e)return;let n,r=null;const i=3e4,s=o=>{r||(r=o);const a=(o-r)%i/i;if(e){const l=e.scrollHeight-e.clientHeight;e.scrollTop=a*l}n=requestAnimationFrame(s)};return n=requestAnimationFrame(s),()=>{n&&cancelAnimationFrame(n)}},[]),R.jsxs("section",{className:"py-24 overflow-hidden",children:[R.jsxs("div",{className:"max-w-7xl mx-auto px-4 mb-16 text-center",children:[R.jsx("h2",{className:"text-6xl font-display mb-4 bg-gradient-to-b from-white to-[#666] bg-clip-text text-transparent",children:"Amado por pilotos de clase mundial"}),R.jsx("p",{className:"text-lg font-mono text-gray-400",children:"Pilotos de todo el mundo eligen RaceGame como su plataforma preferida."})]}),R.jsx("div",{className:"relative max-w-7xl mx-auto",children:R.jsxs("div",{ref:t,className:"grid grid-cols-3 gap-6 h-[800px] overflow-y-hidden px-4",style:{maskImage:"linear-gradient(to bottom, transparent, black 20%, black 80%, transparent)"},children:[R.jsx("div",{className:"space-y-6",children:[...Kh,...Kh].slice(0,4).map((e,n)=>R.jsx(ST,{...e},`col1-${n}`))}),R.jsx("div",{className:"space-y-6 mt-12",children:[...Kh,...Kh].slice(2,6).map((e,n)=>R.jsx(ST,{...e},`col2-${n}`))}),R.jsx("div",{className:"space-y-6 mt-24",children:[...Kh,...Kh].slice(1,5).map((e,n)=>R.jsx(ST,{...e},`col3-${n}`))})]})})]})}function ST({text:t,name:e,company:n}){return R.jsxs("div",{className:"bg-[rgba(0,0,0,0.4)] rounded-xl p-8",style:{background:"linear-gradient(135deg, rgba(39,39,42,0.4) 0%, rgba(39,39,42,0.1) 100%)",backdropFilter:"blur(6px)"},children:[R.jsx("p",{className:"text-[17px] text-gray-300 font-mono mb-8 whitespace-normal leading-relaxed",children:t}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#2D1B69] to-[#7834BE]"}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-mono text-gray-200 text-[15px] font-medium",children:e}),R.jsx("p",{className:"font-mono text-gray-500 text-[15px]",children:n})]})]})]})}const hpe=""+new URL("background-hero-CirN76fq.png",import.meta.url).href,dpe=()=>(U.useEffect(()=>{Bs.preload("/models/f1.glb"),Bs.preload("/models/porsche.glb"),Bs.preload("/models/bmw.glb"),Bs.preload("/models/lamborghini.glb"),Bs.preload("/models/mosler.glb")},[]),null),ppe=()=>R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"smoke-container main-smoke",children:[R.jsx("div",{className:"smoke-particle smoke-1"}),R.jsx("div",{className:"smoke-particle smoke-2"}),R.jsx("div",{className:"smoke-particle smoke-3"}),R.jsx("div",{className:"smoke-particle smoke-4"})]}),R.jsxs("div",{className:"smoke-container secondary-smoke",children:[R.jsx("div",{className:"smoke-particle smoke-5"}),R.jsx("div",{className:"smoke-particle smoke-6"}),R.jsx("div",{className:"smoke-particle smoke-7"})]}),R.jsxs("div",{className:"smoke-container left-smoke",children:[R.jsx("div",{className:"smoke-particle smoke-8"}),R.jsx("div",{className:"smoke-particle smoke-9"}),R.jsx("div",{className:"smoke-particle smoke-10"})]}),R.jsxs("div",{className:"smoke-container right-smoke",children:[R.jsx("div",{className:"smoke-particle smoke-11"}),R.jsx("div",{className:"smoke-particle smoke-12"}),R.jsx("div",{className:"smoke-particle smoke-13"})]}),R.jsxs("div",{className:"smoke-container background-smoke",children:[R.jsx("div",{className:"smoke-particle smoke-14"}),R.jsx("div",{className:"smoke-particle smoke-15"}),R.jsx("div",{className:"smoke-particle smoke-16"})]})]}),mpe=()=>{const t=$y();return R.jsxs("div",{className:"flex flex-col",children:[R.jsx(dpe,{}),R.jsxs("section",{className:"relative w-full h-screen -top-24",children:[R.jsxs("div",{className:"absolute inset-0",children:[R.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url(${hpe})`,backgroundPosition:"center 65%",backgroundSize:"100% auto",backgroundRepeat:"no-repeat"}}),R.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-transparent"}),R.jsx(ppe,{})]}),R.jsx("div",{className:"relative h-full",children:R.jsx("div",{className:"h-full max-w-7xl mx-auto px-16 flex flex-col justify-center",children:R.jsxs("div",{className:"max-w-2xl space-y-8",children:[R.jsx("h1",{className:"text-8xl font-bold text-white leading-tight",children:"Pista Virtual"}),R.jsx("p",{className:"text-2xl text-gray-200 max-w-xl",children:"Únete a la revolución del gaming y las criptomonedas. Compite en carreras épicas, gana NFTs exclusivos y convierte tu pasión por los autos en recompensas reales."}),R.jsxs("div",{className:"flex gap-6 pt-4",children:[R.jsx("button",{onClick:()=>t("/shop"),className:"bg-white text-black px-10 py-4 rounded-full text-xl font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105",children:"Mercado NFT"}),R.jsx("button",{onClick:()=>t("/game"),className:"bg-transparent border-2 border-white text-white px-10 py-4 rounded-full text-xl font-semibold hover:bg-white hover:text-black transition-all duration-300",children:"Jugar Ahora"})]})]})})})]}),R.jsx("section",{className:"w-full",children:R.jsx(lpe,{})}),R.jsx("section",{className:"w-full",children:R.jsx(upe,{})}),R.jsx("section",{className:"w-full",children:R.jsx(cpe,{})}),R.jsx("section",{className:"w-full",children:R.jsx(fpe,{})})]})};var h7={},FS={};FS.byteLength=ype;FS.toByteArray=bpe;FS.fromByteArray=Spe;var Ma=[],ao=[],gpe=typeof Uint8Array<"u"?Uint8Array:Array,AT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Yh=0,vpe=AT.length;Yh<vpe;++Yh)Ma[Yh]=AT[Yh],ao[AT.charCodeAt(Yh)]=Yh;ao[45]=62;ao[95]=63;function d7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function ype(t){var e=d7(t),n=e[0],r=e[1];return(n+r)*3/4-r}function xpe(t,e,n){return(e+n)*3/4-n}function bpe(t){var e,n=d7(t),r=n[0],i=n[1],s=new gpe(xpe(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=ao[t.charCodeAt(l)]<<18|ao[t.charCodeAt(l+1)]<<12|ao[t.charCodeAt(l+2)]<<6|ao[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ao[t.charCodeAt(l)]<<2|ao[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=ao[t.charCodeAt(l)]<<10|ao[t.charCodeAt(l+1)]<<4|ao[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function _pe(t){return Ma[t>>18&63]+Ma[t>>12&63]+Ma[t>>6&63]+Ma[t&63]}function wpe(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(_pe(r));return i.join("")}function Spe(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(wpe(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Ma[e>>2]+Ma[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ma[e>>10]+Ma[e>>4&63]+Ma[e<<2&63]+"=")),i.join("")}var UB={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */UB.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(d?-1:1)*o*Math.pow(2,s-r)};UB.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,m=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=a&255,d+=m,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+d]=o&255,d+=m,o/=256,c-=8);t[n+d-m]|=x*128};(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const e=FS,n=UB,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const j=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(j,O),j.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(j){if(j>i)throw new RangeError('The value "'+j+'" is invalid for option "size"');const O=new Uint8Array(j);return Object.setPrototypeOf(O,a.prototype),O}function a(j,O,D){if(typeof j=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(j)}return l(j,O,D)}a.poolSize=8192;function l(j,O,D){if(typeof j=="string")return h(j,O);if(ArrayBuffer.isView(j))return m(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(He(j,ArrayBuffer)||j&&He(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(j,SharedArrayBuffer)||j&&He(j.buffer,SharedArrayBuffer)))return x(j,O,D);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=j.valueOf&&j.valueOf();if(V!=null&&V!==j)return a.from(V,O,D);const he=y(j);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return a.from(j[Symbol.toPrimitive]("string"),O,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}a.from=function(j,O,D){return l(j,O,D)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function u(j,O,D){return c(j),j<=0?o(j):O!==void 0?typeof D=="string"?o(j).fill(O,D):o(j).fill(O):o(j)}a.alloc=function(j,O,D){return u(j,O,D)};function f(j){return c(j),o(j<0?0:v(j)|0)}a.allocUnsafe=function(j){return f(j)},a.allocUnsafeSlow=function(j){return f(j)};function h(j,O){if((typeof O!="string"||O==="")&&(O="utf8"),!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const D=_(j,O)|0;let V=o(D);const he=V.write(j,O);return he!==D&&(V=V.slice(0,he)),V}function d(j){const O=j.length<0?0:v(j.length)|0,D=o(O);for(let V=0;V<O;V+=1)D[V]=j[V]&255;return D}function m(j){if(He(j,Uint8Array)){const O=new Uint8Array(j);return x(O.buffer,O.byteOffset,O.byteLength)}return d(j)}function x(j,O,D){if(O<0||j.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<O+(D||0))throw new RangeError('"length" is outside of buffer bounds');let V;return O===void 0&&D===void 0?V=new Uint8Array(j):D===void 0?V=new Uint8Array(j,O):V=new Uint8Array(j,O,D),Object.setPrototypeOf(V,a.prototype),V}function y(j){if(a.isBuffer(j)){const O=v(j.length)|0,D=o(O);return D.length===0||j.copy(D,0,0,O),D}if(j.length!==void 0)return typeof j.length!="number"||We(j.length)?o(0):d(j);if(j.type==="Buffer"&&Array.isArray(j.data))return d(j.data)}function v(j){if(j>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return j|0}function b(j){return+j!=j&&(j=0),a.alloc(+j)}a.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==a.prototype},a.compare=function(O,D){if(He(O,Uint8Array)&&(O=a.from(O,O.offset,O.byteLength)),He(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(O)||!a.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===D)return 0;let V=O.length,he=D.length;for(let ge=0,_e=Math.min(V,he);ge<_e;++ge)if(O[ge]!==D[ge]){V=O[ge],he=D[ge];break}return V<he?-1:he<V?1:0},a.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(O,D){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return a.alloc(0);let V;if(D===void 0)for(D=0,V=0;V<O.length;++V)D+=O[V].length;const he=a.allocUnsafe(D);let ge=0;for(V=0;V<O.length;++V){let _e=O[V];if(He(_e,Uint8Array))ge+_e.length>he.length?(a.isBuffer(_e)||(_e=a.from(_e)),_e.copy(he,ge)):Uint8Array.prototype.set.call(he,_e,ge);else if(a.isBuffer(_e))_e.copy(he,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=_e.length}return he};function _(j,O){if(a.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||He(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const D=j.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&D===0)return 0;let he=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return dt(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return $(j).length;default:if(he)return V?-1:dt(j).length;O=(""+O).toLowerCase(),he=!0}}a.byteLength=_;function M(j,O,D){let V=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,O>>>=0,D<=O))return"";for(j||(j="utf8");;)switch(j){case"hex":return J(this,O,D);case"utf8":case"utf-8":return z(this,O,D);case"ascii":return ie(this,O,D);case"latin1":case"binary":return G(this,O,D);case"base64":return q(this,O,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,O,D);default:if(V)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),V=!0}}a.prototype._isBuffer=!0;function w(j,O,D){const V=j[O];j[O]=j[D],j[D]=V}a.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<O;D+=2)w(this,D,D+1);return this},a.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<O;D+=4)w(this,D,D+3),w(this,D+1,D+2);return this},a.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<O;D+=8)w(this,D,D+7),w(this,D+1,D+6),w(this,D+2,D+5),w(this,D+3,D+4);return this},a.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?z(this,0,O):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(O){if(!a.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:a.compare(this,O)===0},a.prototype.inspect=function(){let O="";const D=t.INSPECT_MAX_BYTES;return O=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(O+=" ... "),"<Buffer "+O+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(O,D,V,he,ge){if(He(O,Uint8Array)&&(O=a.from(O,O.offset,O.byteLength)),!a.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(D===void 0&&(D=0),V===void 0&&(V=O?O.length:0),he===void 0&&(he=0),ge===void 0&&(ge=this.length),D<0||V>O.length||he<0||ge>this.length)throw new RangeError("out of range index");if(he>=ge&&D>=V)return 0;if(he>=ge)return-1;if(D>=V)return 1;if(D>>>=0,V>>>=0,he>>>=0,ge>>>=0,this===O)return 0;let _e=ge-he,Ke=V-D;const tt=Math.min(_e,Ke),ue=this.slice(he,ge),Ce=O.slice(D,V);for(let Ge=0;Ge<tt;++Ge)if(ue[Ge]!==Ce[Ge]){_e=ue[Ge],Ke=Ce[Ge];break}return _e<Ke?-1:Ke<_e?1:0};function A(j,O,D,V,he){if(j.length===0)return-1;if(typeof D=="string"?(V=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,We(D)&&(D=he?0:j.length-1),D<0&&(D=j.length+D),D>=j.length){if(he)return-1;D=j.length-1}else if(D<0)if(he)D=0;else return-1;if(typeof O=="string"&&(O=a.from(O,V)),a.isBuffer(O))return O.length===0?-1:E(j,O,D,V,he);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(j,O,D):Uint8Array.prototype.lastIndexOf.call(j,O,D):E(j,[O],D,V,he);throw new TypeError("val must be string, number or Buffer")}function E(j,O,D,V,he){let ge=1,_e=j.length,Ke=O.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(j.length<2||O.length<2)return-1;ge=2,_e/=2,Ke/=2,D/=2}function tt(Ce,Ge){return ge===1?Ce[Ge]:Ce.readUInt16BE(Ge*ge)}let ue;if(he){let Ce=-1;for(ue=D;ue<_e;ue++)if(tt(j,ue)===tt(O,Ce===-1?0:ue-Ce)){if(Ce===-1&&(Ce=ue),ue-Ce+1===Ke)return Ce*ge}else Ce!==-1&&(ue-=ue-Ce),Ce=-1}else for(D+Ke>_e&&(D=_e-Ke),ue=D;ue>=0;ue--){let Ce=!0;for(let Ge=0;Ge<Ke;Ge++)if(tt(j,ue+Ge)!==tt(O,Ge)){Ce=!1;break}if(Ce)return ue}return-1}a.prototype.includes=function(O,D,V){return this.indexOf(O,D,V)!==-1},a.prototype.indexOf=function(O,D,V){return A(this,O,D,V,!0)},a.prototype.lastIndexOf=function(O,D,V){return A(this,O,D,V,!1)};function C(j,O,D,V){D=Number(D)||0;const he=j.length-D;V?(V=Number(V),V>he&&(V=he)):V=he;const ge=O.length;V>ge/2&&(V=ge/2);let _e;for(_e=0;_e<V;++_e){const Ke=parseInt(O.substr(_e*2,2),16);if(We(Ke))return _e;j[D+_e]=Ke}return _e}function L(j,O,D,V){return xe(dt(O,j.length-D),j,D,V)}function P(j,O,D,V){return xe(it(O),j,D,V)}function B(j,O,D,V){return xe($(O),j,D,V)}function H(j,O,D,V){return xe(Q(O,j.length-D),j,D,V)}a.prototype.write=function(O,D,V,he){if(D===void 0)he="utf8",V=this.length,D=0;else if(V===void 0&&typeof D=="string")he=D,V=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(V)?(V=V>>>0,he===void 0&&(he="utf8")):(he=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-D;if((V===void 0||V>ge)&&(V=ge),O.length>0&&(V<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let _e=!1;for(;;)switch(he){case"hex":return C(this,O,D,V);case"utf8":case"utf-8":return L(this,O,D,V);case"ascii":case"latin1":case"binary":return P(this,O,D,V);case"base64":return B(this,O,D,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,O,D,V);default:if(_e)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),_e=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(j,O,D){return O===0&&D===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(O,D))}function z(j,O,D){D=Math.min(j.length,D);const V=[];let he=O;for(;he<D;){const ge=j[he];let _e=null,Ke=ge>239?4:ge>223?3:ge>191?2:1;if(he+Ke<=D){let tt,ue,Ce,Ge;switch(Ke){case 1:ge<128&&(_e=ge);break;case 2:tt=j[he+1],(tt&192)===128&&(Ge=(ge&31)<<6|tt&63,Ge>127&&(_e=Ge));break;case 3:tt=j[he+1],ue=j[he+2],(tt&192)===128&&(ue&192)===128&&(Ge=(ge&15)<<12|(tt&63)<<6|ue&63,Ge>2047&&(Ge<55296||Ge>57343)&&(_e=Ge));break;case 4:tt=j[he+1],ue=j[he+2],Ce=j[he+3],(tt&192)===128&&(ue&192)===128&&(Ce&192)===128&&(Ge=(ge&15)<<18|(tt&63)<<12|(ue&63)<<6|Ce&63,Ge>65535&&Ge<1114112&&(_e=Ge))}}_e===null?(_e=65533,Ke=1):_e>65535&&(_e-=65536,V.push(_e>>>10&1023|55296),_e=56320|_e&1023),V.push(_e),he+=Ke}return Y(V)}const K=4096;function Y(j){const O=j.length;if(O<=K)return String.fromCharCode.apply(String,j);let D="",V=0;for(;V<O;)D+=String.fromCharCode.apply(String,j.slice(V,V+=K));return D}function ie(j,O,D){let V="";D=Math.min(j.length,D);for(let he=O;he<D;++he)V+=String.fromCharCode(j[he]&127);return V}function G(j,O,D){let V="";D=Math.min(j.length,D);for(let he=O;he<D;++he)V+=String.fromCharCode(j[he]);return V}function J(j,O,D){const V=j.length;(!O||O<0)&&(O=0),(!D||D<0||D>V)&&(D=V);let he="";for(let ge=O;ge<D;++ge)he+=Ue[j[ge]];return he}function te(j,O,D){const V=j.slice(O,D);let he="";for(let ge=0;ge<V.length-1;ge+=2)he+=String.fromCharCode(V[ge]+V[ge+1]*256);return he}a.prototype.slice=function(O,D){const V=this.length;O=~~O,D=D===void 0?V:~~D,O<0?(O+=V,O<0&&(O=0)):O>V&&(O=V),D<0?(D+=V,D<0&&(D=0)):D>V&&(D=V),D<O&&(D=O);const he=this.subarray(O,D);return Object.setPrototypeOf(he,a.prototype),he};function re(j,O,D){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+O>D)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(O,D,V){O=O>>>0,D=D>>>0,V||re(O,D,this.length);let he=this[O],ge=1,_e=0;for(;++_e<D&&(ge*=256);)he+=this[O+_e]*ge;return he},a.prototype.readUintBE=a.prototype.readUIntBE=function(O,D,V){O=O>>>0,D=D>>>0,V||re(O,D,this.length);let he=this[O+--D],ge=1;for(;D>0&&(ge*=256);)he+=this[O+--D]*ge;return he},a.prototype.readUint8=a.prototype.readUInt8=function(O,D){return O=O>>>0,D||re(O,1,this.length),this[O]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(O,D){return O=O>>>0,D||re(O,2,this.length),this[O]|this[O+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(O,D){return O=O>>>0,D||re(O,2,this.length),this[O]<<8|this[O+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(O,D){return O=O>>>0,D||re(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(O,D){return O=O>>>0,D||re(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},a.prototype.readBigUInt64LE=ut(function(O){O=O>>>0,Le(O,"offset");const D=this[O],V=this[O+7];(D===void 0||V===void 0)&&Se(O,this.length-8);const he=D+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,ge=this[++O]+this[++O]*2**8+this[++O]*2**16+V*2**24;return BigInt(he)+(BigInt(ge)<<BigInt(32))}),a.prototype.readBigUInt64BE=ut(function(O){O=O>>>0,Le(O,"offset");const D=this[O],V=this[O+7];(D===void 0||V===void 0)&&Se(O,this.length-8);const he=D*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],ge=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+V;return(BigInt(he)<<BigInt(32))+BigInt(ge)}),a.prototype.readIntLE=function(O,D,V){O=O>>>0,D=D>>>0,V||re(O,D,this.length);let he=this[O],ge=1,_e=0;for(;++_e<D&&(ge*=256);)he+=this[O+_e]*ge;return ge*=128,he>=ge&&(he-=Math.pow(2,8*D)),he},a.prototype.readIntBE=function(O,D,V){O=O>>>0,D=D>>>0,V||re(O,D,this.length);let he=D,ge=1,_e=this[O+--he];for(;he>0&&(ge*=256);)_e+=this[O+--he]*ge;return ge*=128,_e>=ge&&(_e-=Math.pow(2,8*D)),_e},a.prototype.readInt8=function(O,D){return O=O>>>0,D||re(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},a.prototype.readInt16LE=function(O,D){O=O>>>0,D||re(O,2,this.length);const V=this[O]|this[O+1]<<8;return V&32768?V|4294901760:V},a.prototype.readInt16BE=function(O,D){O=O>>>0,D||re(O,2,this.length);const V=this[O+1]|this[O]<<8;return V&32768?V|4294901760:V},a.prototype.readInt32LE=function(O,D){return O=O>>>0,D||re(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},a.prototype.readInt32BE=function(O,D){return O=O>>>0,D||re(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},a.prototype.readBigInt64LE=ut(function(O){O=O>>>0,Le(O,"offset");const D=this[O],V=this[O+7];(D===void 0||V===void 0)&&Se(O,this.length-8);const he=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(V<<24);return(BigInt(he)<<BigInt(32))+BigInt(D+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),a.prototype.readBigInt64BE=ut(function(O){O=O>>>0,Le(O,"offset");const D=this[O],V=this[O+7];(D===void 0||V===void 0)&&Se(O,this.length-8);const he=(D<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(he)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+V)}),a.prototype.readFloatLE=function(O,D){return O=O>>>0,D||re(O,4,this.length),n.read(this,O,!0,23,4)},a.prototype.readFloatBE=function(O,D){return O=O>>>0,D||re(O,4,this.length),n.read(this,O,!1,23,4)},a.prototype.readDoubleLE=function(O,D){return O=O>>>0,D||re(O,8,this.length),n.read(this,O,!0,52,8)},a.prototype.readDoubleBE=function(O,D){return O=O>>>0,D||re(O,8,this.length),n.read(this,O,!1,52,8)};function fe(j,O,D,V,he,ge){if(!a.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>he||O<ge)throw new RangeError('"value" argument is out of bounds');if(D+V>j.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(O,D,V,he){if(O=+O,D=D>>>0,V=V>>>0,!he){const Ke=Math.pow(2,8*V)-1;fe(this,O,D,V,Ke,0)}let ge=1,_e=0;for(this[D]=O&255;++_e<V&&(ge*=256);)this[D+_e]=O/ge&255;return D+V},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(O,D,V,he){if(O=+O,D=D>>>0,V=V>>>0,!he){const Ke=Math.pow(2,8*V)-1;fe(this,O,D,V,Ke,0)}let ge=V-1,_e=1;for(this[D+ge]=O&255;--ge>=0&&(_e*=256);)this[D+ge]=O/_e&255;return D+V},a.prototype.writeUint8=a.prototype.writeUInt8=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,1,255,0),this[D]=O&255,D+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,2,65535,0),this[D]=O&255,this[D+1]=O>>>8,D+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,2,65535,0),this[D]=O>>>8,this[D+1]=O&255,D+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,4,4294967295,0),this[D+3]=O>>>24,this[D+2]=O>>>16,this[D+1]=O>>>8,this[D]=O&255,D+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,4,4294967295,0),this[D]=O>>>24,this[D+1]=O>>>16,this[D+2]=O>>>8,this[D+3]=O&255,D+4};function we(j,O,D,V,he){X(O,V,he,j,D,7);let ge=Number(O&BigInt(4294967295));j[D++]=ge,ge=ge>>8,j[D++]=ge,ge=ge>>8,j[D++]=ge,ge=ge>>8,j[D++]=ge;let _e=Number(O>>BigInt(32)&BigInt(4294967295));return j[D++]=_e,_e=_e>>8,j[D++]=_e,_e=_e>>8,j[D++]=_e,_e=_e>>8,j[D++]=_e,D}function pe(j,O,D,V,he){X(O,V,he,j,D,7);let ge=Number(O&BigInt(4294967295));j[D+7]=ge,ge=ge>>8,j[D+6]=ge,ge=ge>>8,j[D+5]=ge,ge=ge>>8,j[D+4]=ge;let _e=Number(O>>BigInt(32)&BigInt(4294967295));return j[D+3]=_e,_e=_e>>8,j[D+2]=_e,_e=_e>>8,j[D+1]=_e,_e=_e>>8,j[D]=_e,D+8}a.prototype.writeBigUInt64LE=ut(function(O,D=0){return we(this,O,D,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ut(function(O,D=0){return pe(this,O,D,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(O,D,V,he){if(O=+O,D=D>>>0,!he){const tt=Math.pow(2,8*V-1);fe(this,O,D,V,tt-1,-tt)}let ge=0,_e=1,Ke=0;for(this[D]=O&255;++ge<V&&(_e*=256);)O<0&&Ke===0&&this[D+ge-1]!==0&&(Ke=1),this[D+ge]=(O/_e>>0)-Ke&255;return D+V},a.prototype.writeIntBE=function(O,D,V,he){if(O=+O,D=D>>>0,!he){const tt=Math.pow(2,8*V-1);fe(this,O,D,V,tt-1,-tt)}let ge=V-1,_e=1,Ke=0;for(this[D+ge]=O&255;--ge>=0&&(_e*=256);)O<0&&Ke===0&&this[D+ge+1]!==0&&(Ke=1),this[D+ge]=(O/_e>>0)-Ke&255;return D+V},a.prototype.writeInt8=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,1,127,-128),O<0&&(O=255+O+1),this[D]=O&255,D+1},a.prototype.writeInt16LE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,2,32767,-32768),this[D]=O&255,this[D+1]=O>>>8,D+2},a.prototype.writeInt16BE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,2,32767,-32768),this[D]=O>>>8,this[D+1]=O&255,D+2},a.prototype.writeInt32LE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,4,2147483647,-2147483648),this[D]=O&255,this[D+1]=O>>>8,this[D+2]=O>>>16,this[D+3]=O>>>24,D+4},a.prototype.writeInt32BE=function(O,D,V){return O=+O,D=D>>>0,V||fe(this,O,D,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[D]=O>>>24,this[D+1]=O>>>16,this[D+2]=O>>>8,this[D+3]=O&255,D+4},a.prototype.writeBigInt64LE=ut(function(O,D=0){return we(this,O,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ut(function(O,D=0){return pe(this,O,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(j,O,D,V,he,ge){if(D+V>j.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function Pe(j,O,D,V,he){return O=+O,D=D>>>0,he||Ae(j,O,D,4),n.write(j,O,D,V,23,4),D+4}a.prototype.writeFloatLE=function(O,D,V){return Pe(this,O,D,!0,V)},a.prototype.writeFloatBE=function(O,D,V){return Pe(this,O,D,!1,V)};function Ze(j,O,D,V,he){return O=+O,D=D>>>0,he||Ae(j,O,D,8),n.write(j,O,D,V,52,8),D+8}a.prototype.writeDoubleLE=function(O,D,V){return Ze(this,O,D,!0,V)},a.prototype.writeDoubleBE=function(O,D,V){return Ze(this,O,D,!1,V)},a.prototype.copy=function(O,D,V,he){if(!a.isBuffer(O))throw new TypeError("argument should be a Buffer");if(V||(V=0),!he&&he!==0&&(he=this.length),D>=O.length&&(D=O.length),D||(D=0),he>0&&he<V&&(he=V),he===V||O.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),O.length-D<he-V&&(he=O.length-D+V);const ge=he-V;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,V,he):Uint8Array.prototype.set.call(O,this.subarray(V,he),D),ge},a.prototype.fill=function(O,D,V,he){if(typeof O=="string"){if(typeof D=="string"?(he=D,D=0,V=this.length):typeof V=="string"&&(he=V,V=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!a.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(O.length===1){const _e=O.charCodeAt(0);(he==="utf8"&&_e<128||he==="latin1")&&(O=_e)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(D<0||this.length<D||this.length<V)throw new RangeError("Out of range index");if(V<=D)return this;D=D>>>0,V=V===void 0?this.length:V>>>0,O||(O=0);let ge;if(typeof O=="number")for(ge=D;ge<V;++ge)this[ge]=O;else{const _e=a.isBuffer(O)?O:a.from(O,he),Ke=_e.length;if(Ke===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(ge=0;ge<V-D;++ge)this[ge+D]=_e[ge%Ke]}return this};const nt={};function Ie(j,O,D){nt[j]=class extends D{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(j,O){return`The "${j}" argument must be of type number. Received type ${typeof O}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(j,O,D){let V=`The value of "${j}" is out of range.`,he=D;return Number.isInteger(D)&&Math.abs(D)>2**32?he=et(String(D)):typeof D=="bigint"&&(he=String(D),(D>BigInt(2)**BigInt(32)||D<-(BigInt(2)**BigInt(32)))&&(he=et(he)),he+="n"),V+=` It must be ${O}. Received ${he}`,V},RangeError);function et(j){let O="",D=j.length;const V=j[0]==="-"?1:0;for(;D>=V+4;D-=3)O=`_${j.slice(D-3,D)}${O}`;return`${j.slice(0,D)}${O}`}function Xe(j,O,D){Le(O,"offset"),(j[O]===void 0||j[O+D]===void 0)&&Se(O,j.length-(D+1))}function X(j,O,D,V,he,ge){if(j>D||j<O){const _e=typeof O=="bigint"?"n":"";let Ke;throw O===0||O===BigInt(0)?Ke=`>= 0${_e} and < 2${_e} ** ${(ge+1)*8}${_e}`:Ke=`>= -(2${_e} ** ${(ge+1)*8-1}${_e}) and < 2 ** ${(ge+1)*8-1}${_e}`,new nt.ERR_OUT_OF_RANGE("value",Ke,j)}Xe(V,he,ge)}function Le(j,O){if(typeof j!="number")throw new nt.ERR_INVALID_ARG_TYPE(O,"number",j)}function Se(j,O,D){throw Math.floor(j)!==j?(Le(j,D),new nt.ERR_OUT_OF_RANGE("offset","an integer",j)):O<0?new nt.ERR_BUFFER_OUT_OF_BOUNDS:new nt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,j)}const Ve=/[^+/0-9A-Za-z-_]/g;function Re(j){if(j=j.split("=")[0],j=j.trim().replace(Ve,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function dt(j,O){O=O||1/0;let D;const V=j.length;let he=null;const ge=[];for(let _e=0;_e<V;++_e){if(D=j.charCodeAt(_e),D>55295&&D<57344){if(!he){if(D>56319){(O-=3)>-1&&ge.push(239,191,189);continue}else if(_e+1===V){(O-=3)>-1&&ge.push(239,191,189);continue}he=D;continue}if(D<56320){(O-=3)>-1&&ge.push(239,191,189),he=D;continue}D=(he-55296<<10|D-56320)+65536}else he&&(O-=3)>-1&&ge.push(239,191,189);if(he=null,D<128){if((O-=1)<0)break;ge.push(D)}else if(D<2048){if((O-=2)<0)break;ge.push(D>>6|192,D&63|128)}else if(D<65536){if((O-=3)<0)break;ge.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((O-=4)<0)break;ge.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ge}function it(j){const O=[];for(let D=0;D<j.length;++D)O.push(j.charCodeAt(D)&255);return O}function Q(j,O){let D,V,he;const ge=[];for(let _e=0;_e<j.length&&!((O-=2)<0);++_e)D=j.charCodeAt(_e),V=D>>8,he=D%256,ge.push(he),ge.push(V);return ge}function $(j){return e.toByteArray(Re(j))}function xe(j,O,D,V){let he;for(he=0;he<V&&!(he+D>=O.length||he>=j.length);++he)O[he+D]=j[he];return he}function He(j,O){return j instanceof O||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===O.name}function We(j){return j!==j}const Ue=function(){const j="0123456789abcdef",O=new Array(256);for(let D=0;D<16;++D){const V=D*16;for(let he=0;he<16;++he)O[V+he]=j[D]+j[he]}return O}();function ut(j){return typeof BigInt>"u"?ft:j}function ft(){throw new Error("BigInt not supported")}})(h7);const Ape=[],US={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){zo("call","select")},connect(){return Promise.reject(zo("call","connect"))},disconnect(){return Promise.reject(zo("call","disconnect"))},sendTransaction(){return Promise.reject(zo("call","sendTransaction"))},signTransaction(){return Promise.reject(zo("call","signTransaction"))},signAllTransactions(){return Promise.reject(zo("call","signAllTransactions"))},signMessage(){return Promise.reject(zo("call","signMessage"))},signIn(){return Promise.reject(zo("call","signIn"))}};Object.defineProperty(US,"wallets",{get(){return zo("read","wallets"),Ape}});Object.defineProperty(US,"wallet",{get(){return zo("read","wallet"),null}});Object.defineProperty(US,"publicKey",{get(){return zo("read","publicKey"),null}});function zo(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const Mpe=U.createContext(US);function p7(){return U.useContext(Mpe)}class Epe{static async createBet(e,n,r){return{success:!0}}}const Tpe=()=>{const{publicKey:t}=p7(),[e,n]=U.useState([]),[r,i]=U.useState(null),[s,o]=U.useState(0);U.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await(await fetch("/api/available-players")).json();n(u)}catch(c){console.error("Error fetching players:",c)}},l=async()=>{if(!(!t||!r))try{const c=await Epe.createBet(t.toString(),r,s);console.log("Bet placed:",c)}catch(c){console.error("Error placing bet:",c)}};return R.jsxs("div",{className:"betting-panel",children:[R.jsxs("div",{className:"players-list",children:[R.jsx("h3",{children:"Available Players"}),e.map(c=>R.jsxs("div",{className:`player-item ${r===c.id?"selected":""}`,onClick:()=>i(c.id),children:[R.jsx("span",{children:c.username}),R.jsxs("span",{children:["Rating: ",c.rating]})]},c.id))]}),R.jsxs("div",{className:"bet-form",children:[R.jsx("input",{type:"number",value:s,onChange:c=>o(Number(c.target.value)),placeholder:"Bet Amount"}),R.jsx("button",{onClick:l,disabled:!r||s<=0,children:"Place Bet"})]})]})},Cpe=[{rank:1,username:"SpeedDemon",wins:50,totalEarnings:1e4,rating:1650},{rank:2,username:"ShadowRacer",wins:45,totalEarnings:8500,rating:1500},{rank:3,username:"NitroNinja",wins:40,totalEarnings:7e3,rating:1400},{rank:4,username:"PixelPacer",wins:35,totalEarnings:6e3,rating:1350},{rank:5,username:"CircuitChamp",wins:30,totalEarnings:5e3,rating:1300}],Ppe=()=>{const[t,e]=U.useState(Cpe),[n,r]=U.useState("all"),[i,s]=U.useState(!1),o=a=>{r(a),console.log(`Filter changed to: ${a}`),s(!0),setTimeout(()=>{s(!1)},500)};return R.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg text-white max-w-4xl mx-auto",children:[R.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[R.jsx("h2",{className:"text-2xl font-bold",children:"Leaderboard"}),R.jsx("div",{className:"flex space-x-2 bg-gray-700 p-1 rounded-lg",children:["all","weekly","monthly"].map(a=>R.jsx("button",{className:`px-4 py-1 rounded-md text-sm font-medium transition-colors ${n===a?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-600"}`,onClick:()=>o(a),children:a==="all"?"All Time":a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),R.jsx("div",{className:"overflow-x-auto",children:R.jsxs("table",{className:"w-full table-auto border-collapse",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"bg-gray-700 text-left text-gray-300 uppercase text-sm",children:[R.jsx("th",{className:"p-3",children:"Rank"}),R.jsx("th",{className:"p-3",children:"Username"}),R.jsx("th",{className:"p-3 text-right",children:"Wins"}),R.jsx("th",{className:"p-3 text-right",children:"Earnings (COINS)"}),R.jsx("th",{className:"p-3 text-right",children:"Rating"})]})}),R.jsx("tbody",{children:i?R.jsx("tr",{children:R.jsx("td",{colSpan:5,className:"text-center p-6 text-gray-400",children:"Loading leaderboard..."})}):t.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:5,className:"text-center p-6 text-gray-400",children:"No data available for this filter."})}):t.map((a,l)=>R.jsxs("tr",{className:`border-b border-gray-700 ${l%2===0?"bg-gray-800":"bg-gray-750"} hover:bg-gray-600 transition-colors`,children:[R.jsx("td",{className:"p-3 font-bold",children:a.rank}),R.jsx("td",{className:"p-3",children:a.username}),R.jsx("td",{className:"p-3 text-right",children:a.wins}),R.jsx("td",{className:"p-3 text-right",children:a.totalEarnings.toLocaleString()}),R.jsx("td",{className:"p-3 text-right",children:a.rating})]},a.rank))})]})})]})},y2=({isBetting:t,betAmount:e})=>{const{publicKey:n}=p7(),[r,i]=U.useState("waiting");return R.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[R.jsx("div",{className:"w-full h-[500px] bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center",children:R.jsx("p",{className:"text-white text-xl",children:"Unity Game Loading..."})}),R.jsx("div",{className:"bg-gray-800 p-4 rounded-lg text-white",children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{className:"text-lg font-bold",children:["Status: ",r.toUpperCase()]}),t&&R.jsxs("div",{className:"bg-yellow-600 px-4 py-2 rounded",children:["Bet Amount: ",e," COINS"]})]})}),R.jsxs("div",{className:"flex justify-center gap-4",children:[r==="waiting"&&R.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded",onClick:()=>i("racing"),children:"Start Race"}),r==="finished"&&R.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded",onClick:()=>i("waiting"),children:"Race Again"})]})]})},Rpe=()=>{const[t,e]=U.useState(!0);return U.useEffect(()=>{const n=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(n)},[]),t?R.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:R.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-600"})}):R.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-gray-900 dark:to-gray-800 text-white",children:[R.jsx("div",{className:"bg-gradient-to-r from-indigo-600 via-indigo-500 to-purple-600 shadow-lg",children:R.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:R.jsxs("h1",{className:"text-4xl font-bold text-white flex items-center gap-4 animate-fade-in",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"F1 Racing Challenge"]})})}),R.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[R.jsx("div",{className:"lg:col-span-1",children:R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:shadow-2xl hover:scale-[1.02]",children:[R.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:R.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Betting Panel"]})}),R.jsx("div",{className:"p-6",children:R.jsx(Tpe,{})})]})}),R.jsx("div",{className:"lg:col-span-2",children:R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:shadow-2xl",children:[R.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:R.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Live Race"]})}),R.jsx("div",{className:"p-6",children:R.jsx(y2,{isBetting:!0,betAmount:0})})]})}),R.jsx("div",{className:"lg:col-span-3",children:R.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:shadow-2xl",children:[R.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4",children:R.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Leaderboard"]})}),R.jsx("div",{className:"p-6",children:R.jsx(Ppe,{})})]})})]})}),R.jsx("footer",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 mt-12",children:R.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:R.jsx("p",{className:"text-center text-white text-sm",children:"© 2024 F1 Racing Challenge. All rights reserved."})})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function u0(t){return t+.5|0}const Sc=(t,e,n)=>Math.max(Math.min(t,n),e);function Ag(t){return Sc(u0(t*2.55),0,255)}function jc(t){return Sc(u0(t*255),0,255)}function ul(t){return Sc(u0(t/2.55)/100,0,1)}function r4(t){return Sc(u0(t*100),0,100)}const eo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x2=[..."0123456789ABCDEF"],Ope=t=>x2[t&15],Ipe=t=>x2[(t&240)>>4]+x2[t&15],Nb=t=>(t&240)>>4===(t&15),Bpe=t=>Nb(t.r)&&Nb(t.g)&&Nb(t.b)&&Nb(t.a);function Dpe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&eo[t[1]]*17,g:255&eo[t[2]]*17,b:255&eo[t[3]]*17,a:e===5?eo[t[4]]*17:255}:(e===7||e===9)&&(n={r:eo[t[1]]<<4|eo[t[2]],g:eo[t[3]]<<4|eo[t[4]],b:eo[t[5]]<<4|eo[t[6]],a:e===9?eo[t[7]]<<4|eo[t[8]]:255})),n}const Lpe=(t,e)=>t<255?e(t):"";function Npe(t){var e=Bpe(t)?Ope:Ipe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Lpe(t.a,e):void 0}const kpe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function m7(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Fpe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Upe(t,e,n){const r=m7(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function jpe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function jB(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=jpe(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function zB(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(jc)}function HB(t,e,n){return zB(m7,t,e,n)}function zpe(t,e,n){return zB(Upe,t,e,n)}function Hpe(t,e,n){return zB(Fpe,t,e,n)}function g7(t){return(t%360+360)%360}function Gpe(t){const e=kpe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Ag(+e[5]):jc(+e[5]));const i=g7(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=zpe(i,s,o):e[1]==="hsv"?r=Hpe(i,s,o):r=HB(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function Vpe(t,e){var n=jB(t);n[0]=g7(n[0]+e),n=HB(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Wpe(t){if(!t)return;const e=jB(t),n=e[0],r=r4(e[1]),i=r4(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ul(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const i4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},s4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $pe(){const t={},e=Object.keys(s4),n=Object.keys(i4);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,i4[s]);s=parseInt(s4[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let kb;function Xpe(t){kb||(kb=$pe(),kb.transparent=[0,0,0,0]);const e=kb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Kpe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ype(t){const e=Kpe.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Ag(o):Sc(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Ag(r):Sc(r,0,255)),i=255&(e[4]?Ag(i):Sc(i,0,255)),s=255&(e[6]?Ag(s):Sc(s,0,255)),{r,g:i,b:s,a:n}}}function Jpe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ul(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const MT=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Jh=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qpe(t,e,n){const r=Jh(ul(t.r)),i=Jh(ul(t.g)),s=Jh(ul(t.b));return{r:jc(MT(r+n*(Jh(ul(e.r))-r))),g:jc(MT(i+n*(Jh(ul(e.g))-i))),b:jc(MT(s+n*(Jh(ul(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Fb(t,e,n){if(t){let r=jB(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=HB(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function v7(t,e){return t&&Object.assign(e||{},t)}function o4(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jc(t[3]))):(e=v7(t,{r:0,g:0,b:0,a:1}),e.a=jc(e.a)),e}function Zpe(t){return t.charAt(0)==="r"?Ype(t):Gpe(t)}let y7=class b2{constructor(e){if(e instanceof b2)return e;const n=typeof e;let r;n==="object"?r=o4(e):n==="string"&&(r=Dpe(e)||Xpe(e)||Zpe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=v7(this._rgb);return e&&(e.a=ul(e.a)),e}set rgb(e){this._rgb=o4(e)}rgbString(){return this._valid?Jpe(this._rgb):void 0}hexString(){return this._valid?Npe(this._rgb):void 0}hslString(){return this._valid?Wpe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=qpe(this._rgb,e._rgb,n)),this}clone(){return new b2(this.rgb)}alpha(e){return this._rgb.a=jc(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=u0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fb(this._rgb,2,e),this}darken(e){return Fb(this._rgb,2,-e),this}saturate(e){return Fb(this._rgb,1,e),this}desaturate(e){return Fb(this._rgb,1,-e),this}rotate(e){return Vpe(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function nl(){}const Qpe=(()=>{let t=0;return()=>t++})();function Wn(t){return t==null}function Wr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function vn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ji(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ya(t,e){return ji(t)?t:e}function dn(t,e){return typeof t>"u"?e:t}const eme=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Jn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function In(t,e,n,r){let i,s,o;if(Wr(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(vn(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function C1(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function P1(t){if(Wr(t))return t.map(P1);if(vn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=P1(t[n[i]]);return e}return t}function x7(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function tme(t,e,n,r){if(!x7(t))return;const i=e[t],s=n[t];vn(i)&&vn(s)?zv(i,s,r):e[t]=P1(s)}function zv(t,e,n){const r=Wr(e)?e:[e],i=r.length;if(!vn(t))return t;n=n||{};const s=n.merger||tme;let o;for(let a=0;a<i;++a){if(o=r[a],!vn(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Gg(t,e){return zv(t,e,{merger:nme})}function nme(t,e,n){if(!x7(t))return;const r=e[t],i=n[t];vn(r)&&vn(i)?Gg(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=P1(i))}const a4={"":t=>t,x:t=>t.x,y:t=>t.y};function rme(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function ime(t){const e=rme(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function R1(t,e){return(a4[e]||(a4[e]=ime(e)))(t)}function GB(t){return t.charAt(0).toUpperCase()+t.slice(1)}const O1=t=>typeof t<"u",Jc=t=>typeof t=="function",l4=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function sme(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const li=Math.PI,na=2*li,ome=na+li,I1=Number.POSITIVE_INFINITY,ame=li/180,Zo=li/2,Bu=li/4,c4=li*2/3,b7=Math.log10,ap=Math.sign;function Vg(t,e,n){return Math.abs(t-e)<n}function u4(t){const e=Math.round(t);t=Vg(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(b7(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function lme(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function cme(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Hv(t){return!cme(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ume(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function fme(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ff(t){return t*(li/180)}function hme(t){return t*(180/li)}function f4(t){if(!ji(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function dme(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*li&&(s+=na),{angle:s,distance:i}}function _2(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pme(t,e){return(t-e+ome)%na-li}function Sa(t){return(t%na+na)%na}function _7(t,e,n,r){const i=Sa(t),s=Sa(e),o=Sa(n),a=Sa(s-i),l=Sa(o-i),c=Sa(i-s),u=Sa(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function mo(t,e,n){return Math.max(e,Math.min(n,t))}function mme(t){return mo(t,-32768,32767)}function _d(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function VB(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const hf=(t,e,n,r)=>VB(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),gme=(t,e,n)=>VB(t,n,r=>t[r][e]>=n);function vme(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const w7=["push","pop","shift","splice","unshift"];function yme(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),w7.forEach(n=>{const r="_onData"+GB(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function h4(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(w7.forEach(s=>{delete t[s]}),delete t._chartjs)}function xme(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const S7=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function A7(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,S7.call(window,()=>{r=!1,t.apply(e,n)}))}}function bme(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const WB=t=>t==="start"?"left":t==="end"?"right":"center",Ri=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_me=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function wme(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:d,maxDefined:m}=o.getUserBounds();if(d){if(i=Math.min(hf(l,u,f).lo,n?r:hf(e,u,o.getPixelForValue(f)).lo),c){const x=l.slice(0,i+1).reverse().findIndex(y=>!Wn(y[a.axis]));i-=Math.max(0,x)}i=mo(i,0,r-1)}if(m){let x=Math.max(hf(l,o.axis,h,!0).hi+1,n?0:hf(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const y=l.slice(x-1).findIndex(v=>!Wn(v[a.axis]));x+=Math.max(0,y)}s=mo(x,i,r)-i}else s=r-i}return{start:i,count:s}}function Sme(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Ub=t=>t===0||t===1,d4=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*na/n)),p4=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*na/n)+1,Wg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zo)+1,easeOutSine:t=>Math.sin(t*Zo),easeInOutSine:t=>-.5*(Math.cos(li*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ub(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ub(t)?t:d4(t,.075,.3),easeOutElastic:t=>Ub(t)?t:p4(t,.075,.3),easeInOutElastic(t){return Ub(t)?t:t<.5?.5*d4(t*2,.1125,.45):.5+.5*p4(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wg.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wg.easeInBounce(t*2)*.5:Wg.easeOutBounce(t*2-1)*.5+.5};function $B(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function m4(t){return $B(t)?t:new y7(t)}function ET(t){return $B(t)?t:new y7(t).saturate(.5).darken(.1).hexString()}const Ame=["x","y","borderWidth","radius","tension"],Mme=["color","borderColor","backgroundColor"];function Eme(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Mme},numbers:{type:"number",properties:Ame}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Tme(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const g4=new Map;function Cme(t,e){e=e||{};const n=t+JSON.stringify(e);let r=g4.get(n);return r||(r=new Intl.NumberFormat(t,e),g4.set(n,r)),r}function M7(t,e,n){return Cme(e,n).format(t)}const Pme={values(t){return Wr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=Rme(t,n)}const o=b7(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),M7(t,r,l)}};function Rme(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var E7={formatters:Pme};function Ome(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:E7.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Wf=Object.create(null),w2=Object.create(null);function $g(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function TT(t,e,n){return typeof e=="string"?zv($g(t,e),n):zv($g(t,""),e)}class Ime{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>ET(i.backgroundColor),this.hoverBorderColor=(r,i)=>ET(i.borderColor),this.hoverColor=(r,i)=>ET(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return TT(this,e,n)}get(e){return $g(this,e)}describe(e,n){return TT(w2,e,n)}override(e,n){return TT(Wf,e,n)}route(e,n,r,i){const s=$g(this,e),o=$g(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return vn(l)?Object.assign({},c,l):dn(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Or=new Ime({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Eme,Tme,Ome]);function Bme(t){return!t||Wn(t.size)||Wn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function v4(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Du(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function y4(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function S2(t,e,n,r){T7(t,e,n,r,null)}function T7(t,e,n,r,i){let s,o,a,l,c,u,f,h;const d=e.pointStyle,m=e.rotation,x=e.radius;let y=(m||0)*ame;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),d){default:i?t.ellipse(n,r,i/2,x,0,0,na):t.arc(n,r,x,0,na),t.closePath();break;case"triangle":u=i?i/2:x,t.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*x),y+=c4,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*x),y+=c4,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*x),t.closePath();break;case"rectRounded":c=x*.516,l=x-c,o=Math.cos(y+Bu)*l,f=Math.cos(y+Bu)*(i?i/2-c:l),a=Math.sin(y+Bu)*l,h=Math.sin(y+Bu)*(i?i/2-c:l),t.arc(n-f,r-a,c,y-li,y-Zo),t.arc(n+h,r-o,c,y-Zo,y),t.arc(n+f,r+a,c,y,y+Zo),t.arc(n-h,r+o,c,y+Zo,y+li),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*x,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}y+=Bu;case"rectRot":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":y+=Bu;case"cross":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),y+=Bu,f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,a=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(y)*x,a=Math.sin(y)*x,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:x),r+Math.sin(y)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Gv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function jS(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zS(t){t.restore()}function Dme(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Lme(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Nme(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function kme(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Fme(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Vv(t,e,n,r,i,s={}){const o=Wr(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Nme(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Fme(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Wn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),kme(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function A2(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*li,li,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,li,Zo,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Zo,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Zo,!0),t.lineTo(n+o.topLeft,r)}const Ume=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jme=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zme(t,e){const n=(""+t).match(Ume);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Hme=t=>+t||0;function C7(t,e){const n={},r=vn(e),i=r?Object.keys(e):e,s=vn(t)?r?o=>dn(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Hme(s(o));return n}function Gme(t){return C7(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xg(t){return C7(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ao(t){const e=Gme(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ki(t,e){t=t||{},e=e||Or.font;let n=dn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=dn(t.style,e.style);r&&!(""+r).match(jme)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:dn(t.family,e.family),lineHeight:zme(dn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:dn(t.weight,e.weight),string:""};return i.string=Bme(i),i}function jb(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function Vme(t,e,n){const{min:r,max:i}=t,s=eme(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function sh(t,e){return Object.assign(Object.create(t),e)}function XB(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=I7("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>XB([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return R7(a,l,()=>Zme(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return b4(a).includes(l)},ownKeys(a){return b4(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function lp(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:P7(t,r),setContext:s=>lp(t,s,n,r),override:s=>lp(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return R7(s,o,()=>$me(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function P7(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Jc(n)?n:()=>n,isIndexable:Jc(r)?r:()=>r}}const Wme=(t,e)=>t?t+GB(e):e,KB=(t,e)=>vn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function R7(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function $me(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Jc(a)&&o.isScriptable(e)&&(a=Xme(e,a,t,n)),Wr(a)&&a.length&&(a=Kme(e,a,t,o.isIndexable)),KB(e,a)&&(a=lp(a,i,s&&s[e],o)),a}function Xme(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),KB(t,l)&&(l=YB(i._scopes,i,t,l)),l}function Kme(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(vn(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=YB(c,i,t,u);e.push(lp(f,s,o&&o[t],a))}}return e}function O7(t,e,n){return Jc(t)?t(e,n):t}const Yme=(t,e)=>t===!0?e:typeof t=="string"?R1(e,t):void 0;function Jme(t,e,n,r,i){for(const s of e){const o=Yme(n,s);if(o){t.add(o);const a=O7(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function YB(t,e,n,r){const i=e._rootScopes,s=O7(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=x4(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=x4(a,o,s,l,r),l===null)?!1:XB(Array.from(a),[""],i,s,()=>qme(e,n,r))}function x4(t,e,n,r,i){for(;n;)n=Jme(t,e,n,r,i);return n}function qme(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Wr(i)&&vn(n)?n:i||{}}function Zme(t,e,n,r){let i;for(const s of e)if(i=I7(Wme(s,t),n),typeof i<"u")return KB(t,i)?YB(n,r,t,i):i}function I7(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function b4(t){let e=t._keys;return e||(e=t._keys=Qme(t._scopes)),e}function Qme(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const ege=Number.EPSILON||1e-14,cp=(t,e)=>e<t.length&&!t[e].skip&&t[e],B7=t=>t==="x"?"y":"x";function tge(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=_2(s,i),l=_2(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=r*c,h=r*u;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function nge(t,e,n){const r=t.length;let i,s,o,a,l,c=cp(t,0);for(let u=0;u<r-1;++u)if(l=c,c=cp(t,u+1),!(!l||!c)){if(Vg(e[u],0,ege)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function rge(t,e,n="x"){const r=B7(n),i=t.length;let s,o,a,l=cp(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=cp(t,c+1),!a)continue;const u=a[n],f=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=f-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=f+s*e[c])}}function ige(t,e="x"){const n=B7(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=cp(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=cp(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?ap(i[o-1])!==ap(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}nge(t,i,s),rge(t,s,e)}function zb(t,e,n){return Math.max(Math.min(t,n),e)}function sge(t,e){let n,r,i,s,o,a=Gv(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Gv(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=zb(i.cp1x,e.left,e.right),i.cp1y=zb(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=zb(i.cp2x,e.left,e.right),i.cp2y=zb(i.cp2y,e.top,e.bottom)))}function oge(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")ige(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=tge(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&sge(t,n)}function JB(){return typeof window<"u"&&typeof document<"u"}function qB(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function B1(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const HS=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function age(t,e){return HS(t).getPropertyValue(e)}const lge=["top","right","bottom","left"];function Cf(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=lge[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const cge=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function uge(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(cge(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Vu(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=HS(n),s=i.boxSizing==="border-box",o=Cf(i,"padding"),a=Cf(i,"border","width"),{x:l,y:c,box:u}=uge(t,n),f=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:d,height:m}=e;return s&&(d-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-f)/d*n.width/r),y:Math.round((c-h)/m*n.height/r)}}function fge(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&qB(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=HS(s),l=Cf(a,"border","width"),c=Cf(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=B1(a.maxWidth,s,"clientWidth"),i=B1(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||I1,maxHeight:i||I1}}const Hb=t=>Math.round(t*10)/10;function hge(t,e,n,r){const i=HS(t),s=Cf(i,"margin"),o=B1(i.maxWidth,t,"clientWidth")||I1,a=B1(i.maxHeight,t,"clientHeight")||I1,l=fge(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Cf(i,"border","width"),d=Cf(i,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Hb(Math.min(c,o,l.maxWidth)),u=Hb(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Hb(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Hb(Math.floor(u*r))),{width:c,height:u}}function _4(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const dge=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};JB()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function w4(t,e){const n=age(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Wu(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function pge(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function mge(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Wu(t,i,n),a=Wu(i,s,n),l=Wu(s,e,n),c=Wu(o,a,n),u=Wu(a,l,n);return Wu(c,u,n)}const gge=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},vge=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zd(t,e,n){return t?gge(e,n):vge()}function D7(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function L7(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function N7(t){return t==="angle"?{between:_7,compare:pme,normalize:Sa}:{between:_d,compare:(e,n)=>e-n,normalize:e=>e}}function S4({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function yge(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=N7(r),l=e.length;let{start:c,end:u,loop:f}=t,h,d;if(f){for(c+=l,u+=l,h=0,d=l;h<d&&o(a(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function k7(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=N7(r),{start:u,end:f,loop:h,style:d}=yge(t,e,n),m=[];let x=!1,y=null,v,b,_;const M=()=>l(i,_,v)&&a(i,_)!==0,w=()=>a(s,v)===0||l(s,_,v),A=()=>x||M(),E=()=>!x||w();for(let C=u,L=u;C<=f;++C)b=e[C%o],!b.skip&&(v=c(b[r]),v!==_&&(x=l(v,i,s),y===null&&A()&&(y=a(v,i)===0?C:L),y!==null&&E()&&(m.push(S4({start:y,end:C,loop:h,count:o,style:d})),y=null),L=C,_=v));return y!==null&&m.push(S4({start:y,end:f,loop:h,count:o,style:d})),m}function F7(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=k7(r[i],t.points,e);s.length&&n.push(...s)}return n}function xge(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function bge(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function _ge(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=xge(n,i,s,r);if(r===!0)return A4(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return A4(t,bge(n,o,l,c),n,e)}function A4(t,e,n,r){return!r||!r.setContext||!n?e:wge(t,e,n,r)}function wge(t,e,n,r){const i=t._chart.getContext(),s=M4(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,f=e[0].start,h=f;function d(m,x,y,v){const b=a?-1:1;if(m!==x){for(m+=l;n[m%l].skip;)m-=b;for(;n[x%l].skip;)x+=b;m%l!==x%l&&(c.push({start:m%l,end:x%l,loop:y,style:v}),u=v,f=x%l)}}for(const m of e){f=a?f:m.start;let x=n[f%l],y;for(h=f+1;h<=m.end;h++){const v=n[h%l];y=M4(r.setContext(sh(i,{type:"segment",p0:x,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Sge(y,u)&&d(f,h-1,m.loop,u),x=v,u=y}f<h-1&&d(f,h-1,m.loop,u)}return c}function M4(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Sge(t,e){if(!e)return!1;const n=[],r=function(i,s){return $B(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Gb(t,e,n){return t.options.clip?t[n]:e[n]}function Age(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Gb(n,e,"left"),right:Gb(n,e,"right"),top:Gb(r,e,"top"),bottom:Gb(r,e,"bottom")}:e}function U7(t,e){const n=e._clip;if(n.disabled)return!1;const r=Age(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Mge{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=S7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var il=new Mge;const E4="transparent",Ege={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=m4(t||E4),i=r.valid&&m4(e||E4);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Tge{constructor(e,n,r,i){const s=n[r];i=jb([e.to,i,s,e.from]);const o=jb([e.from,s,i]);this._active=!0,this._fn=e.fn||Ege[e.type||typeof o],this._easing=Wg[e.easing]||Wg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=jb([e.to,n,i,e.from]),this._from=jb([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class j7{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!vn(e))return;const n=Object.keys(Or.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!vn(s))return;const o={};for(const a of n)o[a]=s[a];(Wr(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=Pge(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Cge(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let f=s[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=f=new Tge(h,e,c,u),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return il.add(this._chart,r),!0}}function Cge(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Pge(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function T4(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Rge(t,e,n){if(n===!1)return!1;const r=T4(t,n),i=T4(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Oge(t){let e,n,r,i;return vn(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function z7(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function C4(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ji(c)&&(s||e===0||ap(e)===ap(c))&&(e+=c)}return!u&&!r.all?0:e}function Ige(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function CT(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Bge(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Dge(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Lge(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function P4(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function R4(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Bge(s,o,r),f=e.length;let h;for(let d=0;d<f;++d){const m=e[d],{[l]:x,[c]:y}=m,v=m._stacks||(m._stacks={});h=v[c]=Lge(i,u,x),h[a]=y,h._top=P4(h,o,!0,r.type),h._bottom=P4(h,o,!1,r.type);const b=h._visualValues||(h._visualValues={});b[a]=y}}function PT(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Nge(t,e){return sh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kge(t,e,n){return sh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function tg(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const RT=t=>t==="reset"||t==="none",O4=(t,e)=>e?t:Object.assign({},t),Fge=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:z7(n,!0),values:null};class Kg{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=CT(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&tg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,d,m)=>f==="x"?h:f==="r"?m:d,s=n.xAxisID=dn(r.xAxisID,PT(e,"x")),o=n.yAxisID=dn(r.yAxisID,PT(e,"y")),a=n.rAxisID=dn(r.rAxisID,PT(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&h4(this._data,this),e._stacked&&tg(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(vn(n)){const i=this._cachedMeta;this._data=Ige(n,i)}else if(r!==n){if(r){h4(r,this);const i=this._cachedMeta;tg(i),i._parsed=[]}n&&Object.isExtensible(n)&&yme(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=CT(n.vScale,n),n.stack!==r.stack&&(i=!0,tg(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(R4(this,n._parsed),n._stacked=CT(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Wr(i[e])?h=this.parseArrayData(r,i,e,n):vn(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const d=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=f=h[u],l&&(d()&&(l=!1),c=f);r._sorted=l}o&&R4(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,f=new Array(i);let h,d,m;for(h=0,d=i;h<d;++h)m=h+r,f[h]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return f}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+r,f=n[u],a[l]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,h,d;for(u=0,f=i;u<f;++u)h=u+r,d=n[h],c[u]={x:s.parse(R1(d,a),h),y:o.parse(R1(d,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:z7(i,!0),values:n._stacks[e.axis]._visualValues};return C4(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=C4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Fge(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=Dge(a);let h,d;function m(){d=i[h];const x=d[a.axis];return!ji(d[e.axis])||u>x||f<x}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,e,d,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],ji(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Oge(dn(this.options.clip,Rge(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const f=i[u];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=kge(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Nge(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&O1(r);if(a)return O4(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Or.elements[e]),m=()=>this.getContext(r,i,n),x=c.resolveNamedOptions(h,d,m,f);return x.$shared&&(x.$shared=l,s[o]=Object.freeze(O4(x,l))),x}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,r,n))}const c=new j7(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||RT(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){RT(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!RT(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&tg(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}en(Kg,"defaults",{}),en(Kg,"datasetElementType",null),en(Kg,"dataElementType",null);class N_ extends Kg{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=wme(n,i,o);this._drawStart=a,this._drawCount=l,Sme(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,d=a.axis,{spanGaps:m,segment:x}=this.options,y=Hv(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",b=n+r,_=e.length;let M=n>0&&this.getParsed(n-1);for(let w=0;w<_;++w){const A=e[w],E=v?A:{};if(w<n||w>=b){E.skip=!0;continue}const C=this.getParsed(w),L=Wn(C[d]),P=E[h]=o.getPixelForValue(C[h],w),B=E[d]=s||L?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[d],w);E.skip=isNaN(P)||isNaN(B)||L,E.stop=w>0&&Math.abs(C[h]-M[h])>y,x&&(E.parsed=C,E.raw=c.data[w]),f&&(E.options=u||this.resolveDataElementOptions(w,A.active?"active":i)),v||this.updateElement(A,w,E,i),M=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}en(N_,"id","line"),en(N_,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),en(N_,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Lu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ZB{constructor(e){en(this,"options");this.options=e||{}}static override(e){Object.assign(ZB.prototype,e)}init(){}formats(){return Lu()}parse(){return Lu()}format(){return Lu()}add(){return Lu()}diff(){return Lu()}startOf(){return Lu()}endOf(){return Lu()}}var Uge={_date:ZB};function jge(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?gme:hf;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=c(s,e,n-f),d=c(s,e,n+f);return{lo:h.lo,hi:d.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,d=h.slice(0,u.lo+1).reverse().findIndex(x=>!Wn(x[f.axis]));u.lo-=Math.max(0,d);const m=h.slice(u.hi).findIndex(x=>!Wn(x[f.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function GS(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:f,hi:h}=jge(s[a],e,o,i);for(let d=f;d<=h;++d){const m=u[d];m.skip||r(m,c,d)}}}function zge(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function OT(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||GS(t,n,e,function(a,l,c){!i&&!Gv(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Hge(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=dme(o,{x:e.x,y:e.y});_7(f,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return GS(t,n,e,s),i}function Gge(t,e,n,r,i,s){let o=[];const a=zge(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const d=u.inRange(e.x,e.y,i);if(r&&!d)return;const m=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!d)return;const y=a(e,m);y<l?(o=[{element:u,datasetIndex:f,index:h}],l=y):y===l&&o.push({element:u,datasetIndex:f,index:h})}return GS(t,n,e,c),o}function IT(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?Hge(t,e,n,i):Gge(t,e,n,r,i,s)}function I4(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return GS(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var Vge={modes:{index(t,e,n,r){const i=Vu(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?OT(t,i,s,r,o):IT(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Vu(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?OT(t,i,s,r,o):IT(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Vu(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return OT(t,i,s,r,o)},nearest(t,e,n,r){const i=Vu(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return IT(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Vu(e,t);return I4(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Vu(e,t);return I4(t,i,"y",n.intersect,r)}}};const H7=["left","top","right","bottom"];function ng(t,e){return t.filter(n=>n.pos===e)}function B4(t,e){return t.filter(n=>H7.indexOf(n.pos)===-1&&n.box.axis===e)}function rg(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Wge(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function $ge(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!H7.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Xge(t,e){const n=$ge(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Kge(t){const e=Wge(t),n=rg(e.filter(c=>c.box.fullSize),!0),r=rg(ng(e,"left"),!0),i=rg(ng(e,"right")),s=rg(ng(e,"top"),!0),o=rg(ng(e,"bottom")),a=B4(e,"x"),l=B4(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ng(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function D4(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function G7(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Yge(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!vn(i)){n.size&&(t[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[i]+=n.size}s.getPadding&&G7(o,s.getPadding());const a=Math.max(0,e.outerWidth-D4(o,t,"left","right")),l=Math.max(0,e.outerHeight-D4(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Jge(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function qge(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Mg(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,qge(a.horizontal,e));const{same:f,other:h}=Yge(e,n,a,r);c|=f&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Mg(i,e,n,r)||u}function Vb(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function L4(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,h=c.size||l.height;O1(c.start)&&(o=c.start),l.fullSize?Vb(l,i.left,o,n.outerWidth-i.right-i.left,h):Vb(l,e.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*u,h=c.size||l.width;O1(c.start)&&(s=c.start),l.fullSize?Vb(l,s,i.top,h,n.outerHeight-i.bottom-i.top):Vb(l,s,e.top+c.placed,h,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var go={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ao(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Kge(t.boxes),l=a.vertical,c=a.horizontal;In(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=l.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);G7(h,Ao(r));const d=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),m=Xge(l.concat(c),f);Mg(a.fullSize,d,f,m),Mg(l,d,f,m),Mg(c,d,f,m)&&Mg(l,d,f,m),Jge(d),L4(a.leftAndTop,d,f,m),d.x+=d.w,d.y+=d.h,L4(a.rightAndBottom,d,f,m),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},In(a.chartArea,x=>{const y=x.box;Object.assign(y,t.chartArea),y.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class V7{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Zge extends V7{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const k_="$chartjs",Qge={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},N4=t=>t===null||t==="";function eve(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[k_]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",N4(i)){const s=w4(t,"width");s!==void 0&&(t.width=s)}if(N4(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=w4(t,"height");s!==void 0&&(t.height=s)}return t}const W7=dge?{passive:!0}:!1;function tve(t,e,n){t&&t.addEventListener(e,n,W7)}function nve(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,W7)}function rve(t,e){const n=Qge[t.type]||t.type,{x:r,y:i}=Vu(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function D1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ive(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||D1(a.addedNodes,r),o=o&&!D1(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function sve(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||D1(a.removedNodes,r),o=o&&!D1(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Wv=new Map;let k4=0;function $7(){const t=window.devicePixelRatio;t!==k4&&(k4=t,Wv.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ove(t,e){Wv.size||window.addEventListener("resize",$7),Wv.set(t,e)}function ave(t){Wv.delete(t),Wv.size||window.removeEventListener("resize",$7)}function lve(t,e,n){const r=t.canvas,i=r&&qB(r);if(!i)return;const s=A7((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),ove(t,s),o}function BT(t,e,n){n&&n.disconnect(),e==="resize"&&ave(t)}function cve(t,e,n){const r=t.canvas,i=A7(s=>{t.ctx!==null&&n(rve(s,t))},t);return tve(r,e,i),i}class uve extends V7{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(eve(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[k_])return!1;const r=n[k_].initial;["height","width"].forEach(s=>{const o=r[s];Wn(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[k_],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:ive,detach:sve,resize:lve}[n]||cve;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:BT,detach:BT,resize:BT}[n]||nve)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return hge(e,n,r,i)}isAttached(e){const n=e&&qB(e);return!!(n&&n.isConnected)}}function fve(t){return!JB()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Zge:uve}var p_;let oh=(p_=class{constructor(){en(this,"x");en(this,"y");en(this,"active",!1);en(this,"options");en(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Hv(this.x)&&Hv(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},en(p_,"defaults",{}),en(p_,"defaultRoutes"),p_);function hve(t,e){const n=t.options.ticks,r=dve(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?mve(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return gve(e,c,s,o/i),c;const u=pve(s,e,i);if(o>0){let f,h;const d=o>1?Math.round((l-a)/(o-1)):null;for(Wb(e,c,u,Wn(d)?0:a-d,a),f=0,h=o-1;f<h;f++)Wb(e,c,u,s[f],s[f+1]);return Wb(e,c,u,l,Wn(d)?e.length:l+d),c}return Wb(e,c,u),c}function dve(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function pve(t,e,n){const r=vve(t),i=e.length/n;if(!r)return Math.max(i,1);const s=lme(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function mve(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function gve(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Wb(t,e,n,r,i){const s=dn(r,0),o=Math.min(dn(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function vve(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const yve=t=>t==="left"?"right":t==="right"?"left":t,F4=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,U4=(t,e)=>Math.min(e||t,t);function j4(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function xve(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function bve(t,e){In(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ig(t){return t.drawTicks?t.tickLength:0}function z4(t,e){if(!t.display)return 0;const n=ki(t.font,e),r=Ao(t.padding);return(Wr(t.text)?t.text.length:1)*n.lineHeight+r.height}function _ve(t,e){return sh(t,{scale:e,type:"scale"})}function wve(t,e,n){return sh(t,{tick:n,index:e,type:"tick"})}function Sve(t,e,n){let r=WB(t);return(n&&e!=="right"||!n&&e==="right")&&(r=yve(r)),r}function Ave(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,d,m;const x=o-i,y=a-s;if(t.isHorizontal()){if(d=Ri(r,s,a),vn(n)){const v=Object.keys(n)[0],b=n[v];m=u[v].getPixelForValue(b)+x-e}else n==="center"?m=(c.bottom+c.top)/2+x-e:m=F4(t,n,e);h=a-s}else{if(vn(n)){const v=Object.keys(n)[0],b=n[v];d=u[v].getPixelForValue(b)-y+e}else n==="center"?d=(c.left+c.right)/2-y+e:d=F4(t,n,e);m=Ri(r,o,i),f=n==="left"?-Zo:Zo}return{titleX:d,titleY:m,maxWidth:h,rotation:f}}class Gp extends oh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=ya(e,Number.POSITIVE_INFINITY),n=ya(n,Number.NEGATIVE_INFINITY),r=ya(r,Number.POSITIVE_INFINITY),i=ya(i,Number.NEGATIVE_INFINITY),{min:ya(e,r),max:ya(n,i),minDefined:ji(e),maxDefined:ji(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ya(n,ya(r,n)),max:ya(r,ya(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Vme(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?j4(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hve(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jn(this.options.afterUpdate,[this])}beforeSetDimensions(){Jn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Jn(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Jn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=U4(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,d=mo(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:d/(r-1),f+6>a&&(a=d/(r-(e.offset?.5:1)),l=this.maxHeight-ig(e.grid)-n.padding-z4(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=hme(Math.min(Math.asin(mo((u.highest.height+6)/a,-1,1)),Math.asin(mo(l/c,-1,1))-Math.asin(mo(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Jn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=z4(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ig(s)+l):(e.height=this.maxHeight,e.width=ig(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),d=r.padding*2,m=ff(this.labelRotation),x=Math.cos(m),y=Math.sin(m);if(a){const v=r.mirror?0:y*f.width+x*h.height;e.height=Math.min(this.maxHeight,e.height+v+d)}else{const v=r.mirror?0:x*f.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+v+d)}this._calculatePadding(c,u,y,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;l?c?(h=i*e.width,d=r*n.height):(h=r*e.height,d=i*n.width):s==="start"?d=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,d=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;s==="start"?(u=0,f=e.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Wn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=j4(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/U4(n,r));let c=0,u=0,f,h,d,m,x,y,v,b,_,M,w;for(f=0;f<n;f+=l){if(m=e[f].label,x=this._resolveTickFontOptions(f),i.font=y=x.string,v=s[y]=s[y]||{data:{},gc:[]},b=x.lineHeight,_=M=0,!Wn(m)&&!Wr(m))_=v4(i,v.data,v.gc,_,m),M=b;else if(Wr(m))for(h=0,d=m.length;h<d;++h)w=m[h],!Wn(w)&&!Wr(w)&&(_=v4(i,v.data,v.gc,_,w),M+=b);o.push(_),a.push(M),c=Math.max(_,c),u=Math.max(M,u)}bve(s,n);const A=o.indexOf(c),E=a.indexOf(u),C=L=>({width:o[L]||0,height:a[L]||0});return{first:C(0),last:C(n-1),widest:C(A),highest:C(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return mme(this._alignToPixels?Du(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=wve(this.getContext(),e,r))}return this.$context||(this.$context=_ve(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ff(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=ig(s),d=[],m=a.setContext(this.getContext()),x=m.display?m.width:0,y=x/2,v=function(Y){return Du(r,Y,x)};let b,_,M,w,A,E,C,L,P,B,H,q;if(o==="top")b=v(this.bottom),E=this.bottom-h,L=b-y,B=v(e.top)+y,q=e.bottom;else if(o==="bottom")b=v(this.top),B=e.top,q=v(e.bottom)-y,E=b+y,L=this.top+h;else if(o==="left")b=v(this.right),A=this.right-h,C=b-y,P=v(e.left)+y,H=e.right;else if(o==="right")b=v(this.left),P=e.left,H=v(e.right)-y,A=b+y,C=this.left+h;else if(n==="x"){if(o==="center")b=v((e.top+e.bottom)/2+.5);else if(vn(o)){const Y=Object.keys(o)[0],ie=o[Y];b=v(this.chart.scales[Y].getPixelForValue(ie))}B=e.top,q=e.bottom,E=b+y,L=E+h}else if(n==="y"){if(o==="center")b=v((e.left+e.right)/2);else if(vn(o)){const Y=Object.keys(o)[0],ie=o[Y];b=v(this.chart.scales[Y].getPixelForValue(ie))}A=b-y,C=A-h,P=e.left,H=e.right}const z=dn(i.ticks.maxTicksLimit,f),K=Math.max(1,Math.ceil(f/z));for(_=0;_<f;_+=K){const Y=this.getContext(_),ie=s.setContext(Y),G=a.setContext(Y),J=ie.lineWidth,te=ie.color,re=G.dash||[],fe=G.dashOffset,we=ie.tickWidth,pe=ie.tickColor,Ae=ie.tickBorderDash||[],Pe=ie.tickBorderDashOffset;M=xve(this,_,l),M!==void 0&&(w=Du(r,M,J),c?A=C=P=H=w:E=L=B=q=w,d.push({tx1:A,ty1:E,tx2:C,ty2:L,x1:P,y1:B,x2:H,y2:q,width:J,color:te,borderDash:re,borderDashOffset:fe,tickWidth:we,tickColor:pe,tickBorderDash:Ae,tickBorderDashOffset:Pe}))}return this._ticksLength=f,this._borderValue=b,d}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,h=ig(r.grid),d=h+u,m=f?-u:d,x=-ff(this.labelRotation),y=[];let v,b,_,M,w,A,E,C,L,P,B,H,q="middle";if(i==="top")A=this.bottom-m,E=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+m,E=this._getXAxisLabelAlignment();else if(i==="left"){const K=this._getYAxisLabelAlignment(h);E=K.textAlign,w=K.x}else if(i==="right"){const K=this._getYAxisLabelAlignment(h);E=K.textAlign,w=K.x}else if(n==="x"){if(i==="center")A=(e.top+e.bottom)/2+d;else if(vn(i)){const K=Object.keys(i)[0],Y=i[K];A=this.chart.scales[K].getPixelForValue(Y)+d}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-d;else if(vn(i)){const K=Object.keys(i)[0],Y=i[K];w=this.chart.scales[K].getPixelForValue(Y)}E=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const z=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){_=a[v],M=_.label;const K=s.setContext(this.getContext(v));C=this.getPixelForTick(v)+s.labelOffset,L=this._resolveTickFontOptions(v),P=L.lineHeight,B=Wr(M)?M.length:1;const Y=B/2,ie=K.color,G=K.textStrokeColor,J=K.textStrokeWidth;let te=E;o?(w=C,E==="inner"&&(v===b-1?te=this.options.reverse?"left":"right":v===0?te=this.options.reverse?"right":"left":te="center"),i==="top"?c==="near"||x!==0?H=-B*P+P/2:c==="center"?H=-z.highest.height/2-Y*P+P:H=-z.highest.height+P/2:c==="near"||x!==0?H=P/2:c==="center"?H=z.highest.height/2-Y*P:H=z.highest.height-B*P,f&&(H*=-1),x!==0&&!K.showLabelBackdrop&&(w+=P/2*Math.sin(x))):(A=C,H=(1-B)*P/2);let re;if(K.showLabelBackdrop){const fe=Ao(K.backdropPadding),we=z.heights[v],pe=z.widths[v];let Ae=H-fe.top,Pe=0-fe.left;switch(q){case"middle":Ae-=we/2;break;case"bottom":Ae-=we;break}switch(E){case"center":Pe-=pe/2;break;case"right":Pe-=pe;break;case"inner":v===b-1?Pe-=pe:v>0&&(Pe-=pe/2);break}re={left:Pe,top:Ae,width:pe+fe.width,height:we+fe.height,color:K.backdropColor}}y.push({label:M,font:L,textOffset:H,options:{rotation:x,color:ie,strokeColor:G,strokeWidth:J,textAlign:te,textBaseline:q,translation:[w,A],backdrop:re}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ff(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=Du(e,this.left,o)-o/2,u=Du(e,this.right,a)+a/2,f=h=l):(f=Du(e,this.top,o)-o/2,h=Du(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&jS(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Vv(r,c,0,u,l,a)}i&&zS(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ki(r.font),o=Ao(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||vn(n)?(l+=o.bottom,Wr(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=Ave(this,l,n,a);Vv(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:Sve(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=dn(e.grid&&e.grid.z,-1),i=dn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gp.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ki(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $b{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Tve(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Mve(e,o,r),this.override&&Or.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Or[i]&&(delete Or[i][r],this.override&&delete Wf[r])}}function Mve(t,e,n){const r=zv(Object.create(null),[n?Or.get(n):{},Or.get(e),t.defaults]);Or.set(e,r),t.defaultRoutes&&Eve(e,t.defaultRoutes),t.descriptors&&Or.describe(e,t.descriptors)}function Eve(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Or.route(s,i,l,a)})}function Tve(t){return"id"in t&&"defaults"in t}class Cve{constructor(){this.controllers=new $b(Kg,"datasets",!0),this.elements=new $b(oh,"elements"),this.plugins=new $b(Object,"plugins"),this.scales=new $b(Gp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):In(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=GB(e);Jn(r["before"+i],[],r),n[e](r),Jn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var wa=new Cve;class Pve{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Jn(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Wn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=dn(r.options&&r.options.plugins,{}),s=Rve(r);return i===!1&&!n?[]:Ive(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function Rve(t){const e={},n=[],r=Object.keys(wa.plugins.items);for(let s=0;s<r.length;s++)n.push(wa.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Ove(t,e){return!e&&t===!1?null:t===!0?{}:t}function Ive(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Ove(r[l],i);c!==null&&s.push({plugin:a,options:Bve(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Bve(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function M2(t,e){const n=Or.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Dve(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Lve(t,e){return t===e?"_index_":"_value_"}function H4(t){if(t==="x"||t==="y"||t==="r")return t}function Nve(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function E2(t,...e){if(H4(t))return t;for(const n of e){const r=n.axis||Nve(n.position)||t.length>1&&H4(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function G4(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function kve(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return G4(t,"x",n[0])||G4(t,"y",n[0])}return{}}function Fve(t,e){const n=Wf[t.type]||{scales:{}},r=e.scales||{},i=M2(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!vn(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=E2(o,a,kve(o,t),Or.scales[a.type]),c=Lve(l,i),u=n.scales||{};s[o]=Gg(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||M2(a,e),u=(Wf[a]||{}).scales||{};Object.keys(u).forEach(f=>{const h=Dve(f,l),d=o[h+"AxisID"]||h;s[d]=s[d]||Object.create(null),Gg(s[d],[{axis:h},r[d],u[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];Gg(a,[Or.scales[a.type],Or.scale])}),s}function X7(t){const e=t.options||(t.options={});e.plugins=dn(e.plugins,{}),e.scales=Fve(t,e)}function K7(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Uve(t){return t=t||{},t.data=K7(t.data),X7(t),t}const V4=new Map,Y7=new Set;function Xb(t,e){let n=V4.get(t);return n||(n=e(),V4.set(t,n),Y7.add(n)),n}const sg=(t,e,n)=>{const r=R1(e,n);r!==void 0&&t.add(r)};class jve{constructor(e){this._config=Uve(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=K7(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),X7(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xb(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Xb(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Xb(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Xb(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>sg(l,e,f))),u.forEach(f=>sg(l,i,f)),u.forEach(f=>sg(l,Wf[s]||{},f)),u.forEach(f=>sg(l,Or,f)),u.forEach(f=>sg(l,w2,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Y7.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Wf[n]||{},Or.datasets[n]||{},{type:n},Or,w2]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=W4(this._resolverCache,e,i);let l=o;if(Hve(o,n)){s.$shared=!1,r=Jc(r)?r():r;const c=this.createResolver(e,r,a);l=lp(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=W4(this._resolverCache,e,r);return vn(n)?lp(s,n,void 0,i):s}}function W4(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:XB(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const zve=t=>vn(t)&&Object.getOwnPropertyNames(t).some(e=>Jc(t[e]));function Hve(t,e){const{isScriptable:n,isIndexable:r}=P7(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Jc(a)||zve(a))||o&&Wr(a))return!0}return!1}var Gve="4.4.9";const Vve=["top","bottom","left","right","chartArea"];function $4(t,e){return t==="top"||t==="bottom"||Vve.indexOf(t)===-1&&e==="x"}function X4(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function K4(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Jn(n&&n.onComplete,[t],e)}function Wve(t){const e=t.chart,n=e.options.animation;Jn(n&&n.onProgress,[t],e)}function J7(t){return JB()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const F_={},Y4=t=>{const e=J7(t);return Object.values(F_).filter(n=>n.canvas===e).pop()};function $ve(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Xve(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var ac;let VS=(ac=class{static register(...e){wa.add(...e),J4()}static unregister(...e){wa.remove(...e),J4()}constructor(e,n){const r=this.config=new jve(n),i=J7(e),s=Y4(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||fve(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Qpe(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pve,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bme(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],F_[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}il.listen(this,"complete",K4),il.listen(this,"progress",Wve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Wn(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return y4(this.canvas,this.ctx),this}stop(){return il.stop(this),this}resize(e,n){il.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Jn(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};In(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=E2(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),In(s,o=>{const a=o.options,l=a.id,c=E2(l,a),u=dn(a.type,o.dtype);(a.position===void 0||$4(a.position,c)!==$4(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const h=wa.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),In(i,(o,a)=>{o||delete r[a]}),In(r,o=>{go.configure(this,o,o.options),go.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(X4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||M2(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=wa.getController(a),{datasetElementType:c,dataElementType:u}=Or.datasets[a];Object.assign(l,{dataElementType:wa.getElement(u),datasetElementType:c&&wa.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){In(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||In(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(X4("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){In(this.scales,e=>{go.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!l4(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;$ve(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!l4(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;go.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],In(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Jc(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(il.has(this)?this.attached&&!il.running(this)&&il.start(this):(this.draw(),K4({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=U7(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&jS(n,i),e.controller.draw(),i&&zS(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Gv(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=Vge.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=sh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);O1(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),il.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),y4(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete F_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};In(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){In(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},In(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!C1(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=sme(e),c=Xve(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Jn(s.onHover,[e,a,this],this),l&&Jn(s.onClick,[e,a,this],this));const u=!C1(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},en(ac,"defaults",Or),en(ac,"instances",F_),en(ac,"overrides",Wf),en(ac,"registry",wa),en(ac,"version",Gve),en(ac,"getChart",Y4),ac);function J4(){return In(VS.instances,t=>t._plugins.invalidate())}function q7(t,e,n=e){t.lineCap=dn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(dn(n.borderDash,e.borderDash)),t.lineDashOffset=dn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=dn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=dn(n.borderWidth,e.borderWidth),t.strokeStyle=dn(n.borderColor,e.borderColor)}function Kve(t,e,n){t.lineTo(n.x,n.y)}function Yve(t){return t.stepped?Dme:t.tension||t.cubicInterpolationMode==="monotone"?Lme:Kve}function Z7(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function Jve(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=Z7(i,n,r),u=Yve(s);let{move:f=!0,reverse:h}=r||{},d,m,x;for(d=0;d<=c;++d)m=i[(a+(h?c-d:d))%o],!m.skip&&(f?(t.moveTo(m.x,m.y),f=!1):u(t,x,m,h,s.stepped),x=m);return l&&(m=i[(a+(h?c:0))%o],u(t,x,m,h,s.stepped)),!!l}function qve(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=Z7(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,f=0,h,d,m,x,y,v;const b=M=>(o+(c?a-M:M))%s,_=()=>{x!==y&&(t.lineTo(u,y),t.lineTo(u,x),t.lineTo(u,v))};for(l&&(d=i[b(0)],t.moveTo(d.x,d.y)),h=0;h<=a;++h){if(d=i[b(h)],d.skip)continue;const M=d.x,w=d.y,A=M|0;A===m?(w<x?x=w:w>y&&(y=w),u=(f*u+M)/++f):(_(),t.lineTo(M,w),m=A,f=0,x=y=w),v=w}_()}function T2(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?qve:Jve}function Zve(t){return t.stepped?pge:t.tension||t.cubicInterpolationMode==="monotone"?mge:Wu}function Qve(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),q7(t,e.options),t.stroke(i)}function eye(t,e,n,r){const{segments:i,options:s}=e,o=T2(e);for(const a of i)q7(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const tye=typeof Path2D=="function";function nye(t,e,n,r){tye&&!e.options.segment?Qve(t,e,n,r):eye(t,e,n,r)}class Ac extends oh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;oge(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_ge(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=F7(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=Zve(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:h}=o[c],d=s[f],m=s[h];if(d===m){a.push(d);continue}const x=Math.abs((i-d[n])/(m[n]-d[n])),y=l(d,m,x,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return T2(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=T2(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),nye(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}en(Ac,"id","line"),en(Ac,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),en(Ac,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),en(Ac,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function q4(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class U_ extends oh{constructor(n){super();en(this,"parsed");en(this,"skip");en(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return q4(this,n,"x",r)}inYRange(n,r){return q4(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Gv(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,S2(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}en(U_,"id","point"),en(U_,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),en(U_,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rye(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=QB(l,c,i);const u=C2(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const f=F7(e,u);for(const h of f){const d=C2(n,s[h.start],s[h.end],h.loop),m=k7(a,i,d);for(const x of m)o.push({source:x,target:h,start:{[n]:Z4(u,d,"start",Math.max)},end:{[n]:Z4(u,d,"end",Math.min)}})}}return o}function C2(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=Sa(i),s=Sa(s)),{property:t,start:i,end:s}}function iye(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=QB(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function QB(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Z4(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Q7(t,e){let n=[],r=!1;return Wr(t)?(r=!0,n=t):n=iye(t,e),n.length?new Ac({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Q4(t){return t&&t.fill!==!1}function sye(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ji(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function oye(t,e,n){const r=uye(t);if(vn(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ji(i)&&Math.floor(i)===i?aye(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function aye(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function lye(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:vn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function cye(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:vn(t)?r=t.value:r=e.getBaseValue(),r}function uye(t){const e=t.options,n=e.fill;let r=dn(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function fye(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=hye(e,n);a.push(Q7({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)dye(i,o[u],a)}return new Ac({points:i,options:{}})}function hye(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function dye(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=pye(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function pye(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],f=o[u.start][n],h=o[u.end][n];if(_d(i,f,h)){a=i===f,l=i===h;break}}return{first:a,last:l,point:r}}class eX{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:na},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function mye(t){const{chart:e,fill:n,line:r}=t;if(ji(n))return gye(e,n);if(n==="stack")return fye(t);if(n==="shape")return!0;const i=vye(t);return i instanceof eX?i:Q7(i,r)}function gye(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function vye(t){return(t.scale||{}).getPointPositionForValue?xye(t):yye(t)}function yye(t){const{scale:e={},fill:n}=t,r=lye(n,e);if(ji(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function xye(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=cye(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new eX({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function DT(t,e,n){const r=mye(e),{chart:i,index:s,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,f=c.backgroundColor,{above:h=f,below:d=f}=u||{},m=i.getDatasetMeta(s),x=U7(i,m);r&&o.points.length&&(jS(t,n),bye(t,{line:o,target:r,above:h,below:d,area:n,scale:a,axis:l,clip:x}),zS(t))}function bye(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&s!==i&&(e5(t,r,o.top),t5(t,{line:n,target:r,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),e5(t,r,o.bottom)),t5(t,{line:n,target:r,color:s,scale:a,property:c,clip:l}),t.restore()}function e5(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],f=i[QB(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function t5(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,l=rye(n,r,i);for(const{source:c,target:u,start:f,end:h}of l){const{style:{backgroundColor:d=s}={}}=c,m=r!==!0;t.save(),t.fillStyle=d,_ye(t,o,a,m&&C2(i,f,h)),t.beginPath();const x=!!n.pathSegment(t,c);let y;if(m){x?t.closePath():n5(t,r,h,i);const v=!!r.pathSegment(t,u,{move:x,reverse:!0});y=x&&v,y||n5(t,r,f,i)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function _ye(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,c,u,f;s==="x"?(l=o,c=i.top,u=a,f=i.bottom):(l=i.left,c=o,u=i.right,f=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),f=Math.min(f,n.bottom)),t.rect(l,c,u-l,f-c),t.clip()}}function n5(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var wye={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ac&&(l={visible:t.isDatasetVisible(o),index:o,fill:oye(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=sye(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&DT(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;Q4(s)&&DT(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!Q4(r)||n.drawTime!=="beforeDatasetDraw"||DT(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const r5=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Sye=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let i5=class extends oh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Jn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ki(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=r5(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach((m,x)=>{const y=r+n/2+s.measureText(m.text).width;(x===0||c[c.length-1]+y+2*a>o)&&(f+=u,c[c.length-(x>0?0:1)]=0,d+=u,h++),l[x]={left:0,top:d,row:h,width:y,height:i},c[c.length-1]+=y+a}),f}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let f=a,h=0,d=0,m=0,x=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:b,itemHeight:_}=Aye(r,n,s,y,i);v>0&&d+_+2*a>u&&(f+=h+a,c.push({width:h,height:d}),m+=h+a,x++,h=d=0),l[v]={left:m,top:d,col:x,width:b,height:_},h=Math.max(h,b),d+=_+a}),f+=h,c.push({width:h,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=zd(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ri(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ri(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Ri(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ri(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jS(e,this),this._draw(),zS(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Or.color,l=zd(e.rtl,this.left,this.width),c=ki(o.font),{padding:u}=o,f=c.size,h=f/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:x,itemHeight:y}=r5(o,f),v=function(A,E,C){if(isNaN(m)||m<=0||isNaN(x)||x<0)return;i.save();const L=dn(C.lineWidth,1);if(i.fillStyle=dn(C.fillStyle,a),i.lineCap=dn(C.lineCap,"butt"),i.lineDashOffset=dn(C.lineDashOffset,0),i.lineJoin=dn(C.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=dn(C.strokeStyle,a),i.setLineDash(dn(C.lineDash,[])),o.usePointStyle){const P={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:L},B=l.xPlus(A,m/2),H=E+h;T7(i,P,B,H,o.pointStyleWidth&&m)}else{const P=E+Math.max((f-x)/2,0),B=l.leftForLtr(A,m),H=Xg(C.borderRadius);i.beginPath(),Object.values(H).some(q=>q!==0)?A2(i,{x:B,y:P,w:m,h:x,radius:H}):i.rect(B,P,m,x),i.fill(),L!==0&&i.stroke()}i.restore()},b=function(A,E,C){Vv(i,C.text,A,E+y/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},_=this.isHorizontal(),M=this._computeTitleHeight();_?d={x:Ri(s,this.left+u,this.right-r[0]),y:this.top+u+M,line:0}:d={x:this.left+u,y:Ri(s,this.top+M+u,this.bottom-n[0].height),line:0},D7(this.ctx,e.textDirection);const w=y+u;this.legendItems.forEach((A,E)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const C=i.measureText(A.text).width,L=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),P=m+h+C;let B=d.x,H=d.y;l.setWidth(this.width),_?E>0&&B+P+u>this.right&&(H=d.y+=w,d.line++,B=d.x=Ri(s,this.left+u,this.right-r[d.line])):E>0&&H+w>this.bottom&&(B=d.x=B+n[d.line].width+u,d.line++,H=d.y=Ri(s,this.top+M+u,this.bottom-n[d.line].height));const q=l.x(B);if(v(q,H,A),B=_me(L,B+m+h,_?B+P:this.right,e.rtl),b(l.x(B),H,A),_)d.x+=P+u;else if(typeof A.text!="string"){const z=c.lineHeight;d.y+=tX(A,z)+u}else d.y+=w}),L7(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ki(n.font),i=Ao(n.padding);if(!n.display)return;const s=zd(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Ri(e.align,f,this.right-h);else{const m=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);u=c+Ri(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const d=Ri(a,f,f+h);o.textAlign=s.textAlign(WB(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Vv(o,n.text,d,u,r)}_computeTitleHeight(){const e=this.options.title,n=ki(e.font),r=Ao(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(_d(e,this.left,this.right)&&_d(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],_d(e,i.left,i.left+i.width)&&_d(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Tye(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Sye(i,r);i&&!s&&Jn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Jn(n.onHover,[e,r,this],this)}else r&&Jn(n.onClick,[e,r,this],this)}};function Aye(t,e,n,r,i){const s=Mye(r,t,e,n),o=Eye(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Mye(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function Eye(t,e,n){let r=t;return typeof e.text!="string"&&(r=tX(e,n)),r}function tX(t,e){const n=t.text?t.text.length:0;return e*n}function Tye(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Cye={id:"legend",_element:i5,start(t,e,n){const r=t.legend=new i5({ctx:t.ctx,options:n,chart:t});go.configure(t,r,n),go.addBox(t,r)},stop(t){go.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;go.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ao(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class nX extends oh{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Wr(r.text)?r.text.length:1;this._padding=Ao(r.padding);const s=i*ki(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=Ri(a,r,s),f=n+e,c=s-r):(o.position==="left"?(u=r+e,f=Ri(a,i,n),l=li*-.5):(u=s-e,f=Ri(a,n,i),l=li*.5),c=i-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ki(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Vv(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:WB(n.align),textBaseline:"middle",translation:[o,a]})}}function Pye(t,e){const n=new nX({ctx:t.ctx,options:e,chart:t});go.configure(t,n,e),go.addBox(t,n),t.titleBlock=n}var Rye={id:"title",_element:nX,start(t,e,n){Pye(t,n)},stop(t){const e=t.titleBlock;go.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;go.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Eg={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=_2(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ba(t,e){return e&&(Wr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function sl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Oye(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function s5(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ki(e.bodyFont),c=ki(e.titleFont),u=ki(e.footerFont),f=s.length,h=i.length,d=r.length,m=Ao(e.padding);let x=m.height,y=0,v=r.reduce((M,w)=>M+w.before.length+w.lines.length+w.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,f&&(x+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),v){const M=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=d*M+(v-d)*l.lineHeight+(v-1)*e.bodySpacing}h&&(x+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let b=0;const _=function(M){y=Math.max(y,n.measureText(M).width+b)};return n.save(),n.font=c.string,In(t.title,_),n.font=l.string,In(t.beforeBody.concat(t.afterBody),_),b=e.displayColors?o+2+e.boxPadding:0,In(r,M=>{In(M.before,_),In(M.lines,_),In(M.after,_)}),b=0,n.font=u.string,In(t.footer,_),n.restore(),y+=m.width,{width:y,height:x}}function Iye(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Bye(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Dye(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Bye(c,t,e,n)&&(c="center"),c}function o5(t,e,n){const r=n.yAlign||e.yAlign||Iye(t,n);return{xAlign:n.xAlign||e.xAlign||Dye(t,e,n,r),yAlign:r}}function Lye(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Nye(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function a5(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:d}=Xg(o);let m=Lye(e,a);const x=Nye(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+i:a==="right"&&(m+=Math.max(f,d)+i),{x:mo(m,0,r.width-e.width),y:mo(x,0,r.height-e.height)}}function Kb(t,e,n){const r=Ao(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function l5(t){return ba([],sl(t))}function kye(t,e,n){return sh(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function c5(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const rX={beforeTitle:nl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:nl,beforeBody:nl,beforeLabel:nl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Wn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:nl,afterBody:nl,beforeFooter:nl,footer:nl,afterFooter:nl};function ss(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?rX[e].call(n,r):i}var AC;let u5=(AC=class extends oh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new j7(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=kye(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ss(r,"beforeTitle",this,e),s=ss(r,"title",this,e),o=ss(r,"afterTitle",this,e);let a=[];return a=ba(a,sl(i)),a=ba(a,sl(s)),a=ba(a,sl(o)),a}getBeforeBody(e,n){return l5(ss(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return In(e,s=>{const o={before:[],lines:[],after:[]},a=c5(r,s);ba(o.before,sl(ss(a,"beforeLabel",this,s))),ba(o.lines,ss(a,"label",this,s)),ba(o.after,sl(ss(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return l5(ss(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ss(r,"beforeFooter",this,e),s=ss(r,"footer",this,e),o=ss(r,"afterFooter",this,e);let a=[];return a=ba(a,sl(i)),a=ba(a,sl(s)),a=ba(a,sl(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Oye(this.chart,n[l]));return e.filter&&(a=a.filter((u,f,h)=>e.filter(u,f,h,r))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,r))),In(a,u=>{const f=c5(e.callbacks,u);i.push(ss(f,"labelColor",this,u)),s.push(ss(f,"labelPointStyle",this,u)),o.push(ss(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Eg[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=s5(this,r),c=Object.assign({},a,l),u=o5(this.chart,r,c),f=a5(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Xg(a),{x:h,y:d}=e,{width:m,height:x}=n;let y,v,b,_,M,w;return s==="center"?(M=d+x/2,i==="left"?(y=h,v=y-o,_=M+o,w=M-o):(y=h+m,v=y+o,_=M-o,w=M+o),b=y):(i==="left"?v=h+Math.max(l,u)+o:i==="right"?v=h+m-Math.max(c,f)-o:v=this.caretX,s==="top"?(_=d,M=_-o,y=v-o,b=v+o):(_=d+x,M=_+o,y=v+o,b=v-o),w=_),{x1:y,x2:v,x3:b,y1:_,y2:M,y3:w}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=zd(r.rtl,this.x,this.width);for(e.x=Kb(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=ki(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=ki(s.bodyFont),f=Kb(this,"left",s),h=i.x(f),d=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+d;if(s.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,v=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,S2(e,x,y,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,S2(e,x,y,v)}else{e.lineWidth=vn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(h,c),y=i.leftForLtr(i.xPlus(h,1),c-2),v=Xg(o.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,A2(e,{x,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),A2(e,{x:y,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,m,c,l),e.strokeRect(x,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=ki(r.bodyFont);let h=f.lineHeight,d=0;const m=zd(r.rtl,this.x,this.width),x=function(C){n.fillText(C,m.x(e.x+d),e.y+h/2),e.y+=h+s},y=m.textAlign(o);let v,b,_,M,w,A,E;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Kb(this,y,r),n.fillStyle=r.bodyColor,In(this.beforeBody,x),d=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,M=0,A=i.length;M<A;++M){for(v=i[M],b=this.labelTextColors[M],n.fillStyle=b,In(v.before,x),_=v.lines,a&&_.length&&(this._drawColorBox(n,e,M,m,r),h=Math.max(f.lineHeight,l)),w=0,E=_.length;w<E;++w)x(_[w]),h=f.lineHeight;In(v.after,x)}d=0,h=f.lineHeight,In(this.afterBody,x),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=zd(r.rtl,this.x,this.width);for(e.x=Kb(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=ki(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:m}=Xg(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Eg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=s5(this,e),l=Object.assign({},o,this._size),c=o5(n,e,l),u=a5(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Ao(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),D7(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),L7(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!C1(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!C1(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Eg[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}},en(AC,"positioners",Eg),AC);var Fye={id:"tooltip",_element:u5,positioners:Eg,afterInit(t,e,n){n&&(t.tooltip=new u5({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Uye=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function jye(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Uye(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const zye=(t,e)=>t===null?null:mo(Math.round(t),0,e);function f5(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class P2 extends Gp{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Wn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:jye(r,e,dn(n,e),this._addedLabels),zye(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return f5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}en(P2,"id","category"),en(P2,"defaults",{ticks:{callback:f5}});function Hye(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=t,d=s||1,m=u-1,{min:x,max:y}=e,v=!Wn(o),b=!Wn(a),_=!Wn(c),M=(y-x)/(f+1);let w=u4((y-x)/m/d)*d,A,E,C,L;if(w<1e-14&&!v&&!b)return[{value:x},{value:y}];L=Math.ceil(y/w)-Math.floor(x/w),L>m&&(w=u4(L*w/m/d)*d),Wn(l)||(A=Math.pow(10,l),w=Math.ceil(w*A)/A),i==="ticks"?(E=Math.floor(x/w)*w,C=Math.ceil(y/w)*w):(E=x,C=y),v&&b&&s&&ume((a-o)/s,w/1e3)?(L=Math.round(Math.min((a-o)/w,u)),w=(a-o)/L,E=o,C=a):_?(E=v?o:E,C=b?a:C,L=c-1,w=(C-E)/L):(L=(C-E)/w,Vg(L,Math.round(L),w/1e3)?L=Math.round(L):L=Math.ceil(L));const P=Math.max(f4(w),f4(E));A=Math.pow(10,Wn(l)?P:l),E=Math.round(E*A)/A,C=Math.round(C*A)/A;let B=0;for(v&&(h&&E!==o?(n.push({value:o}),E<o&&B++,Vg(Math.round((E+B*w)*A)/A,o,h5(o,M,t))&&B++):E<o&&B++);B<L;++B){const H=Math.round((E+B*w)*A)/A;if(b&&H>a)break;n.push({value:H})}return b&&h&&C!==a?n.length&&Vg(n[n.length-1].value,a,h5(a,M,t))?n[n.length-1].value=a:n.push({value:a}):(!b||C===a)&&n.push({value:C}),n}function h5(t,e,{horizontal:n,minRotation:r}){const i=ff(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Gye extends Gp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Wn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=ap(i),c=ap(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Hye(i,s);return e.bounds==="ticks"&&fme(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return M7(e,this.chart.options.locale,this.options.ticks.format)}}class R2 extends Gye{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ji(e)?e:0,this.max=ji(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ff(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}en(R2,"id","linear"),en(R2,"defaults",{ticks:{callback:E7.formatters.numeric}});const WS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cs=Object.keys(WS);function d5(t,e){return t-e}function p5(t,e){if(Wn(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ji(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Hv(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function m5(t,e,n,r){const i=cs.length;for(let s=cs.indexOf(t);s<i-1;++s){const o=WS[cs[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return cs[s]}return cs[i-1]}function Vye(t,e,n,r,i){for(let s=cs.length-1;s>=cs.indexOf(n);s--){const o=cs[s];if(WS[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return cs[n?cs.indexOf(n):0]}function Wye(t){for(let e=cs.indexOf(t)+1,n=cs.length;e<n;++e)if(WS[cs[e]].common)return cs[e]}function g5(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=VB(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function $ye(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function v5(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:$ye(t,r,i,n)}class L1 extends Gp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Uge._date(e.adapters.date);i.init(n),Gg(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:p5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ji(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ji(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=vme(i,s,o);return this._unit=n.unit||(r.autoSkip?m5(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Vye(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Wye(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),v5(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=mo(n,0,o),r=mo(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||m5(s.minUnit,n,r,this._getLabelCapacity(n)),a=dn(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Hv(l)||l===!0,u={};let f=n,h,d;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<r;h=+e.add(h,a,o),d++)g5(u,h,m);return(h===r||i.bounds==="ticks"||d===1)&&g5(u,h,m),Object.keys(u).sort(d5).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Jn(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],h=r[n],d=c&&f&&h&&h.major;return this._adapter.format(e,i||(d?f:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ff(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,v5(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(p5(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xme(e.sort(d5))}}en(L1,"id","time"),en(L1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yb(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=hf(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=hf(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class y5 extends L1{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yb(n,this.min),this._tableRange=Yb(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Yb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Yb(this._table,r*this._tableRange+this._minPos,!0)}}en(y5,"id","timeseries"),en(y5,"defaults",L1.defaults);const iX="label";function x5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Xye(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function sX(t,e){t.labels=e}function oX(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iX;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Kye(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iX;const n={labels:[],datasets:[]};return sX(n,t.labels),oX(n,t.datasets,e),n}function Yye(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=t,d=U.useRef(null),m=U.useRef(null),x=()=>{d.current&&(m.current=new VS(d.current,{type:o,data:Kye(a,s),options:l&&{...l},plugins:c}),x5(e,m.current))},y=()=>{x5(e,null),m.current&&(m.current.destroy(),m.current=null)};return U.useEffect(()=>{!i&&m.current&&l&&Xye(m.current,l)},[i,l]),U.useEffect(()=>{!i&&m.current&&sX(m.current.config.data,a.labels)},[i,a.labels]),U.useEffect(()=>{!i&&m.current&&a.datasets&&oX(m.current.config.data,a.datasets,s)},[i,a.datasets]),U.useEffect(()=>{m.current&&(i?(y(),setTimeout(x)):m.current.update(f))},[i,l,a.labels,a.datasets,f]),U.useEffect(()=>{m.current&&(y(),setTimeout(x))},[o]),U.useEffect(()=>(x(),()=>y()),[]),me.createElement("canvas",{ref:d,role:"img",height:n,width:r,...h},u)}const Jye=U.forwardRef(Yye);function qye(t,e){return VS.register(e),U.forwardRef((n,r)=>me.createElement(Jye,{...n,ref:r,type:t}))}const Zye=qye("line",N_);VS.register(P2,R2,U_,Ac,Rye,Fye,Cye,wye);const Qye=({pair:t})=>{const e={labels:["2024","2","03 ene '24","00:00:00"],datasets:[{label:"Buy Orders",data:[10,11.5,13,12],fill:!0,backgroundColor:"rgba(45, 212, 191, 0.2)",borderColor:"rgb(45, 212, 191)",tension:.4,pointRadius:0,borderWidth:2},{label:"Sell Orders",data:[9,10.5,11,12.8],fill:!0,backgroundColor:"rgba(147, 51, 234, 0.2)",borderColor:"rgb(147, 51, 234)",tension:.4,pointRadius:0,borderWidth:2}]},n={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"rgb(156, 163, 175)",font:{family:"'Inter', sans-serif",size:12},padding:20,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.8)",titleFont:{family:"'Inter', sans-serif",size:14},bodyFont:{family:"'Inter', sans-serif",size:13},padding:12,cornerRadius:8,displayColors:!1}},scales:{y:{grid:{color:"rgba(156, 163, 175, 0.1)",drawBorder:!1},ticks:{color:"rgb(156, 163, 175)",font:{family:"'Inter', sans-serif"},callback:r=>r.toFixed(2)},min:8,max:14},x:{grid:{display:!1},ticks:{color:"rgb(156, 163, 175)",font:{family:"'Inter', sans-serif"}}}},interaction:{intersect:!1,mode:"index"}};return R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("div",{children:[R.jsxs("h3",{className:"text-lg font-semibold",children:[t," Chart"]}),R.jsx("p",{className:"text-sm text-green-500 font-semibold",children:"24h Change: +5.67%"})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{className:"px-3 py-1 rounded bg-white/5 text-gray-400 text-sm hover:bg-white/10 transition-colors",children:"1H"}),R.jsx("button",{className:"px-3 py-1 rounded bg-white/5 text-gray-400 text-sm hover:bg-white/10 transition-colors",children:"1D"}),R.jsx("button",{className:"px-3 py-1 rounded bg-white/5 text-gray-400 text-sm hover:bg-white/10 transition-colors",children:"1W"})]})]}),R.jsx("div",{className:"flex-1",children:R.jsx(Zye,{options:n,data:e})})]})},e0e=({pair:t})=>{const[e,n]=U.useState("all"),r=[{price:.00234,amount:1250.45,total:2.92553},{price:.00233,amount:850.12,total:1.98078},{price:.00232,amount:1100.78,total:2.55381}],i=[{price:.00235,amount:980.34,total:2.3038},{price:.00236,amount:1500.67,total:3.54158},{price:.00237,amount:750.23,total:1.77805}];return R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsx("h3",{className:"text-lg font-semibold",children:"Order Book"}),R.jsxs("div",{className:"flex bg-[rgba(255,255,255,0.1)] rounded-lg p-1",children:[R.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${e==="all"?"bg-[rgba(255,255,255,0.1)]":"hover:bg-[rgba(255,255,255,0.05)]"}`,onClick:()=>n("all"),children:"All"}),R.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${e==="buy"?"bg-[rgba(255,255,255,0.1)]":"hover:bg-[rgba(255,255,255,0.05)]"}`,onClick:()=>n("buy"),children:"Buy"}),R.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${e==="sell"?"bg-[rgba(255,255,255,0.1)]":"hover:bg-[rgba(255,255,255,0.05)]"}`,onClick:()=>n("sell"),children:"Sell"})]})]}),R.jsxs("div",{className:"flex-1 overflow-hidden",children:[R.jsxs("div",{className:"grid grid-cols-3 gap-4 px-4 py-2 text-sm text-gray-400",children:[R.jsxs("div",{children:["Price (",t.split("/")[1],")"]}),R.jsxs("div",{children:["Amount (",t.split("/")[0],")"]}),R.jsx("div",{children:"Total"})]}),R.jsxs("div",{className:"overflow-y-auto h-[calc(100%-40px)]",children:[(e==="all"||e==="sell")&&R.jsx("div",{className:"space-y-1",children:i.map((s,o)=>R.jsxs("div",{className:"grid grid-cols-3 gap-4 px-4 py-2 text-sm hover:bg-[rgba(255,255,255,0.05)]",children:[R.jsx("div",{className:"text-red-500",children:s.price.toFixed(5)}),R.jsx("div",{children:s.amount.toFixed(2)}),R.jsx("div",{children:s.total.toFixed(5)})]},o))}),e==="all"&&R.jsx("div",{className:"border-y border-[rgba(255,255,255,0.1)] my-2 py-2 px-4",children:R.jsx("div",{className:"text-lg font-semibold",children:"0.00234 USDT"})}),(e==="all"||e==="buy")&&R.jsx("div",{className:"space-y-1",children:r.map((s,o)=>R.jsxs("div",{className:"grid grid-cols-3 gap-4 px-4 py-2 text-sm hover:bg-[rgba(255,255,255,0.05)]",children:[R.jsx("div",{className:"text-green-500",children:s.price.toFixed(5)}),R.jsx("div",{children:s.amount.toFixed(2)}),R.jsx("div",{children:s.total.toFixed(5)})]},o))})]})]})]})},t0e=({pair:t})=>{const[e,n]=U.useState("limit"),[r,i]=U.useState("buy"),[s,o]=U.useState(""),[a,l]=U.useState(""),c=f=>{f.preventDefault(),console.log("Order submitted:",{orderType:e,side:r,price:s,amount:a})},u=()=>!s||!a?"0.00":(parseFloat(s)*parseFloat(a)).toFixed(2);return R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsx("h3",{className:"text-lg font-semibold",children:"Place Order"}),R.jsxs("div",{className:"flex bg-[rgba(255,255,255,0.1)] rounded-lg p-1",children:[R.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${e==="limit"?"bg-[rgba(255,255,255,0.1)]":"hover:bg-[rgba(255,255,255,0.05)]"}`,onClick:()=>n("limit"),children:"Limit"}),R.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${e==="market"?"bg-[rgba(255,255,255,0.1)]":"hover:bg-[rgba(255,255,255,0.05)]"}`,onClick:()=>n("market"),children:"Market"})]})]}),R.jsxs("form",{onSubmit:c,className:"flex-1 flex flex-col",children:[R.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[R.jsx("button",{type:"button",className:`py-2 px-4 rounded-lg font-medium transition-colors ${r==="buy"?"bg-green-500/20 text-green-500":"bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.15)]"}`,onClick:()=>i("buy"),children:"Buy"}),R.jsx("button",{type:"button",className:`py-2 px-4 rounded-lg font-medium transition-colors ${r==="sell"?"bg-red-500/20 text-red-500":"bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.15)]"}`,onClick:()=>i("sell"),children:"Sell"})]}),R.jsxs("div",{className:"space-y-4",children:[e==="limit"&&R.jsxs("div",{children:[R.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Price (",t.split("/")[1],")"]}),R.jsx("input",{type:"number",step:"0.00001",value:s,onChange:f=>o(f.target.value),className:"w-full bg-[rgba(255,255,255,0.1)] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),R.jsxs("div",{children:[R.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Amount (",t.split("/")[0],")"]}),R.jsx("input",{type:"number",step:"0.01",value:a,onChange:f=>l(f.target.value),className:"w-full bg-[rgba(255,255,255,0.1)] rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),e==="limit"&&R.jsxs("div",{children:[R.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Total (",t.split("/")[1],")"]}),R.jsx("div",{className:"w-full bg-[rgba(255,255,255,0.1)] rounded-lg px-4 py-2",children:u()})]})]}),R.jsxs("button",{type:"submit",className:`mt-auto py-3 px-4 rounded-lg font-medium transition-colors ${r==="buy"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:[r==="buy"?"Buy":"Sell"," ",t.split("/")[0]]})]})]})},n0e=({pair:t})=>R.jsxs("div",{className:"w-full p-6 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h2",{className:"text-2xl font-bold text-white",children:"Market Stats"}),R.jsx("p",{className:"text-sm text-green-500 font-semibold",children:"Last updated: Just now"})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"24h High"}),R.jsx("p",{className:"text-green-400 text-xl font-semibold",children:"0.00245 ETH"})]}),R.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"24h Low"}),R.jsx("p",{className:"text-red-400 text-xl font-semibold",children:"0.00225 ETH"})]}),R.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"24h Volume"}),R.jsx("p",{className:"text-white text-xl font-semibold",children:"1,234.56 ETH"}),R.jsx("p",{className:"text-gray-400 text-sm",children:"≈ $2,469,120"})]}),R.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Market Cap"}),R.jsx("p",{className:"text-white text-xl font-semibold",children:"25M RACE"}),R.jsx("p",{className:"text-gray-400 text-sm",children:"≈ $50,000,000"})]})]}),R.jsxs("div",{className:"mt-6 space-y-4",children:[R.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[R.jsxs("div",{className:"flex justify-between items-center mb-2",children:[R.jsx("p",{className:"text-gray-400 text-sm",children:"Price Change (24h)"}),R.jsx("p",{className:"text-green-500 text-sm font-semibold",children:"+5.67%"})]}),R.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:R.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"65%"}})})]}),R.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[R.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Recent Trades"}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("span",{className:"text-green-500",children:"Buy"}),R.jsx("span",{className:"text-white",children:"0.00234 ETH"}),R.jsx("span",{className:"text-gray-400 text-sm",children:"1 min ago"})]}),R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("span",{className:"text-red-500",children:"Sell"}),R.jsx("span",{className:"text-white",children:"0.00236 ETH"}),R.jsx("span",{className:"text-gray-400 text-sm",children:"3 min ago"})]}),R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("span",{className:"text-green-500",children:"Buy"}),R.jsx("span",{className:"text-white",children:"0.00233 ETH"}),R.jsx("span",{className:"text-gray-400 text-sm",children:"5 min ago"})]})]})]})]})]}),r0e=()=>{const[t,e]=U.useState("RACE/ETH");return R.jsx("div",{className:"min-h-screen bg-[#0b1437] text-white p-6",children:R.jsxs("div",{className:"max-w-[1800px] mx-auto",children:[R.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Exchange"}),R.jsx("p",{className:"text-gray-400 mt-2",children:"Trade your RACE tokens"})]}),R.jsx("div",{className:"flex items-center gap-4",children:R.jsxs("select",{value:t,onChange:n=>e(n.target.value),className:"bg-[rgba(0,0,0,0.3)] border border-[#ffffff1a] rounded-xl px-4 py-2 text-white",children:[R.jsx("option",{value:"RACE/ETH",children:"RACE/ETH"}),R.jsx("option",{value:"RACE/USDT",children:"RACE/USDT"})]})})]}),R.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[R.jsx("div",{className:"col-span-12 lg:col-span-8",children:R.jsx("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 shadow-lg h-[500px]",children:R.jsx(Qye,{pair:t})})}),R.jsx("div",{className:"col-span-12 lg:col-span-4",children:R.jsx("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 shadow-lg h-[500px]",children:R.jsx(e0e,{pair:t})})}),R.jsx("div",{className:"col-span-12 lg:col-span-8",children:R.jsx("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 shadow-lg",children:R.jsx(t0e,{pair:t})})}),R.jsx("div",{className:"col-span-12 lg:col-span-4",children:R.jsx(n0e,{pair:t})})]})]})})},i0e=()=>{const t=[{date:"March, 01, 2020",id:"MS-415646",amount:180},{date:"February, 10, 2020",id:"RV-126749",amount:250},{date:"April, 05, 2020",id:"FB-212562",amount:560},{date:"June, 25, 2019",id:"QW-103578",amount:120},{date:"March, 01, 2019",id:"AR-803481",amount:300}],e=[{name:"Oliver Liam",company:"Viking Burrito",email:"oliver@burrito.com",vatNumber:"FRB1235476"},{name:"Lucas Harper",company:"Stone Tech Zone",email:"lucas@stone-tech.com",vatNumber:"FRB1235476"},{name:"Ethan James",company:"Fiber Notion",email:"ethan@fiber.com",vatNumber:"FRB1235476"}],n=[{name:"Netflix",date:"27 March 2021, at 12:30 PM",amount:-2500,status:"negative"},{name:"Apple",date:"27 March 2021, at 12:30 PM",amount:2500,status:"positive"},{name:"Stripe",date:"26 March 2021, at 13:45 PM",amount:800,status:"positive"},{name:"HubSpot",date:"26 March 2021, at 12:30 PM",amount:1700,status:"positive"},{name:"Webflow",date:"26 March 2021, at 05:00 PM",amount:0,status:"pending"},{name:"Microsoft",date:"25 March 2021, at 16:30 PM",amount:-987,status:"negative"}];return R.jsx("div",{className:"min-h-screen bg-[#1B1B3A] text-white p-6",children:R.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[R.jsx("h1",{className:"text-2xl mb-6",children:"Billing"}),R.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[R.jsx("div",{className:"col-span-4 bg-gradient-to-br from-indigo-600 via-indigo-500 to-indigo-700 rounded-2xl p-6",children:R.jsxs("div",{className:"h-full flex flex-col justify-between",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("span",{className:"text-lg font-medium",children:"Vision UI"}),R.jsxs("div",{className:"flex -space-x-3",children:[R.jsx("div",{className:"w-7 h-7 rounded-full bg-white/80"}),R.jsx("div",{className:"w-7 h-7 rounded-full bg-white/40"})]})]}),R.jsxs("div",{children:[R.jsx("div",{className:"font-mono text-xl tracking-widest mb-4",children:"7812 2139 0823 XXXX"}),R.jsxs("div",{className:"flex gap-6",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-xs text-white/60",children:"VALID THRU"}),R.jsx("div",{className:"text-sm",children:"05/24"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-xs text-white/60",children:"CVV"}),R.jsx("div",{className:"text-sm",children:"09X"})]})]})]})]})}),R.jsx("div",{className:"col-span-4 bg-[#111c44] rounded-2xl p-6",children:R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg text-white/80",children:"Credit Balance"}),R.jsx("div",{className:"text-3xl font-bold mt-2",children:"$25,215"})]}),R.jsx("button",{className:"text-2xl text-white/60",children:"•••"})]}),R.jsxs("div",{className:"mt-auto",children:[R.jsx("div",{className:"text-xs text-white/60 mb-3",children:"NEWEST"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:R.jsx("span",{className:"text-emerald-500",children:"$"})}),R.jsxs("div",{className:"flex-1",children:[R.jsx("div",{className:"font-medium",children:"Bill & Taxes"}),R.jsx("div",{className:"text-sm text-white/60",children:"Today, 16:36"})]}),R.jsx("div",{className:"text-red-500",children:"-$154.50"})]})]})]})}),R.jsx("div",{className:"col-span-4 row-span-5 bg-[#111c44] rounded-2xl p-6",children:R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h3",{className:"text-lg font-medium",children:"Invoices"}),R.jsx("button",{className:"px-4 py-2 bg-indigo-600 rounded-xl text-sm",children:"VIEW ALL"})]}),R.jsx("div",{className:"space-y-4 overflow-y-auto flex-grow",children:t.map(r=>R.jsxs("div",{className:"flex items-center justify-between py-3",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-sm",children:r.date}),R.jsxs("div",{className:"text-sm text-white/60",children:["#",r.id]})]}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsxs("span",{children:["$",r.amount]}),R.jsx("button",{className:"px-3 py-1 text-sm hover:bg-white/10 rounded",children:"PDF"})]})]},r.id))})]})}),R.jsx("div",{className:"col-span-4 row-span-3 bg-[#111c44] rounded-2xl p-6",children:R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h3",{className:"text-lg font-medium",children:"Payment Method"}),R.jsx("button",{className:"px-4 py-2 bg-indigo-600 rounded-xl text-sm",children:"ADD A NEW CARD"})]}),R.jsxs("div",{className:"flex flex-col gap-4",children:[R.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1a275b] rounded-xl",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:R.jsx("span",{className:"text-red-500",children:"MC"})}),R.jsx("span",{className:"font-mono",children:"7812 2139 0823 XXXX"})]}),R.jsx("button",{className:"text-white/60 hover:text-white",children:"Edit"})]}),R.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#1a275b] rounded-xl",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:R.jsx("span",{className:"text-blue-500",children:"V"})}),R.jsx("span",{className:"font-mono",children:"7812 2139 0823 XXXX"})]}),R.jsx("button",{className:"text-white/60 hover:text-white",children:"Edit"})]})]})]})})]}),R.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[R.jsxs("div",{className:"col-span-7 bg-[#111C44] rounded-[20px] p-8",children:[R.jsx("h3",{className:"text-xl font-medium mb-6",children:"Billing Information"}),R.jsx("div",{className:"space-y-4",children:e.map((r,i)=>R.jsxs("div",{className:"bg-[#0B1437] rounded-2xl p-6",children:[R.jsxs("div",{className:"flex justify-between items-start mb-4",children:[R.jsx("h4",{className:"text-lg font-medium",children:r.name}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx("button",{className:"text-red-500 flex items-center gap-2",children:R.jsx("span",{className:"text-sm",children:"DELETE"})}),R.jsx("button",{className:"text-white/60 hover:text-white flex items-center gap-2",children:R.jsx("span",{className:"text-sm",children:"EDIT"})})]})]}),R.jsxs("div",{className:"space-y-1 text-sm text-white/60",children:[R.jsxs("p",{children:["Company Name:"," ",R.jsx("span",{className:"text-white/40",children:r.company})]}),R.jsxs("p",{children:["Email Address:"," ",R.jsx("span",{className:"text-white/40",children:r.email})]}),R.jsxs("p",{children:["VAT Number:"," ",R.jsx("span",{className:"text-white/40",children:r.vatNumber})]})]})]},i))})]}),R.jsxs("div",{className:"col-span-5 bg-[#111C44] rounded-[20px] p-8",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsx("h3",{className:"text-xl font-medium",children:"Your Transactions"}),R.jsx("div",{className:"flex items-center gap-2 text-white/60",children:R.jsx("span",{className:"text-sm",children:"23 - 30 March 2021"})})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsx("div",{className:"text-sm text-white/60",children:"NEWEST"}),n.map((r,i)=>R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center
                      ${r.status==="positive"?"bg-emerald-500/20":r.status==="negative"?"bg-red-500/20":"bg-gray-500/20"}`,children:R.jsx("span",{className:`text-2xl
                        ${r.status==="positive"?"text-emerald-500":r.status==="negative"?"text-red-500":"text-gray-500"}`,children:r.status==="positive"?"↑":r.status==="negative"?"↓":"!"})}),R.jsxs("div",{children:[R.jsx("div",{className:"font-medium",children:r.name}),R.jsx("div",{className:"text-sm text-white/60",children:r.date})]})]}),R.jsx("div",{className:`text-lg
                    ${r.status==="positive"?"text-emerald-500":r.status==="negative"?"text-red-500":"text-gray-500"}`,children:r.status==="pending"?"Pending":`${r.amount<0?"-":"+"} $${Math.abs(r.amount).toLocaleString()}`})]},i))]})]})]})]})})},aX=U.createContext(void 0),s0e=({children:t})=>{const[e,n]=U.useState(!0);U.useEffect(()=>{const i=localStorage.getItem("theme");if(i)n(i==="dark");else{const a=window.matchMedia("(prefers-color-scheme: dark)").matches;n(a),localStorage.setItem("theme",a?"dark":"light")}const s=window.matchMedia("(prefers-color-scheme: dark)"),o=a=>{n(a.matches),localStorage.setItem("theme",a.matches?"dark":"light")};return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},[]),U.useEffect(()=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);const r=()=>{n(!e)};return R.jsx(aX.Provider,{value:{isDarkMode:e,toggleDarkMode:r},children:t})},lX=()=>{const t=U.useContext(aX);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function o0e({children:t}){const e=$y(),{isDarkMode:n,toggleDarkMode:r}=lX(),[i,s]=U.useState(!1),o=[{name:"Game",path:"/game",subRoutes:[{name:"Race",path:"/game/race",description:"Compete in exciting races with other players"},{name:"Betting",path:"/game/betting",description:"Place your bets on upcoming races"},{name:"Leaderboard",path:"/game/leaderboard",description:"Check the top players rankings"}]},{name:"Shop",path:"/shop",description:"Purchase items and upgrades for your cars"},{name:"Exchange",path:"/exchange",description:"Trade items with other players"},{name:"Profile",path:"/profile",subRoutes:[{name:"Wallet",path:"/profile/wallet",description:"Manage your in-game currency"}]},{name:"Login",path:"/auth?mode=login"},{name:"Register",path:"/auth?mode=register"}],a=o.filter(c=>!["Login","Register"].includes(c.name)),l=o.filter(c=>["Login","Register"].includes(c.name));return R.jsxs("div",{className:"flex flex-col min-h-screen",children:[R.jsx("nav",{className:"bg-white/10 backdrop-blur-lg dark:bg-black/10 fixed w-[97%] mx-auto left-0 right-0 top-5 rounded-[42px] z-50 border border-white/20",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[R.jsxs("div",{className:`flex items-center ${i?"justify-center":"justify-between mx-10"}`,children:[R.jsx("h1",{className:"text-xl font-bold cursor-pointer text-gray-800 dark:text-white",onClick:()=>e("/"),children:R.jsx("img",{src:f7,alt:"Logo",className:"w-14 h-14"})}),R.jsx("div",{className:"hidden md:block flex-1 px-8",children:R.jsx("ul",{className:"flex justify-center space-x-8",children:a.map(c=>R.jsxs("li",{className:"relative group",children:[R.jsx("button",{onClick:()=>e(c.path),className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:c.name}),c.subRoutes&&R.jsx("div",{className:"absolute hidden group-hover:block w-80 left-0 pt-2 z-50",children:R.jsx("div",{className:"bg-white/80 dark:bg-black/80 backdrop-blur-lg rounded-lg shadow-lg ring-1 ring-black/5 dark:ring-white/10",children:R.jsx("div",{className:"p-4",children:c.subRoutes.map(u=>R.jsxs("button",{onClick:()=>e(u.path),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-white/10 rounded-md",children:[R.jsx("div",{className:"font-medium",children:u.name}),u.description&&R.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:u.description})]},u.path))})})})]},c.path))})}),R.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[R.jsx("button",{onClick:r,className:"p-2 rounded-full text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-purple-500","aria-label":"Toggle dark mode",children:n?R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),l.map(c=>R.jsx("button",{onClick:()=>e(c.path),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:c.name},c.path))]}),R.jsx("button",{onClick:()=>s(!i),className:"md:hidden p-2",children:R.jsx("svg",{className:"w-6 h-6 text-gray-700 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),R.jsx("div",{className:`md:hidden ${i?"block":"hidden"} pt-4`,children:R.jsxs("ul",{className:"space-y-2",children:[R.jsx("li",{children:R.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-base font-medium hover:bg-gray-700 rounded-md",children:[n?"Modo Claro":"Modo Oscuro",R.jsx("span",{className:"ml-2",children:n?R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})]})}),o.map(c=>R.jsxs("li",{children:[R.jsx("button",{onClick:()=>{e(c.path),s(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium hover:bg-gray-700 rounded-md",children:c.name}),c.subRoutes&&R.jsx("ul",{className:"pl-4 space-y-2 mt-2",children:c.subRoutes.map(u=>R.jsx("li",{children:R.jsx("button",{onClick:()=>{e(u.path),s(!1)},className:"block w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:u.name})},u.path))})]},c.path))]})})]})}),R.jsx("div",{className:"flex-1 mt-24",children:t})]})}function cX(t,e){return function(){return t.apply(e,arguments)}}const{toString:a0e}=Object.prototype,{getPrototypeOf:eD}=Object,{iterator:$S,toStringTag:uX}=Symbol,XS=(t=>e=>{const n=a0e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),aa=t=>(t=t.toLowerCase(),e=>XS(e)===t),KS=t=>e=>typeof e===t,{isArray:Vp}=Array,$v=KS("undefined");function l0e(t){return t!==null&&!$v(t)&&t.constructor!==null&&!$v(t.constructor)&&vs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fX=aa("ArrayBuffer");function c0e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fX(t.buffer),e}const u0e=KS("string"),vs=KS("function"),hX=KS("number"),YS=t=>t!==null&&typeof t=="object",f0e=t=>t===!0||t===!1,j_=t=>{if(XS(t)!=="object")return!1;const e=eD(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(uX in t)&&!($S in t)},h0e=aa("Date"),d0e=aa("File"),p0e=aa("Blob"),m0e=aa("FileList"),g0e=t=>YS(t)&&vs(t.pipe),v0e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||vs(t.append)&&((e=XS(t))==="formdata"||e==="object"&&vs(t.toString)&&t.toString()==="[object FormData]"))},y0e=aa("URLSearchParams"),[x0e,b0e,_0e,w0e]=["ReadableStream","Request","Response","Headers"].map(aa),S0e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function f0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Vp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function dX(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const df=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,pX=t=>!$v(t)&&t!==df;function O2(){const{caseless:t}=pX(this)&&this||{},e={},n=(r,i)=>{const s=t&&dX(e,i)||i;j_(e[s])&&j_(r)?e[s]=O2(e[s],r):j_(r)?e[s]=O2({},r):Vp(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&f0(arguments[r],n);return e}const A0e=(t,e,n,{allOwnKeys:r}={})=>(f0(e,(i,s)=>{n&&vs(i)?t[s]=cX(i,n):t[s]=i},{allOwnKeys:r}),t),M0e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),E0e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},T0e=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&eD(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},C0e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},P0e=t=>{if(!t)return null;if(Vp(t))return t;let e=t.length;if(!hX(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},R0e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eD(Uint8Array)),O0e=(t,e)=>{const r=(t&&t[$S]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},I0e=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},B0e=aa("HTMLFormElement"),D0e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),b5=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),L0e=aa("RegExp"),mX=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};f0(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},N0e=t=>{mX(t,(e,n)=>{if(vs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(vs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},k0e=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Vp(t)?r(t):r(String(t).split(e)),n},F0e=()=>{},U0e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function j0e(t){return!!(t&&vs(t.append)&&t[uX]==="FormData"&&t[$S])}const z0e=t=>{const e=new Array(10),n=(r,i)=>{if(YS(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Vp(r)?[]:{};return f0(r,(o,a)=>{const l=n(o,i+1);!$v(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},H0e=aa("AsyncFunction"),G0e=t=>t&&(YS(t)||vs(t))&&vs(t.then)&&vs(t.catch),gX=((t,e)=>t?setImmediate:e?((n,r)=>(df.addEventListener("message",({source:i,data:s})=>{i===df&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),df.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vs(df.postMessage)),V0e=typeof queueMicrotask<"u"?queueMicrotask.bind(df):typeof process<"u"&&process.nextTick||gX,W0e=t=>t!=null&&vs(t[$S]),ke={isArray:Vp,isArrayBuffer:fX,isBuffer:l0e,isFormData:v0e,isArrayBufferView:c0e,isString:u0e,isNumber:hX,isBoolean:f0e,isObject:YS,isPlainObject:j_,isReadableStream:x0e,isRequest:b0e,isResponse:_0e,isHeaders:w0e,isUndefined:$v,isDate:h0e,isFile:d0e,isBlob:p0e,isRegExp:L0e,isFunction:vs,isStream:g0e,isURLSearchParams:y0e,isTypedArray:R0e,isFileList:m0e,forEach:f0,merge:O2,extend:A0e,trim:S0e,stripBOM:M0e,inherits:E0e,toFlatObject:T0e,kindOf:XS,kindOfTest:aa,endsWith:C0e,toArray:P0e,forEachEntry:O0e,matchAll:I0e,isHTMLForm:B0e,hasOwnProperty:b5,hasOwnProp:b5,reduceDescriptors:mX,freezeMethods:N0e,toObjectSet:k0e,toCamelCase:D0e,noop:F0e,toFiniteNumber:U0e,findKey:dX,global:df,isContextDefined:pX,isSpecCompliantForm:j0e,toJSONObject:z0e,isAsyncFn:H0e,isThenable:G0e,setImmediate:gX,asap:V0e,isIterable:W0e};function Jt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ke.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const vX=Jt.prototype,yX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yX[t]={value:t}});Object.defineProperties(Jt,yX);Object.defineProperty(vX,"isAxiosError",{value:!0});Jt.from=(t,e,n,r,i,s)=>{const o=Object.create(vX);return ke.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Jt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const $0e=null;var X0e=["buffer","Buffer"];function I2(t){return ke.isPlainObject(t)||ke.isArray(t)}function xX(t){return ke.endsWith(t,"[]")?t.slice(0,-2):t}function _5(t,e,n){return t?t.concat(e).map(function(i,s){return i=xX(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function K0e(t){return ke.isArray(t)&&!t.some(I2)}const Y0e=ke.toFlatObject(ke,{},null,function(e){return/^is[A-Z]/.test(e)});function JS(t,e,n){if(!ke.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ke.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!ke.isUndefined(y[x])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(e);if(!ke.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(ke.isDate(m))return m.toISOString();if(!l&&ke.isBlob(m))throw new Jt("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(m)||ke.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):X0e.from(m):m}function u(m,x,y){let v=m;if(m&&!y&&typeof m=="object"){if(ke.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(ke.isArray(m)&&K0e(m)||(ke.isFileList(m)||ke.endsWith(x,"[]"))&&(v=ke.toArray(m)))return x=xX(x),v.forEach(function(_,M){!(ke.isUndefined(_)||_===null)&&e.append(o===!0?_5([x],M,s):o===null?x:x+"[]",c(_))}),!1}return I2(m)?!0:(e.append(_5(y,x,s),c(m)),!1)}const f=[],h=Object.assign(Y0e,{defaultVisitor:u,convertValue:c,isVisitable:I2});function d(m,x){if(!ke.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),ke.forEach(m,function(v,b){(!(ke.isUndefined(v)||v===null)&&i.call(e,v,ke.isString(b)?b.trim():b,x,h))===!0&&d(v,x?x.concat(b):[b])}),f.pop()}}if(!ke.isObject(t))throw new TypeError("data must be an object");return d(t),e}function w5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function tD(t,e){this._pairs=[],t&&JS(t,this,e)}const bX=tD.prototype;bX.append=function(e,n){this._pairs.push([e,n])};bX.toString=function(e){const n=e?function(r){return e.call(this,r,w5)}:w5;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function J0e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _X(t,e,n){if(!e)return t;const r=n&&n.encode||J0e;ke.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=ke.isURLSearchParams(e)?e.toString():new tD(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class S5{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ke.forEach(this.handlers,function(r){r!==null&&e(r)})}}const wX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q0e=typeof URLSearchParams<"u"?URLSearchParams:tD,Z0e=typeof FormData<"u"?FormData:null,Q0e=typeof Blob<"u"?Blob:null,exe={isBrowser:!0,classes:{URLSearchParams:q0e,FormData:Z0e,Blob:Q0e},protocols:["http","https","file","blob","url","data"]},nD=typeof window<"u"&&typeof document<"u",B2=typeof navigator=="object"&&navigator||void 0,txe=nD&&(!B2||["ReactNative","NativeScript","NS"].indexOf(B2.product)<0),nxe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rxe=nD&&window.location.href||"http://localhost",ixe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nD,hasStandardBrowserEnv:txe,hasStandardBrowserWebWorkerEnv:nxe,navigator:B2,origin:rxe},Symbol.toStringTag,{value:"Module"})),Ni={...ixe,...exe};function sxe(t,e){return JS(t,new Ni.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ni.isNode&&ke.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function oxe(t){return ke.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function axe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function SX(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ke.isArray(i)?i.length:o,l?(ke.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ke.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ke.isArray(i[o])&&(i[o]=axe(i[o])),!a)}if(ke.isFormData(t)&&ke.isFunction(t.entries)){const n={};return ke.forEachEntry(t,(r,i)=>{e(oxe(r),i,n,0)}),n}return null}function lxe(t,e,n){if(ke.isString(t))try{return(e||JSON.parse)(t),ke.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const h0={transitional:wX,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ke.isObject(e);if(s&&ke.isHTMLForm(e)&&(e=new FormData(e)),ke.isFormData(e))return i?JSON.stringify(SX(e)):e;if(ke.isArrayBuffer(e)||ke.isBuffer(e)||ke.isStream(e)||ke.isFile(e)||ke.isBlob(e)||ke.isReadableStream(e))return e;if(ke.isArrayBufferView(e))return e.buffer;if(ke.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sxe(e,this.formSerializer).toString();if((a=ke.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return JS(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),lxe(e)):e}],transformResponse:[function(e){const n=this.transitional||h0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ke.isResponse(e)||ke.isReadableStream(e))return e;if(e&&ke.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Jt.from(a,Jt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ni.classes.FormData,Blob:Ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],t=>{h0.headers[t]={}});const cxe=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uxe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&cxe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},A5=Symbol("internals");function og(t){return t&&String(t).trim().toLowerCase()}function z_(t){return t===!1||t==null?t:ke.isArray(t)?t.map(z_):String(t)}function fxe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hxe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function LT(t,e,n,r,i){if(ke.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ke.isString(e)){if(ke.isString(r))return e.indexOf(r)!==-1;if(ke.isRegExp(r))return r.test(e)}}function dxe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function pxe(t,e){const n=ke.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ys=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=og(l);if(!u)throw new Error("header name must be a non-empty string");const f=ke.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=z_(a))}const o=(a,l)=>ke.forEach(a,(c,u)=>s(c,u,l));if(ke.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ke.isString(e)&&(e=e.trim())&&!hxe(e))o(uxe(e),n);else if(ke.isObject(e)&&ke.isIterable(e)){let a={},l,c;for(const u of e){if(!ke.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?ke.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=og(e),e){const r=ke.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return fxe(i);if(ke.isFunction(n))return n.call(this,i,r);if(ke.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=og(e),e){const r=ke.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||LT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=og(o),o){const a=ke.findKey(r,o);a&&(!n||LT(r,r[a],a,n))&&(delete r[a],i=!0)}}return ke.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||LT(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ke.forEach(this,(i,s)=>{const o=ke.findKey(r,s);if(o){n[o]=z_(i),delete n[s];return}const a=e?dxe(s):String(s).trim();a!==s&&delete n[s],n[a]=z_(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ke.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ke.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[A5]=this[A5]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=og(o);r[a]||(pxe(i,o),r[a]=!0)}return ke.isArray(e)?e.forEach(s):s(e),this}};ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(ys.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ke.freezeMethods(ys);function NT(t,e){const n=this||h0,r=e||n,i=ys.from(r.headers);let s=r.data;return ke.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function AX(t){return!!(t&&t.__CANCEL__)}function Wp(t,e,n){Jt.call(this,t??"canceled",Jt.ERR_CANCELED,e,n),this.name="CanceledError"}ke.inherits(Wp,Jt,{__CANCEL__:!0});function MX(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Jt("Request failed with status code "+n.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mxe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gxe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}function vxe(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const N1=(t,e,n=3)=>{let r=0;const i=gxe(50,250);return vxe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},M5=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},E5=t=>(...e)=>ke.asap(()=>t(...e)),yxe=Ni.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ni.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ni.origin),Ni.navigator&&/(msie|trident)/i.test(Ni.navigator.userAgent)):()=>!0,xxe=Ni.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];ke.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ke.isString(r)&&o.push("path="+r),ke.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bxe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _xe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function EX(t,e,n){let r=!bxe(e);return t&&(r||n==!1)?_xe(t,e):e}const T5=t=>t instanceof ys?{...t}:t;function $f(t,e){e=e||{};const n={};function r(c,u,f,h){return ke.isPlainObject(c)&&ke.isPlainObject(u)?ke.merge.call({caseless:h},c,u):ke.isPlainObject(u)?ke.merge({},u):ke.isArray(u)?u.slice():u}function i(c,u,f,h){if(ke.isUndefined(u)){if(!ke.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function s(c,u){if(!ke.isUndefined(u))return r(void 0,u)}function o(c,u){if(ke.isUndefined(u)){if(!ke.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>i(T5(c),T5(u),f,!0)};return ke.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||i,h=f(t[u],e[u],u);ke.isUndefined(h)&&f!==a||(n[u]=h)}),n}const TX=t=>{const e=$f({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ys.from(o),e.url=_X(EX(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ke.isFormData(n)){if(Ni.hasStandardBrowserEnv||Ni.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ni.hasStandardBrowserEnv&&(r&&ke.isFunction(r)&&(r=r(e)),r||r!==!1&&yxe(e.url))){const c=i&&s&&xxe.read(s);c&&o.set(i,c)}return e},wxe=typeof XMLHttpRequest<"u",Sxe=wxe&&function(t){return new Promise(function(n,r){const i=TX(t);let s=i.data;const o=ys.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,h,d,m;function x(){d&&d(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const _=ys.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:_,config:t,request:y};MX(function(E){n(E),x()},function(E){r(E),x()},w),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new Jt("Request aborted",Jt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Jt("Network Error",Jt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||wX;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new Jt(M,w.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&ke.forEach(o.toJSON(),function(M,w){y.setRequestHeader(w,M)}),ke.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([h,m]=N1(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([f,d]=N1(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",d)),(i.cancelToken||i.signal)&&(u=_=>{y&&(r(!_||_.type?new Wp(null,t,y):_),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=mxe(i.url);if(b&&Ni.protocols.indexOf(b)===-1){r(new Jt("Unsupported protocol "+b+":",Jt.ERR_BAD_REQUEST,t));return}y.send(s||null)})},Axe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Jt?u:new Wp(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new Jt(`timeout ${e} of ms exceeded`,Jt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>ke.asap(a),l}},Mxe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Exe=async function*(t,e){for await(const n of Txe(t))yield*Mxe(n,e)},Txe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},C5=(t,e,n,r)=>{const i=Exe(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let h=s+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},qS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",CX=qS&&typeof ReadableStream=="function",Cxe=qS&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),PX=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Pxe=CX&&PX(()=>{let t=!1;const e=new Request(Ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P5=64*1024,D2=CX&&PX(()=>ke.isReadableStream(new Response("").body)),k1={stream:D2&&(t=>t.body)};qS&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!k1[e]&&(k1[e]=ke.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Jt(`Response type '${e}' is not supported`,Jt.ERR_NOT_SUPPORT,r)})})})(new Response);const Rxe=async t=>{if(t==null)return 0;if(ke.isBlob(t))return t.size;if(ke.isSpecCompliantForm(t))return(await new Request(Ni.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(t)||ke.isArrayBuffer(t))return t.byteLength;if(ke.isURLSearchParams(t)&&(t=t+""),ke.isString(t))return(await Cxe(t)).byteLength},Oxe=async(t,e)=>{const n=ke.toFiniteNumber(t.getContentLength());return n??Rxe(e)},Ixe=qS&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=TX(t);c=c?(c+"").toLowerCase():"text";let d=Axe([i,s&&s.toAbortSignal()],o),m;const x=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let y;try{if(l&&Pxe&&n!=="get"&&n!=="head"&&(y=await Oxe(u,r))!==0){let w=new Request(e,{method:"POST",body:r,duplex:"half"}),A;if(ke.isFormData(r)&&(A=w.headers.get("content-type"))&&u.setContentType(A),w.body){const[E,C]=M5(y,N1(E5(l)));r=C5(w.body,P5,E,C)}}ke.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;m=new Request(e,{...h,signal:d,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?f:void 0});let b=await fetch(m);const _=D2&&(c==="stream"||c==="response");if(D2&&(a||_&&x)){const w={};["status","statusText","headers"].forEach(L=>{w[L]=b[L]});const A=ke.toFiniteNumber(b.headers.get("content-length")),[E,C]=a&&M5(A,N1(E5(a),!0))||[];b=new Response(C5(b.body,P5,E,()=>{C&&C(),x&&x()}),w)}c=c||"text";let M=await k1[ke.findKey(k1,c)||"text"](b,t);return!_&&x&&x(),await new Promise((w,A)=>{MX(w,A,{data:M,headers:ys.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:m})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,t,m),{cause:v.cause||v}):Jt.from(v,v&&v.code,t,m)}}),L2={http:$0e,xhr:Sxe,fetch:Ixe};ke.forEach(L2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const R5=t=>`- ${t}`,Bxe=t=>ke.isFunction(t)||t===null||t===!1,RX={getAdapter:t=>{t=ke.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Bxe(n)&&(r=L2[(o=String(n)).toLowerCase()],r===void 0))throw new Jt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(R5).join(`
`):" "+R5(s[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:L2};function kT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wp(null,t)}function O5(t){return kT(t),t.headers=ys.from(t.headers),t.data=NT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RX.getAdapter(t.adapter||h0.adapter)(t).then(function(r){return kT(t),r.data=NT.call(t,t.transformResponse,r),r.headers=ys.from(r.headers),r},function(r){return AX(r)||(kT(t),r&&r.response&&(r.response.data=NT.call(t,t.transformResponse,r.response),r.response.headers=ys.from(r.response.headers))),Promise.reject(r)})}const OX="1.9.0",ZS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ZS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const I5={};ZS.transitional=function(e,n,r){function i(s,o){return"[Axios v"+OX+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Jt(i(o," has been removed"+(n?" in "+n:"")),Jt.ERR_DEPRECATED);return n&&!I5[o]&&(I5[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};ZS.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Dxe(t,e,n){if(typeof t!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Jt("option "+s+" must be "+l,Jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Jt("Unknown option "+s,Jt.ERR_BAD_OPTION)}}const H_={assertOptions:Dxe,validators:ZS},xa=H_.validators;let Pf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new S5,response:new S5}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=$f(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&H_.assertOptions(r,{silentJSONParsing:xa.transitional(xa.boolean),forcedJSONParsing:xa.transitional(xa.boolean),clarifyTimeoutError:xa.transitional(xa.boolean)},!1),i!=null&&(ke.isFunction(i)?n.paramsSerializer={serialize:i}:H_.assertOptions(i,{encode:xa.function,serialize:xa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),H_.assertOptions(n,{baseUrl:xa.spelling("baseURL"),withXsrfToken:xa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ke.merge(s.common,s[n.method]);s&&ke.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=ys.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let u,f=0,h;if(!l){const m=[O5.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),h=m.length,u=Promise.resolve(n);f<h;)u=u.then(m[f++],m[f++]);return u}h=a.length;let d=n;for(f=0;f<h;){const m=a[f++],x=a[f++];try{d=m(d)}catch(y){x.call(this,y);break}}try{u=O5.call(this,d)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=$f(this.defaults,e);const n=EX(e.baseURL,e.url,e.allowAbsoluteUrls);return _X(n,e.params,e.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(e){Pf.prototype[e]=function(n,r){return this.request($f(r||{},{method:e,url:n,data:(r||{}).data}))}});ke.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request($f(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Pf.prototype[e]=n(),Pf.prototype[e+"Form"]=n(!0)});let Lxe=class IX{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Wp(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new IX(function(i){e=i}),cancel:e}}};function Nxe(t){return function(n){return t.apply(null,n)}}function kxe(t){return ke.isObject(t)&&t.isAxiosError===!0}const N2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(N2).forEach(([t,e])=>{N2[e]=t});function BX(t){const e=new Pf(t),n=cX(Pf.prototype.request,e);return ke.extend(n,Pf.prototype,e,{allOwnKeys:!0}),ke.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return BX($f(t,i))},n}const $n=BX(h0);$n.Axios=Pf;$n.CanceledError=Wp;$n.CancelToken=Lxe;$n.isCancel=AX;$n.VERSION=OX;$n.toFormData=JS;$n.AxiosError=Jt;$n.Cancel=$n.CanceledError;$n.all=function(e){return Promise.all(e)};$n.spread=Nxe;$n.isAxiosError=kxe;$n.mergeConfig=$f;$n.AxiosHeaders=ys;$n.formToJSON=t=>SX(ke.isHTMLForm(t)?new FormData(t):t);$n.getAdapter=RX.getAdapter;$n.HttpStatusCode=N2;$n.default=$n;const{Axios:j9e,AxiosError:z9e,CanceledError:H9e,isCancel:G9e,CancelToken:V9e,VERSION:W9e,all:$9e,Cancel:X9e,isAxiosError:K9e,spread:Y9e,toFormData:J9e,AxiosHeaders:q9e,HttpStatusCode:Z9e,formToJSON:Q9e,getAdapter:eWe,mergeConfig:tWe}=$n,DX=void 0;console.error("VITE_API_URL no está definida en el archivo .env");const QS=$n.create({baseURL:DX,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4});QS.interceptors.request.use(t=>{console.log("Enviando petición a:",t.url);const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>(console.error("Error en la petición:",t),Promise.reject(t)));QS.interceptors.response.use(t=>(console.log("Respuesta recibida:",t.status),t),async t=>{var r,i,s,o;console.error("Error en la respuesta:",{status:(r=t.response)==null?void 0:r.status,data:(i=t.response)==null?void 0:i.data,message:t.message});const e=t.config;((s=t.response)==null?void 0:s.status)===401&&!(e!=null&&e._retry)&&(e._retry=!0,localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/auth?mode=login");const n=((o=t.response)==null?void 0:o.data)||{msg:t.message};return Promise.reject(n)});async function Fxe(t,e){var n,r,i;try{if(console.log("Intentando login con:",{email:t,passwordLength:e.length,requestUrl:`${DX}/auth/login`}),!t||!e)throw new Error("Email y contraseña son requeridos");const s={email:t.trim(),password:e};console.log("Datos de login formateados:",{email:s.email,passwordLength:s.password.length});const o=await QS.post("/auth/login",s);console.log("Respuesta del servidor:",{status:o.status,headers:o.headers,data:o.data});const{token:a,user:l}=o.data;return localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(l)),o.data}catch(s){throw console.error("Error detallado en login:",{error:s,isAxiosError:$n.isAxiosError(s),response:$n.isAxiosError(s)?(n=s.response)==null?void 0:n.data:null,status:$n.isAxiosError(s)?(r=s.response)==null?void 0:r.status:null}),$n.isAxiosError(s)?((i=s.response)==null?void 0:i.data)||{msg:"Error en el servidor"}:s}}async function Uxe(t,e,n,r){var i;try{console.log("Intentando registro con:",{email:e,name:t});const s=await QS.post("/auth/register",{name:t,email:e,password:n,fechaNacimiento:r}),{token:o,user:a}=s.data;return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a)),s.data}catch(s){throw console.error("Error en registro:",s),$n.isAxiosError(s)?((i=s.response)==null?void 0:i.data)||{msg:"Error en el registro"}:s}}const jxe=()=>{const t=$y(),[e]=Cre(),[n,r]=U.useState(!1),[i,s]=U.useState({name:"",email:"",password:"",fechaNacimiento:""}),[o,a]=U.useState(""),[l,c]=U.useState(!1),[u,f]=U.useState(!1);U.useEffect(()=>{const x=e.get("mode");r(x==="register");const y=localStorage.getItem("token");f(!!y)},[e]);const h=x=>{s({...i,[x.target.name]:x.target.value}),a("")},d=async x=>{var b,_,M,w;x.preventDefault(),a(""),c(!0);const y=i.email.trim(),v=i.password.trim();if(!y||!v){a("Email y contraseña son requeridos"),c(!1);return}if(v.length<6){a("La contraseña debe tener al menos 6 caracteres"),c(!1);return}try{if(n){const A=i.name.trim();if(!A){a("El nombre es requerido"),c(!1);return}console.log("Enviando datos de registro:",{name:A,email:y,passwordLength:v.length,fechaNacimiento:i.fechaNacimiento});const E=await Uxe(A,y,v,i.fechaNacimiento);if(console.log("Respuesta del registro:",E),E!=null&&E.token&&(E!=null&&E.user))localStorage.setItem("token",E.token),localStorage.setItem("user",JSON.stringify(E.user)),f(!0),t("/dashboard");else throw new Error("Respuesta inválida del servidor")}else{console.log("Enviando datos de login:",{email:y,passwordLength:v.length});const A=await Fxe(y,v);if(console.log("Respuesta del login:",A),A!=null&&A.token&&(A!=null&&A.user))localStorage.setItem("token",A.token),localStorage.setItem("user",JSON.stringify(A.user)),f(!0),t("/dashboard");else throw new Error("Respuesta inválida del servidor")}}catch(A){console.error("Error completo:",A);const E=A,C=E.msg||E.message||((_=(b=E.response)==null?void 0:b.data)==null?void 0:_.msg)||((w=(M=E.response)==null?void 0:M.data)==null?void 0:w.message)||(n?"Error en el registro":"Error en el inicio de sesión");a(C)}finally{c(!1)}},m=()=>{t(`/auth?mode=${n?"login":"register"}`)};return R.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-gray-900 dark:to-gray-800",children:R.jsxs("div",{className:"relative w-[900px] h-[500px] bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden",children:[R.jsxs("div",{className:"absolute w-1/2 h-full p-10 flex flex-col items-center justify-center bg-white dark:bg-gray-800 z-10",style:{left:n?"50%":"0"},children:[R.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:n?"Create Account":"Sign In"}),R.jsxs("form",{onSubmit:d,className:"w-full max-w-sm flex flex-col gap-4",children:[n&&R.jsx("input",{name:"name",type:"text",placeholder:"Name",value:i.name,onChange:h,required:!0,className:"input-style dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 dark:placeholder-gray-400 focus:dark:border-indigo-500"}),R.jsx("input",{name:"email",type:"email",placeholder:"Email",value:i.email,onChange:h,required:!0,className:"input-style dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 dark:placeholder-gray-400 focus:dark:border-indigo-500"}),R.jsx("input",{name:"password",type:"password",placeholder:"Password",value:i.password,onChange:h,required:!0,className:"input-style dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 dark:placeholder-gray-400 focus:dark:border-indigo-500"}),n&&R.jsx("input",{name:"fechaNacimiento",type:"date",value:i.fechaNacimiento,onChange:h,required:!0,className:"input-style dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 focus:dark:border-indigo-500"}),R.jsx("button",{className:`btn-primary dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:text-white transition-colors duration-200 ${l?"opacity-50 cursor-not-allowed":""}`,type:"submit",disabled:l,children:l?R.jsx("span",{children:"Cargando..."}):n?"Sign Up":"Sign In"})]})]}),R.jsx("div",{className:`absolute top-0 w-1/2 h-full bg-gradient-to-br from-indigo-600 to-purple-700 text-white flex items-center justify-center transition-all duration-700 ${n?"left-0 rounded-r-[150px]":"right-0 rounded-l-[150px]"}`,children:R.jsxs("div",{className:"text-center p-6",children:[R.jsx("h2",{className:"text-3xl font-bold mb-2 text-white",children:n?"Hello, Friend!":"Welcome Back!"}),R.jsx("p",{className:"text-sm mb-4 text-gray-100",children:n?"Start your journey with us today!":"Already have an account? Sign in to continue"}),R.jsx("button",{onClick:m,className:"border-2 border-white px-8 py-2 rounded-full text-white text-sm font-semibold hover:bg-white hover:text-indigo-600 transition-all duration-200",children:n?"Sign In":"Sign Up"})]})}),u&&R.jsx("div",{className:"absolute top-4 right-4 z-20",children:R.jsxs("button",{onClick:()=>t("/dashboard"),className:"group relative inline-flex items-center justify-center px-6 py-3 overflow-hidden font-bold text-white rounded-lg shadow-2xl bg-gradient-to-br from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 transition-all duration-300 hover:scale-105",children:[R.jsx("span",{className:"absolute w-0 h-0 transition-all duration-300 ease-out bg-white rounded-full group-hover:w-32 group-hover:h-32 opacity-10"}),R.jsxs("span",{className:"relative flex items-center",children:["Dashboard",R.jsx("svg",{className:"w-5 h-5 ml-2 transform transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),o&&R.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-red-100 dark:bg-red-900/50 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-2 rounded-lg text-sm z-50 backdrop-blur-sm",children:o})]})})};function LX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LX(t))&&(r&&(r+=" "),r+=e);return r}var zxe=Array.isArray,xs=zxe,Hxe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,NX=Hxe,Gxe=NX,Vxe=typeof self=="object"&&self&&self.Object===Object&&self,Wxe=Gxe||Vxe||Function("return this")(),Ga=Wxe,$xe=Ga,Xxe=$xe.Symbol,d0=Xxe,B5=d0,kX=Object.prototype,Kxe=kX.hasOwnProperty,Yxe=kX.toString,ag=B5?B5.toStringTag:void 0;function Jxe(t){var e=Kxe.call(t,ag),n=t[ag];try{t[ag]=void 0;var r=!0}catch{}var i=Yxe.call(t);return r&&(e?t[ag]=n:delete t[ag]),i}var qxe=Jxe,Zxe=Object.prototype,Qxe=Zxe.toString;function ebe(t){return Qxe.call(t)}var tbe=ebe,D5=d0,nbe=qxe,rbe=tbe,ibe="[object Null]",sbe="[object Undefined]",L5=D5?D5.toStringTag:void 0;function obe(t){return t==null?t===void 0?sbe:ibe:L5&&L5 in Object(t)?nbe(t):rbe(t)}var Ul=obe;function abe(t){return t!=null&&typeof t=="object"}var jl=abe,lbe=Ul,cbe=jl,ube="[object Symbol]";function fbe(t){return typeof t=="symbol"||cbe(t)&&lbe(t)==ube}var $p=fbe,hbe=xs,dbe=$p,pbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mbe=/^\w*$/;function gbe(t,e){if(hbe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||dbe(t)?!0:mbe.test(t)||!pbe.test(t)||e!=null&&t in Object(e)}var rD=gbe;function vbe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var au=vbe;const Xp=Ln(au);var ybe=Ul,xbe=au,bbe="[object AsyncFunction]",_be="[object Function]",wbe="[object GeneratorFunction]",Sbe="[object Proxy]";function Abe(t){if(!xbe(t))return!1;var e=ybe(t);return e==_be||e==wbe||e==bbe||e==Sbe}var iD=Abe;const rn=Ln(iD);var Mbe=Ga,Ebe=Mbe["__core-js_shared__"],Tbe=Ebe,FT=Tbe,N5=function(){var t=/[^.]+$/.exec(FT&&FT.keys&&FT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cbe(t){return!!N5&&N5 in t}var Pbe=Cbe,Rbe=Function.prototype,Obe=Rbe.toString;function Ibe(t){if(t!=null){try{return Obe.call(t)}catch{}try{return t+""}catch{}}return""}var FX=Ibe,Bbe=iD,Dbe=Pbe,Lbe=au,Nbe=FX,kbe=/[\\^$.*+?()[\]{}|]/g,Fbe=/^\[object .+?Constructor\]$/,Ube=Function.prototype,jbe=Object.prototype,zbe=Ube.toString,Hbe=jbe.hasOwnProperty,Gbe=RegExp("^"+zbe.call(Hbe).replace(kbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vbe(t){if(!Lbe(t)||Dbe(t))return!1;var e=Bbe(t)?Gbe:Fbe;return e.test(Nbe(t))}var Wbe=Vbe;function $be(t,e){return t==null?void 0:t[e]}var Xbe=$be,Kbe=Wbe,Ybe=Xbe;function Jbe(t,e){var n=Ybe(t,e);return Kbe(n)?n:void 0}var ah=Jbe,qbe=ah,Zbe=qbe(Object,"create"),eA=Zbe,k5=eA;function Qbe(){this.__data__=k5?k5(null):{},this.size=0}var e_e=Qbe;function t_e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var n_e=t_e,r_e=eA,i_e="__lodash_hash_undefined__",s_e=Object.prototype,o_e=s_e.hasOwnProperty;function a_e(t){var e=this.__data__;if(r_e){var n=e[t];return n===i_e?void 0:n}return o_e.call(e,t)?e[t]:void 0}var l_e=a_e,c_e=eA,u_e=Object.prototype,f_e=u_e.hasOwnProperty;function h_e(t){var e=this.__data__;return c_e?e[t]!==void 0:f_e.call(e,t)}var d_e=h_e,p_e=eA,m_e="__lodash_hash_undefined__";function g_e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=p_e&&e===void 0?m_e:e,this}var v_e=g_e,y_e=e_e,x_e=n_e,b_e=l_e,__e=d_e,w_e=v_e;function Kp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kp.prototype.clear=y_e;Kp.prototype.delete=x_e;Kp.prototype.get=b_e;Kp.prototype.has=__e;Kp.prototype.set=w_e;var S_e=Kp;function A_e(){this.__data__=[],this.size=0}var M_e=A_e;function E_e(t,e){return t===e||t!==t&&e!==e}var sD=E_e,T_e=sD;function C_e(t,e){for(var n=t.length;n--;)if(T_e(t[n][0],e))return n;return-1}var tA=C_e,P_e=tA,R_e=Array.prototype,O_e=R_e.splice;function I_e(t){var e=this.__data__,n=P_e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():O_e.call(e,n,1),--this.size,!0}var B_e=I_e,D_e=tA;function L_e(t){var e=this.__data__,n=D_e(e,t);return n<0?void 0:e[n][1]}var N_e=L_e,k_e=tA;function F_e(t){return k_e(this.__data__,t)>-1}var U_e=F_e,j_e=tA;function z_e(t,e){var n=this.__data__,r=j_e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var H_e=z_e,G_e=M_e,V_e=B_e,W_e=N_e,$_e=U_e,X_e=H_e;function Yp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yp.prototype.clear=G_e;Yp.prototype.delete=V_e;Yp.prototype.get=W_e;Yp.prototype.has=$_e;Yp.prototype.set=X_e;var nA=Yp,K_e=ah,Y_e=Ga,J_e=K_e(Y_e,"Map"),oD=J_e,F5=S_e,q_e=nA,Z_e=oD;function Q_e(){this.size=0,this.__data__={hash:new F5,map:new(Z_e||q_e),string:new F5}}var e1e=Q_e;function t1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var n1e=t1e,r1e=n1e;function i1e(t,e){var n=t.__data__;return r1e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rA=i1e,s1e=rA;function o1e(t){var e=s1e(this,t).delete(t);return this.size-=e?1:0,e}var a1e=o1e,l1e=rA;function c1e(t){return l1e(this,t).get(t)}var u1e=c1e,f1e=rA;function h1e(t){return f1e(this,t).has(t)}var d1e=h1e,p1e=rA;function m1e(t,e){var n=p1e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var g1e=m1e,v1e=e1e,y1e=a1e,x1e=u1e,b1e=d1e,_1e=g1e;function Jp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jp.prototype.clear=v1e;Jp.prototype.delete=y1e;Jp.prototype.get=x1e;Jp.prototype.has=b1e;Jp.prototype.set=_1e;var aD=Jp,UX=aD,w1e="Expected a function";function lD(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(w1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(lD.Cache||UX),n}lD.Cache=UX;var jX=lD;const S1e=Ln(jX);var A1e=jX,M1e=500;function E1e(t){var e=A1e(t,function(r){return n.size===M1e&&n.clear(),r}),n=e.cache;return e}var T1e=E1e,C1e=T1e,P1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R1e=/\\(\\)?/g,O1e=C1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(P1e,function(n,r,i,s){e.push(i?s.replace(R1e,"$1"):r||n)}),e}),I1e=O1e;function B1e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var cD=B1e,U5=d0,D1e=cD,L1e=xs,N1e=$p,j5=U5?U5.prototype:void 0,z5=j5?j5.toString:void 0;function zX(t){if(typeof t=="string")return t;if(L1e(t))return D1e(t,zX)+"";if(N1e(t))return z5?z5.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var k1e=zX,F1e=k1e;function U1e(t){return t==null?"":F1e(t)}var HX=U1e,j1e=xs,z1e=rD,H1e=I1e,G1e=HX;function V1e(t,e){return j1e(t)?t:z1e(t,e)?[t]:H1e(G1e(t))}var GX=V1e,W1e=$p;function $1e(t){if(typeof t=="string"||W1e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var iA=$1e,X1e=GX,K1e=iA;function Y1e(t,e){e=X1e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[K1e(e[n++])];return n&&n==r?t:void 0}var uD=Y1e,J1e=uD;function q1e(t,e,n){var r=t==null?void 0:J1e(t,e);return r===void 0?n:r}var VX=q1e;const xo=Ln(VX);function Z1e(t){return t==null}var Q1e=Z1e;const fn=Ln(Q1e);var ewe=Ul,twe=xs,nwe=jl,rwe="[object String]";function iwe(t){return typeof t=="string"||!twe(t)&&nwe(t)&&ewe(t)==rwe}var swe=iwe;const Xf=Ln(swe);var WX={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD=Symbol.for("react.element"),hD=Symbol.for("react.portal"),sA=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),lA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),owe=Symbol.for("react.server_context"),uA=Symbol.for("react.forward_ref"),fA=Symbol.for("react.suspense"),hA=Symbol.for("react.suspense_list"),dA=Symbol.for("react.memo"),pA=Symbol.for("react.lazy"),awe=Symbol.for("react.offscreen"),$X;$X=Symbol.for("react.module.reference");function To(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case fD:switch(t=t.type,t){case sA:case aA:case oA:case fA:case hA:return t;default:switch(t=t&&t.$$typeof,t){case owe:case cA:case uA:case pA:case dA:case lA:return t;default:return e}}case hD:return e}}}Nn.ContextConsumer=cA;Nn.ContextProvider=lA;Nn.Element=fD;Nn.ForwardRef=uA;Nn.Fragment=sA;Nn.Lazy=pA;Nn.Memo=dA;Nn.Portal=hD;Nn.Profiler=aA;Nn.StrictMode=oA;Nn.Suspense=fA;Nn.SuspenseList=hA;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(t){return To(t)===cA};Nn.isContextProvider=function(t){return To(t)===lA};Nn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fD};Nn.isForwardRef=function(t){return To(t)===uA};Nn.isFragment=function(t){return To(t)===sA};Nn.isLazy=function(t){return To(t)===pA};Nn.isMemo=function(t){return To(t)===dA};Nn.isPortal=function(t){return To(t)===hD};Nn.isProfiler=function(t){return To(t)===aA};Nn.isStrictMode=function(t){return To(t)===oA};Nn.isSuspense=function(t){return To(t)===fA};Nn.isSuspenseList=function(t){return To(t)===hA};Nn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sA||t===aA||t===oA||t===fA||t===hA||t===awe||typeof t=="object"&&t!==null&&(t.$$typeof===pA||t.$$typeof===dA||t.$$typeof===lA||t.$$typeof===cA||t.$$typeof===uA||t.$$typeof===$X||t.getModuleId!==void 0)};Nn.typeOf=To;WX.exports=Nn;var lwe=WX.exports,cwe=Ul,uwe=jl,fwe="[object Number]";function hwe(t){return typeof t=="number"||uwe(t)&&cwe(t)==fwe}var XX=hwe;const dwe=Ln(XX);var pwe=XX;function mwe(t){return pwe(t)&&t!=+t}var gwe=mwe;const p0=Ln(gwe);var Qo=function(e){return e===0?0:e>0?1:-1},pf=function(e){return Xf(e)&&e.indexOf("%")===e.length-1},mt=function(e){return dwe(e)&&!p0(e)},Kr=function(e){return mt(e)||Xf(e)},vwe=0,m0=function(e){var n=++vwe;return"".concat(e||"").concat(n)},Kf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(e)&&!Xf(e))return r;var s;if(pf(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return p0(s)&&(s=r),i&&s>n&&(s=n),s},yc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ywe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Yo=function(e,n){return mt(e)&&mt(n)?function(r){return e+r*(n-e)}:function(){return n}};function F1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):xo(r,e))===n})}var xwe=function(e,n){return mt(e)&&mt(n)?e-n:Xf(e)&&Xf(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Hd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function k2(t){"@babel/helpers - typeof";return k2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k2(t)}var bwe=["viewBox","children"],_we=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],H5=["points","pathLength"],UT={svg:bwe,polygon:H5,polyline:H5},dD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],U1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Xp(r))return null;var i={};return Object.keys(r).forEach(function(s){dD.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},wwe=function(e,n,r){return function(i){return e(n,r,i),null}},j1=function(e,n,r){if(!Xp(e)||k2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];dD.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=wwe(o,n,r))}),i},Swe=["children"],Awe=["children"];function G5(t,e){if(t==null)return{};var n=Mwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F2(t){"@babel/helpers - typeof";return F2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F2(t)}var V5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_l=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},W5=null,jT=null,pD=function t(e){if(e===W5&&Array.isArray(jT))return jT;var n=[];return U.Children.forEach(e,function(r){fn(r)||(lwe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),jT=n,W5=e,n};function bo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return _l(i)}):r=[_l(e)],pD(t).forEach(function(i){var s=xo(i,"type.displayName")||xo(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Ps(t,e){var n=bo(t,e);return n&&n[0]}var $5=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!mt(r)||r<=0||!mt(i)||i<=0)},Ewe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Twe=function(e){return e&&e.type&&Xf(e.type)&&Ewe.indexOf(e.type)>=0},Cwe=function(e){return e&&F2(e)==="object"&&"clipDot"in e},Pwe=function(e,n,r,i){var s,o=(s=UT==null?void 0:UT[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!rn(e)&&(i&&o.includes(n)||_we.includes(n))||r&&dD.includes(n)},pn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Xp(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;Pwe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},U2=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return X5(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!X5(s,o))return!1}return!0},X5=function(e,n){if(fn(e)&&fn(n))return!0;if(!fn(e)&&!fn(n)){var r=e.props||{},i=r.children,s=G5(r,Swe),o=n.props||{},a=o.children,l=G5(o,Awe);return i&&a?Hd(s,l)&&U2(i,a):!i&&!a?Hd(s,l):!1}return!1},K5=function(e,n){var r=[],i={};return pD(e).forEach(function(s,o){if(Twe(s))r.push(s);else if(s){var a=_l(s.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var f=c(s,a,o);r.push(f),i[a]=!0}}}),r},Rwe=function(e){var n=e&&e.type;return n&&V5[n]?V5[n]:null},Owe=function(e,n){return pD(n).indexOf(e)},Iwe=["children","width","height","viewBox","className","style","title","desc"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function Bwe(t,e){if(t==null)return{};var n=Dwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=Bwe(t,Iwe),u=i||{width:n,height:r,x:0,y:0},f=Mn("recharts-surface",s);return me.createElement("svg",j2({},pn(c,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),me.createElement("title",null,a),me.createElement("desc",null,l),e)}var Lwe=["children","className"];function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function Nwe(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rr=me.forwardRef(function(t,e){var n=t.children,r=t.className,i=Nwe(t,Lwe),s=Mn("recharts-layer",r);return me.createElement("g",H2({className:s},pn(i,!0),{ref:e}),n)}),wl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function Fwe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Uwe=Fwe,jwe=Uwe;function zwe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:jwe(t,e,n)}var Hwe=zwe,Gwe="\\ud800-\\udfff",Vwe="\\u0300-\\u036f",Wwe="\\ufe20-\\ufe2f",$we="\\u20d0-\\u20ff",Xwe=Vwe+Wwe+$we,Kwe="\\ufe0e\\ufe0f",Ywe="\\u200d",Jwe=RegExp("["+Ywe+Gwe+Xwe+Kwe+"]");function qwe(t){return Jwe.test(t)}var KX=qwe;function Zwe(t){return t.split("")}var Qwe=Zwe,YX="\\ud800-\\udfff",eSe="\\u0300-\\u036f",tSe="\\ufe20-\\ufe2f",nSe="\\u20d0-\\u20ff",rSe=eSe+tSe+nSe,iSe="\\ufe0e\\ufe0f",sSe="["+YX+"]",G2="["+rSe+"]",V2="\\ud83c[\\udffb-\\udfff]",oSe="(?:"+G2+"|"+V2+")",JX="[^"+YX+"]",qX="(?:\\ud83c[\\udde6-\\uddff]){2}",ZX="[\\ud800-\\udbff][\\udc00-\\udfff]",aSe="\\u200d",QX=oSe+"?",eK="["+iSe+"]?",lSe="(?:"+aSe+"(?:"+[JX,qX,ZX].join("|")+")"+eK+QX+")*",cSe=eK+QX+lSe,uSe="(?:"+[JX+G2+"?",G2,qX,ZX,sSe].join("|")+")",fSe=RegExp(V2+"(?="+V2+")|"+uSe+cSe,"g");function hSe(t){return t.match(fSe)||[]}var dSe=hSe,pSe=Qwe,mSe=KX,gSe=dSe;function vSe(t){return mSe(t)?gSe(t):pSe(t)}var ySe=vSe,xSe=Hwe,bSe=KX,_Se=ySe,wSe=HX;function SSe(t){return function(e){e=wSe(e);var n=bSe(e)?_Se(e):void 0,r=n?n[0]:e.charAt(0),i=n?xSe(n,1).join(""):e.slice(1);return r[t]()+i}}var ASe=SSe,MSe=ASe,ESe=MSe("toUpperCase"),TSe=ESe;const mA=Ln(TSe);function Hn(t){return function(){return t}}const tK=Math.cos,z1=Math.sin,la=Math.sqrt,H1=Math.PI,gA=2*H1,W2=Math.PI,$2=2*W2,$u=1e-6,CSe=$2-$u;function nK(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function PSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nK;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class RSe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nK:PSe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,f=a-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>$u)if(!(Math.abs(f*l-c*u)>$u)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,m=i-a,x=l*l+c*c,y=d*d+m*m,v=Math.sqrt(x),b=Math.sqrt(h),_=s*Math.tan((W2-Math.acos((x+h-y)/(2*v*b)))/2),M=_/b,w=_/v;Math.abs(M-1)>$u&&this._append`L${e+M*u},${n+M*f}`,this._append`A${s},${s},0,0,${+(f*d>u*m)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>$u||Math.abs(this._y1-u)>$u)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%$2+$2),h>CSe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>$u&&this._append`A${r},${r},0,${+(h>=W2)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function mD(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new RSe(e)}function gD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rK(t){this._context=t}rK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vA(t){return new rK(t)}function iK(t){return t[0]}function sK(t){return t[1]}function oK(t,e){var n=Hn(!0),r=null,i=vA,s=null,o=mD(a);t=typeof t=="function"?t:t===void 0?iK:Hn(t),e=typeof e=="function"?e:e===void 0?sK:Hn(e);function a(l){var c,u=(l=gD(l)).length,f,h=!1,d;for(r==null&&(s=i(d=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,c,l),+e(f,c,l));if(d)return s=null,d+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Jb(t,e,n){var r=null,i=Hn(!0),s=null,o=vA,a=null,l=mD(c);t=typeof t=="function"?t:t===void 0?iK:Hn(+t),e=typeof e=="function"?e:Hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sK:Hn(+n);function c(f){var h,d,m,x=(f=gD(f)).length,y,v=!1,b,_=new Array(x),M=new Array(x);for(s==null&&(a=o(b=l())),h=0;h<=x;++h){if(!(h<x&&i(y=f[h],h,f))===v)if(v=!v)d=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=d;--m)a.point(_[m],M[m]);a.lineEnd(),a.areaEnd()}v&&(_[h]=+t(y,h,f),M[h]=+e(y,h,f),a.point(r?+r(y,h,f):_[h],n?+n(y,h,f):M[h]))}if(b)return a=null,b+""||null}function u(){return oK().defined(i).curve(o).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Hn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Hn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Hn(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),c):o},c.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),c):s},c}class aK{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function OSe(t){return new aK(t,!0)}function ISe(t){return new aK(t,!1)}const vD={draw(t,e){const n=la(e/H1);t.moveTo(n,0),t.arc(0,0,n,0,gA)}},BSe={draw(t,e){const n=la(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},lK=la(1/3),DSe=lK*2,LSe={draw(t,e){const n=la(e/DSe),r=n*lK;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NSe={draw(t,e){const n=la(e),r=-n/2;t.rect(r,r,n,n)}},kSe=.8908130915292852,cK=z1(H1/10)/z1(7*H1/10),FSe=z1(gA/10)*cK,USe=-tK(gA/10)*cK,jSe={draw(t,e){const n=la(e*kSe),r=FSe*n,i=USe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=gA*s/5,a=tK(o),l=z1(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},zT=la(3),zSe={draw(t,e){const n=-la(e/(zT*3));t.moveTo(0,n*2),t.lineTo(-zT*n,-n),t.lineTo(zT*n,-n),t.closePath()}},to=-.5,no=la(3)/2,X2=1/la(12),HSe=(X2/2+1)*3,GSe={draw(t,e){const n=la(e/HSe),r=n/2,i=n*X2,s=r,o=n*X2+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(to*r-no*i,no*r+to*i),t.lineTo(to*s-no*o,no*s+to*o),t.lineTo(to*a-no*l,no*a+to*l),t.lineTo(to*r+no*i,to*i-no*r),t.lineTo(to*s+no*o,to*o-no*s),t.lineTo(to*a+no*l,to*l-no*a),t.closePath()}};function VSe(t,e){let n=null,r=mD(i);t=typeof t=="function"?t:Hn(t||vD),e=typeof e=="function"?e:Hn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Hn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function G1(){}function V1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uK(t){this._context=t}uK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:V1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:V1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WSe(t){return new uK(t)}function fK(t){this._context=t}fK.prototype={areaStart:G1,areaEnd:G1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:V1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Se(t){return new fK(t)}function hK(t){this._context=t}hK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:V1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XSe(t){return new hK(t)}function dK(t){this._context=t}dK.prototype={areaStart:G1,areaEnd:G1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function KSe(t){return new dK(t)}function Y5(t){return t<0?-1:1}function J5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(Y5(s)+Y5(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function q5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function HT(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function W1(t){this._context=t}W1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:HT(this,this._t0,q5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,HT(this,q5(this,n=J5(this,t,e)),n);break;default:HT(this,this._t0,n=J5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function pK(t){this._context=new mK(t)}(pK.prototype=Object.create(W1.prototype)).point=function(t,e){W1.prototype.point.call(this,e,t)};function mK(t){this._context=t}mK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function YSe(t){return new W1(t)}function JSe(t){return new pK(t)}function gK(t){this._context=t}gK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Z5(t),i=Z5(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Z5(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function qSe(t){return new gK(t)}function yA(t,e){this._context=t,this._t=e}yA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ZSe(t){return new yA(t,.5)}function QSe(t){return new yA(t,0)}function eAe(t){return new yA(t,1)}function up(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function K2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tAe(t,e){return t[e]}function nAe(t){const e=[];return e.key=t,e}function rAe(){var t=Hn([]),e=K2,n=up,r=tAe;function i(s){var o=Array.from(t.apply(this,arguments),nAe),a,l=o.length,c=-1,u;for(const f of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(f,o[a].key,c,s)]).data=f;for(a=0,u=gD(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Hn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Hn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?K2:typeof s=="function"?s:Hn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??up,i):n},i}function iAe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}up(t,e)}}function sAe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}up(t,e)}}function oAe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],f=u[r][1]||0,h=u[r-1][1]||0,d=(f-h)/2,m=0;m<a;++m){var x=t[e[m]],y=x[r][1]||0,v=x[r-1][1]||0;d+=y-v}l+=f,c+=d*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,up(t,e)}}function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}var aAe=["type","size","sizeType"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(this,arguments)}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ej(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){lAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lAe(t,e,n){return e=cAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cAe(t){var e=uAe(t,"string");return Xv(e)=="symbol"?e:e+""}function uAe(t,e){if(Xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fAe(t,e){if(t==null)return{};var n=hAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vK={symbolCircle:vD,symbolCross:BSe,symbolDiamond:LSe,symbolSquare:NSe,symbolStar:jSe,symbolTriangle:zSe,symbolWye:GSe},dAe=Math.PI/180,pAe=function(e){var n="symbol".concat(mA(e));return vK[n]||vD},mAe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*dAe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},gAe=function(e,n){vK["symbol".concat(mA(e))]=n},yD=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=fAe(e,aAe),c=ej(ej({},l),{},{type:r,size:s,sizeType:a}),u=function(){var y=pAe(r),v=VSe().type(y).size(mAe(s,a,r));return v()},f=c.className,h=c.cx,d=c.cy,m=pn(c,!0);return h===+h&&d===+d&&s===+s?me.createElement("path",Y2({},m,{className:Mn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};yD.registerSymbol=gAe;function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(this,arguments)}function tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(n),!0).forEach(function(r){Kv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xK(r.key),r)}}function bAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ae(t,e,n){return e=$1(e),wAe(t,yK()?Reflect.construct(e,n||[],$1(t).constructor):e.apply(t,n))}function wAe(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SAe(t)}function SAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yK=function(){return!!t})()}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$1(t)}function AAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q2(t,e)}function q2(t,e){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q2(t,e)}function Kv(t,e,n){return e=xK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xK(t){var e=MAe(t,"string");return fp(e)=="symbol"?e:e+""}function MAe(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=32,xD=function(t){function e(){return yAe(this,e),_Ae(this,e,arguments)}return AAe(e,t),bAe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=No/2,o=No/6,a=No/3,l=r.inactive?i:r.color;if(r.type==="plainline")return me.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:No,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return me.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(No,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return me.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(No/8,"h").concat(No,"v").concat(No*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(me.isValidElement(r.legendIcon)){var c=vAe({},r);return delete c.legendIcon,me.cloneElement(r.legendIcon,c)}return me.createElement(yD,{fill:l,cx:s,cy:s,size:No,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:No,height:No},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(d,m){var x=d.formatter||l,y=Mn(Kv(Kv({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var v=rn(d.value)?null:d.value;wl(!rn(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=d.inactive?c:d.color;return me.createElement("li",J2({className:y,style:f,key:"legend-item-".concat(m)},j1(r.props,d,m)),me.createElement(z2,{width:o,height:o,viewBox:u,style:h},r.renderIcon(d)),me.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,d,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return me.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(U.PureComponent);Kv(xD,"displayName","Legend");Kv(xD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var EAe=nA;function TAe(){this.__data__=new EAe,this.size=0}var CAe=TAe;function PAe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var RAe=PAe;function OAe(t){return this.__data__.get(t)}var IAe=OAe;function BAe(t){return this.__data__.has(t)}var DAe=BAe,LAe=nA,NAe=oD,kAe=aD,FAe=200;function UAe(t,e){var n=this.__data__;if(n instanceof LAe){var r=n.__data__;if(!NAe||r.length<FAe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kAe(r)}return n.set(t,e),this.size=n.size,this}var jAe=UAe,zAe=nA,HAe=CAe,GAe=RAe,VAe=IAe,WAe=DAe,$Ae=jAe;function qp(t){var e=this.__data__=new zAe(t);this.size=e.size}qp.prototype.clear=HAe;qp.prototype.delete=GAe;qp.prototype.get=VAe;qp.prototype.has=WAe;qp.prototype.set=$Ae;var bK=qp,XAe="__lodash_hash_undefined__";function KAe(t){return this.__data__.set(t,XAe),this}var YAe=KAe;function JAe(t){return this.__data__.has(t)}var qAe=JAe,ZAe=aD,QAe=YAe,eMe=qAe;function X1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ZAe;++e<n;)this.add(t[e])}X1.prototype.add=X1.prototype.push=QAe;X1.prototype.has=eMe;var _K=X1;function tMe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var wK=tMe;function nMe(t,e){return t.has(e)}var SK=nMe,rMe=_K,iMe=wK,sMe=SK,oMe=1,aMe=2;function lMe(t,e,n,r,i,s){var o=n&oMe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&aMe?new rMe:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var m=t[f],x=e[f];if(r)var y=o?r(x,m,f,e,t,s):r(m,x,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!iMe(e,function(v,b){if(!sMe(d,b)&&(m===v||i(m,v,n,r,s)))return d.push(b)})){h=!1;break}}else if(!(m===x||i(m,x,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var AK=lMe,cMe=Ga,uMe=cMe.Uint8Array,fMe=uMe;function hMe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var dMe=hMe;function pMe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var bD=pMe,nj=d0,rj=fMe,mMe=sD,gMe=AK,vMe=dMe,yMe=bD,xMe=1,bMe=2,_Me="[object Boolean]",wMe="[object Date]",SMe="[object Error]",AMe="[object Map]",MMe="[object Number]",EMe="[object RegExp]",TMe="[object Set]",CMe="[object String]",PMe="[object Symbol]",RMe="[object ArrayBuffer]",OMe="[object DataView]",ij=nj?nj.prototype:void 0,GT=ij?ij.valueOf:void 0;function IMe(t,e,n,r,i,s,o){switch(n){case OMe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case RMe:return!(t.byteLength!=e.byteLength||!s(new rj(t),new rj(e)));case _Me:case wMe:case MMe:return mMe(+t,+e);case SMe:return t.name==e.name&&t.message==e.message;case EMe:case CMe:return t==e+"";case AMe:var a=vMe;case TMe:var l=r&xMe;if(a||(a=yMe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=bMe,o.set(t,e);var u=gMe(a(t),a(e),r,i,s,o);return o.delete(t),u;case PMe:if(GT)return GT.call(t)==GT.call(e)}return!1}var BMe=IMe;function DMe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var MK=DMe,LMe=MK,NMe=xs;function kMe(t,e,n){var r=e(t);return NMe(t)?r:LMe(r,n(t))}var FMe=kMe;function UMe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var jMe=UMe;function zMe(){return[]}var HMe=zMe,GMe=jMe,VMe=HMe,WMe=Object.prototype,$Me=WMe.propertyIsEnumerable,sj=Object.getOwnPropertySymbols,XMe=sj?function(t){return t==null?[]:(t=Object(t),GMe(sj(t),function(e){return $Me.call(t,e)}))}:VMe,KMe=XMe;function YMe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var JMe=YMe,qMe=Ul,ZMe=jl,QMe="[object Arguments]";function eEe(t){return ZMe(t)&&qMe(t)==QMe}var tEe=eEe,oj=tEe,nEe=jl,EK=Object.prototype,rEe=EK.hasOwnProperty,iEe=EK.propertyIsEnumerable,sEe=oj(function(){return arguments}())?oj:function(t){return nEe(t)&&rEe.call(t,"callee")&&!iEe.call(t,"callee")},_D=sEe,K1={exports:{}};function oEe(){return!1}var aEe=oEe;K1.exports;(function(t,e){var n=Ga,r=aEe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(K1,K1.exports);var TK=K1.exports,lEe=9007199254740991,cEe=/^(?:0|[1-9]\d*)$/;function uEe(t,e){var n=typeof t;return e=e??lEe,!!e&&(n=="number"||n!="symbol"&&cEe.test(t))&&t>-1&&t%1==0&&t<e}var wD=uEe,fEe=9007199254740991;function hEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fEe}var SD=hEe,dEe=Ul,pEe=SD,mEe=jl,gEe="[object Arguments]",vEe="[object Array]",yEe="[object Boolean]",xEe="[object Date]",bEe="[object Error]",_Ee="[object Function]",wEe="[object Map]",SEe="[object Number]",AEe="[object Object]",MEe="[object RegExp]",EEe="[object Set]",TEe="[object String]",CEe="[object WeakMap]",PEe="[object ArrayBuffer]",REe="[object DataView]",OEe="[object Float32Array]",IEe="[object Float64Array]",BEe="[object Int8Array]",DEe="[object Int16Array]",LEe="[object Int32Array]",NEe="[object Uint8Array]",kEe="[object Uint8ClampedArray]",FEe="[object Uint16Array]",UEe="[object Uint32Array]",Yn={};Yn[OEe]=Yn[IEe]=Yn[BEe]=Yn[DEe]=Yn[LEe]=Yn[NEe]=Yn[kEe]=Yn[FEe]=Yn[UEe]=!0;Yn[gEe]=Yn[vEe]=Yn[PEe]=Yn[yEe]=Yn[REe]=Yn[xEe]=Yn[bEe]=Yn[_Ee]=Yn[wEe]=Yn[SEe]=Yn[AEe]=Yn[MEe]=Yn[EEe]=Yn[TEe]=Yn[CEe]=!1;function jEe(t){return mEe(t)&&pEe(t.length)&&!!Yn[dEe(t)]}var zEe=jEe;function HEe(t){return function(e){return t(e)}}var CK=HEe,Y1={exports:{}};Y1.exports;(function(t,e){var n=NX,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Y1,Y1.exports);var GEe=Y1.exports,VEe=zEe,WEe=CK,aj=GEe,lj=aj&&aj.isTypedArray,$Ee=lj?WEe(lj):VEe,PK=$Ee,XEe=JMe,KEe=_D,YEe=xs,JEe=TK,qEe=wD,ZEe=PK,QEe=Object.prototype,eTe=QEe.hasOwnProperty;function tTe(t,e){var n=YEe(t),r=!n&&KEe(t),i=!n&&!r&&JEe(t),s=!n&&!r&&!i&&ZEe(t),o=n||r||i||s,a=o?XEe(t.length,String):[],l=a.length;for(var c in t)(e||eTe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||qEe(c,l)))&&a.push(c);return a}var nTe=tTe,rTe=Object.prototype;function iTe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||rTe;return t===n}var sTe=iTe;function oTe(t,e){return function(n){return t(e(n))}}var RK=oTe,aTe=RK,lTe=aTe(Object.keys,Object),cTe=lTe,uTe=sTe,fTe=cTe,hTe=Object.prototype,dTe=hTe.hasOwnProperty;function pTe(t){if(!uTe(t))return fTe(t);var e=[];for(var n in Object(t))dTe.call(t,n)&&n!="constructor"&&e.push(n);return e}var mTe=pTe,gTe=iD,vTe=SD;function yTe(t){return t!=null&&vTe(t.length)&&!gTe(t)}var g0=yTe,xTe=nTe,bTe=mTe,_Te=g0;function wTe(t){return _Te(t)?xTe(t):bTe(t)}var xA=wTe,STe=FMe,ATe=KMe,MTe=xA;function ETe(t){return STe(t,MTe,ATe)}var TTe=ETe,cj=TTe,CTe=1,PTe=Object.prototype,RTe=PTe.hasOwnProperty;function OTe(t,e,n,r,i,s){var o=n&CTe,a=cj(t),l=a.length,c=cj(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:RTe.call(e,h)))return!1}var d=s.get(t),m=s.get(e);if(d&&m)return d==e&&m==t;var x=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<l;){h=a[f];var v=t[h],b=e[h];if(r)var _=o?r(b,v,h,e,t,s):r(v,b,h,t,e,s);if(!(_===void 0?v===b||i(v,b,n,r,s):_)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var M=t.constructor,w=e.constructor;M!=w&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof w=="function"&&w instanceof w)&&(x=!1)}return s.delete(t),s.delete(e),x}var ITe=OTe,BTe=ah,DTe=Ga,LTe=BTe(DTe,"DataView"),NTe=LTe,kTe=ah,FTe=Ga,UTe=kTe(FTe,"Promise"),jTe=UTe,zTe=ah,HTe=Ga,GTe=zTe(HTe,"Set"),OK=GTe,VTe=ah,WTe=Ga,$Te=VTe(WTe,"WeakMap"),XTe=$Te,Z2=NTe,Q2=oD,eR=jTe,tR=OK,nR=XTe,IK=Ul,Zp=FX,uj="[object Map]",KTe="[object Object]",fj="[object Promise]",hj="[object Set]",dj="[object WeakMap]",pj="[object DataView]",YTe=Zp(Z2),JTe=Zp(Q2),qTe=Zp(eR),ZTe=Zp(tR),QTe=Zp(nR),Xu=IK;(Z2&&Xu(new Z2(new ArrayBuffer(1)))!=pj||Q2&&Xu(new Q2)!=uj||eR&&Xu(eR.resolve())!=fj||tR&&Xu(new tR)!=hj||nR&&Xu(new nR)!=dj)&&(Xu=function(t){var e=IK(t),n=e==KTe?t.constructor:void 0,r=n?Zp(n):"";if(r)switch(r){case YTe:return pj;case JTe:return uj;case qTe:return fj;case ZTe:return hj;case QTe:return dj}return e});var eCe=Xu,VT=bK,tCe=AK,nCe=BMe,rCe=ITe,mj=eCe,gj=xs,vj=TK,iCe=PK,sCe=1,yj="[object Arguments]",xj="[object Array]",qb="[object Object]",oCe=Object.prototype,bj=oCe.hasOwnProperty;function aCe(t,e,n,r,i,s){var o=gj(t),a=gj(e),l=o?xj:mj(t),c=a?xj:mj(e);l=l==yj?qb:l,c=c==yj?qb:c;var u=l==qb,f=c==qb,h=l==c;if(h&&vj(t)){if(!vj(e))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new VT),o||iCe(t)?tCe(t,e,n,r,i,s):nCe(t,e,l,n,r,i,s);if(!(n&sCe)){var d=u&&bj.call(t,"__wrapped__"),m=f&&bj.call(e,"__wrapped__");if(d||m){var x=d?t.value():t,y=m?e.value():e;return s||(s=new VT),i(x,y,n,r,s)}}return h?(s||(s=new VT),rCe(t,e,n,r,i,s)):!1}var lCe=aCe,cCe=lCe,_j=jl;function BK(t,e,n,r,i){return t===e?!0:t==null||e==null||!_j(t)&&!_j(e)?t!==t&&e!==e:cCe(t,e,n,r,BK,i)}var AD=BK,uCe=bK,fCe=AD,hCe=1,dCe=2;function pCe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new uCe;if(r)var h=r(c,u,l,t,e,f);if(!(h===void 0?fCe(u,c,hCe|dCe,r,f):h))return!1}}return!0}var mCe=pCe,gCe=au;function vCe(t){return t===t&&!gCe(t)}var DK=vCe,yCe=DK,xCe=xA;function bCe(t){for(var e=xCe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,yCe(i)]}return e}var _Ce=bCe;function wCe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var LK=wCe,SCe=mCe,ACe=_Ce,MCe=LK;function ECe(t){var e=ACe(t);return e.length==1&&e[0][2]?MCe(e[0][0],e[0][1]):function(n){return n===t||SCe(n,t,e)}}var TCe=ECe;function CCe(t,e){return t!=null&&e in Object(t)}var PCe=CCe,RCe=GX,OCe=_D,ICe=xs,BCe=wD,DCe=SD,LCe=iA;function NCe(t,e,n){e=RCe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=LCe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&DCe(i)&&BCe(o,i)&&(ICe(t)||OCe(t)))}var kCe=NCe,FCe=PCe,UCe=kCe;function jCe(t,e){return t!=null&&UCe(t,e,FCe)}var zCe=jCe,HCe=AD,GCe=VX,VCe=zCe,WCe=rD,$Ce=DK,XCe=LK,KCe=iA,YCe=1,JCe=2;function qCe(t,e){return WCe(t)&&$Ce(e)?XCe(KCe(t),e):function(n){var r=GCe(n,t);return r===void 0&&r===e?VCe(n,t):HCe(e,r,YCe|JCe)}}var ZCe=qCe;function QCe(t){return t}var Qp=QCe;function ePe(t){return function(e){return e==null?void 0:e[t]}}var tPe=ePe,nPe=uD;function rPe(t){return function(e){return nPe(e,t)}}var iPe=rPe,sPe=tPe,oPe=iPe,aPe=rD,lPe=iA;function cPe(t){return aPe(t)?sPe(lPe(t)):oPe(t)}var uPe=cPe,fPe=TCe,hPe=ZCe,dPe=Qp,pPe=xs,mPe=uPe;function gPe(t){return typeof t=="function"?t:t==null?dPe:typeof t=="object"?pPe(t)?hPe(t[0],t[1]):fPe(t):mPe(t)}var lu=gPe;function vPe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var NK=vPe;function yPe(t){return t!==t}var xPe=yPe;function bPe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var _Pe=bPe,wPe=NK,SPe=xPe,APe=_Pe;function MPe(t,e,n){return e===e?APe(t,e,n):wPe(t,SPe,n)}var EPe=MPe,TPe=EPe;function CPe(t,e){var n=t==null?0:t.length;return!!n&&TPe(t,e,0)>-1}var PPe=CPe;function RPe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var OPe=RPe;function IPe(){}var BPe=IPe,WT=OK,DPe=BPe,LPe=bD,NPe=1/0,kPe=WT&&1/LPe(new WT([,-0]))[1]==NPe?function(t){return new WT(t)}:DPe,FPe=kPe,UPe=_K,jPe=PPe,zPe=OPe,HPe=SK,GPe=FPe,VPe=bD,WPe=200;function $Pe(t,e,n){var r=-1,i=jPe,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=zPe;else if(s>=WPe){var c=e?null:GPe(t);if(c)return VPe(c);o=!1,i=HPe,l=new UPe}else l=e?[]:a;e:for(;++r<s;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(u)}else i(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}var XPe=$Pe,KPe=lu,YPe=XPe;function JPe(t,e){return t&&t.length?YPe(t,KPe(e)):[]}var qPe=JPe;const wj=Ln(qPe);function kK(t,e,n){return e===!0?wj(t,n):rn(e)?wj(t,e):t}function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}var ZPe=["ref"];function Sj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(n),!0).forEach(function(r){bA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UK(r.key),r)}}function e2e(t,e,n){return e&&Aj(t.prototype,e),n&&Aj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t2e(t,e,n){return e=J1(e),n2e(t,FK()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function n2e(t,e){if(e&&(hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r2e(t)}function r2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}function i2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rR(t,e)}function rR(t,e){return rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rR(t,e)}function bA(t,e,n){return e=UK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UK(t){var e=s2e(t,"string");return hp(e)=="symbol"?e:e+""}function s2e(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o2e(t,e){if(t==null)return{};var n=a2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l2e(t){return t.value}function c2e(t,e){if(me.isValidElement(t))return me.cloneElement(t,e);if(typeof t=="function")return me.createElement(t,e);e.ref;var n=o2e(e,ZPe);return me.createElement(xD,n)}var Mj=1,Gd=function(t){function e(){var n;QPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=t2e(this,e,[].concat(i)),bA(n,"lastBoundingBox",{width:-1,height:-1}),n}return i2e(e,t),e2e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Mj||Math.abs(i.height-this.lastBoundingBox.height)>Mj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return rl(rl({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=rl(rl({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return me.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){r.wrapperNode=d}},c2e(s,rl(rl({},this.props),{},{payload:kK(u,c,l2e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=rl(rl({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&mt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);bA(Gd,"displayName","Legend");bA(Gd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ej=d0,u2e=_D,f2e=xs,Tj=Ej?Ej.isConcatSpreadable:void 0;function h2e(t){return f2e(t)||u2e(t)||!!(Tj&&t&&t[Tj])}var d2e=h2e,p2e=MK,m2e=d2e;function jK(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=m2e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?jK(a,e-1,n,r,i):p2e(i,a):r||(i[i.length]=a)}return i}var zK=jK;function g2e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var v2e=g2e,y2e=v2e,x2e=y2e(),b2e=x2e,_2e=b2e,w2e=xA;function S2e(t,e){return t&&_2e(t,e,w2e)}var HK=S2e,A2e=g0;function M2e(t,e){return function(n,r){if(n==null)return n;if(!A2e(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var E2e=M2e,T2e=HK,C2e=E2e,P2e=C2e(T2e),MD=P2e,R2e=MD,O2e=g0;function I2e(t,e){var n=-1,r=O2e(t)?Array(t.length):[];return R2e(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var GK=I2e;function B2e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var D2e=B2e,Cj=$p;function L2e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Cj(t),o=e!==void 0,a=e===null,l=e===e,c=Cj(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var N2e=L2e,k2e=N2e;function F2e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=k2e(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var U2e=F2e,$T=cD,j2e=uD,z2e=lu,H2e=GK,G2e=D2e,V2e=CK,W2e=U2e,$2e=Qp,X2e=xs;function K2e(t,e,n){e.length?e=$T(e,function(s){return X2e(s)?function(o){return j2e(o,s.length===1?s[0]:s)}:s}):e=[$2e];var r=-1;e=$T(e,V2e(z2e));var i=H2e(t,function(s,o,a){var l=$T(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return G2e(i,function(s,o){return W2e(s,o,n)})}var Y2e=K2e;function J2e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var q2e=J2e,Z2e=q2e,Pj=Math.max;function Q2e(t,e,n){return e=Pj(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Pj(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Z2e(t,this,a)}}var eRe=Q2e;function tRe(t){return function(){return t}}var nRe=tRe,rRe=ah,iRe=function(){try{var t=rRe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),VK=iRe,sRe=nRe,Rj=VK,oRe=Qp,aRe=Rj?function(t,e){return Rj(t,"toString",{configurable:!0,enumerable:!1,value:sRe(e),writable:!0})}:oRe,lRe=aRe,cRe=800,uRe=16,fRe=Date.now;function hRe(t){var e=0,n=0;return function(){var r=fRe(),i=uRe-(r-n);if(n=r,i>0){if(++e>=cRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var dRe=hRe,pRe=lRe,mRe=dRe,gRe=mRe(pRe),vRe=gRe,yRe=Qp,xRe=eRe,bRe=vRe;function _Re(t,e){return bRe(xRe(t,e,yRe),t+"")}var wRe=_Re,SRe=sD,ARe=g0,MRe=wD,ERe=au;function TRe(t,e,n){if(!ERe(n))return!1;var r=typeof e;return(r=="number"?ARe(n)&&MRe(e,n.length):r=="string"&&e in n)?SRe(n[e],t):!1}var _A=TRe,CRe=zK,PRe=Y2e,RRe=wRe,Oj=_A,ORe=RRe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Oj(t,e[0],e[1])?e=[]:n>2&&Oj(e[0],e[1],e[2])&&(e=[e[0]]),PRe(t,CRe(e,1),[])}),IRe=ORe;const ED=Ln(IRe);function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function iR(){return iR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iR.apply(this,arguments)}function BRe(t,e){return kRe(t)||NRe(t,e)||LRe(t,e)||DRe()}function DRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LRe(t,e){if(t){if(typeof t=="string")return Ij(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ij(t,e)}}function Ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kRe(t){if(Array.isArray(t))return t}function Bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(n),!0).forEach(function(r){FRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FRe(t,e,n){return e=URe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function URe(t){var e=jRe(t,"string");return Yv(e)=="symbol"?e:e+""}function jRe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zRe(t){return Array.isArray(t)&&Kr(t[0])&&Kr(t[1])?t.join(" ~ "):t}var HRe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,d=e.wrapperClassName,m=e.labelClassName,x=e.label,y=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,_=function(){if(u&&u.length){var H={padding:0,margin:0},q=(h?ED(u,h):u).map(function(z,K){if(z.type==="none")return null;var Y=XT({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),ie=z.formatter||f||zRe,G=z.value,J=z.name,te=G,re=J;if(ie&&te!=null&&re!=null){var fe=ie(G,J,z,K,u);if(Array.isArray(fe)){var we=BRe(fe,2);te=we[0],re=we[1]}else te=fe}return me.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Y},Kr(re)?me.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Kr(re)?me.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,me.createElement("span",{className:"recharts-tooltip-item-value"},te),me.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return me.createElement("ul",{className:"recharts-tooltip-item-list",style:H},q)}return null},M=XT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=XT({margin:0},c),A=!fn(x),E=A?x:"",C=Mn("recharts-default-tooltip",d),L=Mn("recharts-tooltip-label",m);A&&y&&u!==void 0&&u!==null&&(E=y(x,u));var P=b?{role:"status","aria-live":"assertive"}:{};return me.createElement("div",iR({className:C,style:M},P),me.createElement("p",{className:L,style:w},me.isValidElement(E)?E:"".concat(E)),_())};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function Zb(t,e,n){return e=GRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GRe(t){var e=VRe(t,"string");return Jv(e)=="symbol"?e:e+""}function VRe(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lg="recharts-tooltip-wrapper",WRe={visibility:"hidden"};function $Re(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Mn(lg,Zb(Zb(Zb(Zb({},"".concat(lg,"-right"),mt(n)&&e&&mt(e.x)&&n>=e.x),"".concat(lg,"-left"),mt(n)&&e&&mt(e.x)&&n<e.x),"".concat(lg,"-bottom"),mt(r)&&e&&mt(e.y)&&r>=e.y),"".concat(lg,"-top"),mt(r)&&e&&mt(e.y)&&r<e.y))}function Dj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&mt(s[r]))return s[r];var u=n[r]-a-i,f=n[r]+i;if(e[r])return o[r]?u:f;if(o[r]){var h=u,d=l[r];return h<d?Math.max(f,l[r]):Math.max(u,l[r])}var m=f+a,x=l[r]+c;return m>x?Math.max(u,l[r]):Math.max(f,l[r])}function XRe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function KRe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&n?(u=Dj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Dj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=XRe({translateX:u,translateY:f,useTranslate3d:a})):c=WRe,{cssProperties:c,cssClasses:$Re({translateX:u,translateY:f,coordinate:n})}}function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){oR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$K(r.key),r)}}function qRe(t,e,n){return e&&JRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZRe(t,e,n){return e=q1(e),QRe(t,WK()?Reflect.construct(e,n||[],q1(t).constructor):e.apply(t,n))}function QRe(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eOe(t)}function eOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WK=function(){return!!t})()}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}function tOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sR(t,e)}function sR(t,e){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sR(t,e)}function oR(t,e,n){return e=$K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=nOe(t,"string");return dp(e)=="symbol"?e:e+""}function nOe(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kj=1,rOe=function(t){function e(){var n;YRe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ZRe(this,e,[].concat(i)),oR(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oR(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return tOe(e,t),qRe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>kj||Math.abs(r.height-this.state.lastBoundingBox.height)>kj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,d=i.offset,m=i.position,x=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,_=KRe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:d,position:m,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),M=_.cssClasses,w=_.cssProperties,A=Nj(Nj({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return me.createElement("div",{tabIndex:-1,className:M,style:A,ref:function(C){r.wrapperNode=C}},c)}}])}(U.PureComponent),iOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},em={isSsr:iOe()};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){TD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KK(r.key),r)}}function aOe(t,e,n){return e&&oOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lOe(t,e,n){return e=Z1(e),cOe(t,XK()?Reflect.construct(e,n||[],Z1(t).constructor):e.apply(t,n))}function cOe(t,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uOe(t)}function uOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XK=function(){return!!t})()}function Z1(t){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z1(t)}function fOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aR(t,e)}function aR(t,e){return aR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aR(t,e)}function TD(t,e,n){return e=KK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KK(t){var e=hOe(t,"string");return pp(e)=="symbol"?e:e+""}function hOe(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dOe(t){return t.dataKey}function pOe(t,e){return me.isValidElement(t)?me.cloneElement(t,e):typeof t=="function"?me.createElement(t,e):me.createElement(HRe,e)}var Vo=function(t){function e(){return sOe(this,e),lOe(this,e,arguments)}return fOe(e,t),aOe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,d=i.offset,m=i.payload,x=i.payloadUniqBy,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,M=i.wrapperStyle,w=m??[];f&&w.length&&(w=kK(m.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),x,dOe));var A=w.length>0;return me.createElement(rOe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:A,offset:d,position:y,reverseDirection:v,useTranslate3d:b,viewBox:_,wrapperStyle:M},pOe(c,Uj(Uj({},this.props),{},{payload:w})))}}])}(U.PureComponent);TD(Vo,"displayName","Tooltip");TD(Vo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!em.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mOe=Ga,gOe=function(){return mOe.Date.now()},vOe=gOe,yOe=/\s/;function xOe(t){for(var e=t.length;e--&&yOe.test(t.charAt(e)););return e}var bOe=xOe,_Oe=bOe,wOe=/^\s+/;function SOe(t){return t&&t.slice(0,_Oe(t)+1).replace(wOe,"")}var AOe=SOe,MOe=AOe,jj=au,EOe=$p,zj=NaN,TOe=/^[-+]0x[0-9a-f]+$/i,COe=/^0b[01]+$/i,POe=/^0o[0-7]+$/i,ROe=parseInt;function OOe(t){if(typeof t=="number")return t;if(EOe(t))return zj;if(jj(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jj(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=MOe(t);var n=COe.test(t);return n||POe.test(t)?ROe(t.slice(2),n?2:8):TOe.test(t)?zj:+t}var YK=OOe,IOe=au,KT=vOe,Hj=YK,BOe="Expected a function",DOe=Math.max,LOe=Math.min;function NOe(t,e,n){var r,i,s,o,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(BOe);e=Hj(e)||0,IOe(n)&&(u=!!n.leading,f="maxWait"in n,s=f?DOe(Hj(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function d(A){var E=r,C=i;return r=i=void 0,c=A,o=t.apply(C,E),o}function m(A){return c=A,a=setTimeout(v,e),u?d(A):o}function x(A){var E=A-l,C=A-c,L=e-E;return f?LOe(L,s-C):L}function y(A){var E=A-l,C=A-c;return l===void 0||E>=e||E<0||f&&C>=s}function v(){var A=KT();if(y(A))return b(A);a=setTimeout(v,x(A))}function b(A){return a=void 0,h&&r?d(A):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function M(){return a===void 0?o:b(KT())}function w(){var A=KT(),E=y(A);if(r=arguments,i=this,l=A,E){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(v,e),d(l)}return a===void 0&&(a=setTimeout(v,e)),o}return w.cancel=_,w.flush=M,w}var kOe=NOe,FOe=kOe,UOe=au,jOe="Expected a function";function zOe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(jOe);return UOe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),FOe(t,e,{leading:r,maxWait:e,trailing:i})}var HOe=zOe;const JK=Ln(HOe);function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){GOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GOe(t,e,n){return e=VOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VOe(t){var e=WOe(t,"string");return qv(e)=="symbol"?e:e+""}function WOe(t,e){if(qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Oe(t,e){return JOe(t)||YOe(t,e)||KOe(t,e)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KOe(t,e){if(t){if(typeof t=="string")return Vj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vj(t,e)}}function Vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function JOe(t){if(Array.isArray(t))return t}var Wj=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,d=t.children,m=t.debounce,x=m===void 0?0:m,y=t.id,v=t.className,b=t.onResize,_=t.style,M=_===void 0?{}:_,w=U.useRef(null),A=U.useRef();A.current=b,U.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=U.useState({containerWidth:i.width,containerHeight:i.height}),C=$Oe(E,2),L=C[0],P=C[1],B=U.useCallback(function(q,z){P(function(K){var Y=Math.round(q),ie=Math.round(z);return K.containerWidth===Y&&K.containerHeight===ie?K:{containerWidth:Y,containerHeight:ie}})},[]);U.useEffect(function(){var q=function(J){var te,re=J[0].contentRect,fe=re.width,we=re.height;B(fe,we),(te=A.current)===null||te===void 0||te.call(A,fe,we)};x>0&&(q=JK(q,x,{trailing:!0,leading:!1}));var z=new ResizeObserver(q),K=w.current.getBoundingClientRect(),Y=K.width,ie=K.height;return B(Y,ie),z.observe(w.current),function(){z.disconnect()}},[B,x]);var H=U.useMemo(function(){var q=L.containerWidth,z=L.containerHeight;if(q<0||z<0)return null;wl(pf(o)||pf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),wl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=pf(o)?q:o,Y=pf(l)?z:l;n&&n>0&&(K?Y=K/n:Y&&(K=Y*n),h&&Y>h&&(Y=h)),wl(K>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Y,o,l,u,f,n);var ie=!Array.isArray(d)&&_l(d.type).endsWith("Chart");return me.Children.map(d,function(G){return me.isValidElement(G)?U.cloneElement(G,Qb({width:K,height:Y},ie?{style:Qb({height:"100%",width:"100%",maxHeight:Y,maxWidth:K},G.props.style)}:{})):G})},[n,d,l,h,f,u,L,o]);return me.createElement("div",{id:y?"".concat(y):void 0,className:Mn("recharts-responsive-container",v),style:Qb(Qb({},M),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:w},H)}),qK=function(e){return null};qK.displayName="Cell";function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){qOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qOe(t,e,n){return e=ZOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZOe(t){var e=QOe(t,"string");return Zv(e)=="symbol"?e:e+""}function QOe(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qh={widthCache:{},cacheCount:0},eIe=2e3,tIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xj="recharts_measurement_span";function nIe(t){var e=lR({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||em.isSsr)return{width:0,height:0};var r=nIe(n),i=JSON.stringify({text:e,copyStyle:r});if(qh.widthCache[i])return qh.widthCache[i];try{var s=document.getElementById(Xj);s||(s=document.createElement("span"),s.setAttribute("id",Xj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=lR(lR({},tIe),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return qh.widthCache[i]=l,++qh.cacheCount>eIe&&(qh.cacheCount=0,qh.widthCache={}),l}catch{return{width:0,height:0}}},rIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Q1(t,e){return aIe(t)||oIe(t,e)||sIe(t,e)||iIe()}function iIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sIe(t,e){if(t){if(typeof t=="string")return Kj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(t,e)}}function Kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function aIe(t){if(Array.isArray(t))return t}function lIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uIe(r.key),r)}}function cIe(t,e,n){return e&&Yj(t.prototype,e),n&&Yj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uIe(t){var e=fIe(t,"string");return Qv(e)=="symbol"?e:e+""}function fIe(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pIe=Object.keys(ZK),wd="NaN";function mIe(t,e){return t*ZK[e]}var e_=function(){function t(e,n){lIe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!hIe.test(n)&&(this.num=NaN,this.unit=""),pIe.includes(n)&&(this.num=mIe(e,n),this.unit="px")}return cIe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=dIe.exec(n))!==null&&r!==void 0?r:[],s=Q1(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function QK(t){if(t.includes(wd))return wd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Jj.exec(e))!==null&&n!==void 0?n:[],i=Q1(r,4),s=i[1],o=i[2],a=i[3],l=e_.parse(s??""),c=e_.parse(a??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return wd;e=e.replace(Jj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=qj.exec(e))!==null&&f!==void 0?f:[],d=Q1(h,4),m=d[1],x=d[2],y=d[3],v=e_.parse(m??""),b=e_.parse(y??""),_=x==="+"?v.add(b):v.subtract(b);if(_.isNaN())return wd;e=e.replace(qj,_.toString())}return e}var Zj=/\(([^()]*)\)/;function gIe(t){for(var e=t;e.includes("(");){var n=Zj.exec(e),r=Q1(n,2),i=r[1];e=e.replace(Zj,QK(i))}return e}function vIe(t){var e=t.replace(/\s+/g,"");return e=gIe(e),e=QK(e),e}function yIe(t){try{return vIe(t)}catch{return wd}}function YT(t){var e=yIe(t.slice(5,-1));return e===wd?"":e}var xIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bIe=["dx","dy","angle","className","breakAll"];function cR(){return cR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cR.apply(this,arguments)}function Qj(t,e){if(t==null)return{};var n=_Ie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ez(t,e){return MIe(t)||AIe(t,e)||SIe(t,e)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SIe(t,e){if(t){if(typeof t=="string")return tz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tz(t,e)}}function tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function MIe(t){if(Array.isArray(t))return t}var eY=/[ \f\n\r\t\v\u2028\u2029]+/,tY=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];fn(n)||(r?s=n.toString().split(""):s=n.toString().split(eY));var o=s.map(function(l){return{word:l,width:Yg(l,i).width}}),a=r?0:Yg(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},EIe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=mt(o),f=a,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Y,ie){var G=ie.word,J=ie.width,te=Y[Y.length-1];if(te&&(i==null||s||te.width+J+r<Number(i)))te.words.push(G),te.width+=J+r;else{var re={words:[G],width:J};Y.push(re)}return Y},[])},d=h(n),m=function(K){return K.reduce(function(Y,ie){return Y.width>ie.width?Y:ie})};if(!u)return d;for(var x="…",y=function(K){var Y=f.slice(0,K),ie=tY({breakAll:c,style:l,children:Y+x}).wordsWithComputedWidth,G=h(ie),J=G.length>o||m(G).width>Number(i);return[J,G]},v=0,b=f.length-1,_=0,M;v<=b&&_<=f.length-1;){var w=Math.floor((v+b)/2),A=w-1,E=y(A),C=ez(E,2),L=C[0],P=C[1],B=y(w),H=ez(B,1),q=H[0];if(!L&&!q&&(v=w+1),L&&q&&(b=w-1),!L&&q){M=P;break}_++}return M||d},nz=function(e){var n=fn(e)?[]:e.toString().split(eY);return[{words:n}]},TIe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!em.isSsr){var l,c,u=tY({breakAll:o,children:i,style:s});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return nz(i);return EIe({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return nz(i)},rz="#808080",ew=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,d=h===void 0?"start":h,m=e.verticalAnchor,x=m===void 0?"end":m,y=e.fill,v=y===void 0?rz:y,b=Qj(e,xIe),_=U.useMemo(function(){return TIe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),M=b.dx,w=b.dy,A=b.angle,E=b.className,C=b.breakAll,L=Qj(b,bIe);if(!Kr(r)||!Kr(s))return null;var P=r+(mt(M)?M:0),B=s+(mt(w)?w:0),H;switch(x){case"start":H=YT("calc(".concat(c,")"));break;case"middle":H=YT("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:H=YT("calc(".concat(_.length-1," * -").concat(a,")"));break}var q=[];if(f){var z=_[0].width,K=b.width;q.push("scale(".concat((mt(K)?K/z:1)/z,")"))}return A&&q.push("rotate(".concat(A,", ").concat(P,", ").concat(B,")")),q.length&&(L.transform=q.join(" ")),me.createElement("text",cR({},pn(L,!0),{x:P,y:B,className:Mn("recharts-text",E),textAnchor:d,fill:v.includes("url")?rz:v}),_.map(function(Y,ie){var G=Y.words.join(C?"":" ");return me.createElement("tspan",{x:P,dy:ie===0?H:a,key:"".concat(G,"-").concat(ie)},G)}))};function zc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CD(t){let e,n,r;t.length!==2?(e=zc,n=(a,l)=>zc(t(a),l),r=(a,l)=>t(a)-l):(e=t===zc||t===CIe?t:PIe,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function PIe(){return 0}function nY(t){return t===null?NaN:+t}function*RIe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const OIe=CD(zc),v0=OIe.right;CD(nY).center;class iz extends Map{constructor(e,n=DIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sz(this,e))}has(e){return super.has(sz(this,e))}set(e,n){return super.set(IIe(this,e),n)}delete(e){return super.delete(BIe(this,e))}}function sz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function IIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function BIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function DIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function LIe(t=zc){if(t===zc)return rY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NIe=Math.sqrt(50),kIe=Math.sqrt(10),FIe=Math.sqrt(2);function tw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=NIe?10:s>=kIe?5:s>=FIe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?tw(t,e,n*2):[a,l,c]}function uR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?tw(e,t,n):tw(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function fR(t,e,n){return e=+e,t=+t,n=+n,tw(t,e,n)[2]}function hR(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fR(e,t,n):fR(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function oz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function az(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iY(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rY:LIe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));iY(t,e,d,m,i)}const s=t[e];let o=n,a=r;for(cg(t,n,e),i(t[r],s)>0&&cg(t,n,r);o<a;){for(cg(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?cg(t,n,a):(++a,cg(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function cg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function UIe(t,e,n){if(t=Float64Array.from(RIe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return az(t);if(e>=1)return oz(t);var r,i=(r-1)*e,s=Math.floor(i),o=oz(iY(t,s).subarray(0,s+1)),a=az(t.subarray(s+1));return o+(a-o)*(i-s)}}function jIe(t,e,n=nY){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function zIe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Co(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dR=Symbol("implicit");function PD(){var t=new iz,e=[],n=[],r=dR;function i(s){let o=t.get(s);if(o===void 0){if(r!==dR)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new iz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return PD(e,n).unknown(r)},Co.apply(i,arguments),i}function ey(){var t=PD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,d=i<r,m=d?i:r,x=d?r:i;s=(x-m)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),m+=(x-m-s*(h-l))*u,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var y=zIe(h).map(function(v){return m+s*v});return n(d?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return ey(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Co.apply(f(),arguments)}function sY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sY(e())},t}function Jg(){return sY(ey.apply(null,arguments).paddingInner(1))}function RD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oY(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function y0(){}var ty=.7,nw=1/ty,Vd="\\s*([+-]?\\d+)\\s*",ny="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HIe=/^#([0-9a-f]{3,8})$/,GIe=new RegExp(`^rgb\\(${Vd},${Vd},${Vd}\\)$`),VIe=new RegExp(`^rgb\\(${La},${La},${La}\\)$`),WIe=new RegExp(`^rgba\\(${Vd},${Vd},${Vd},${ny}\\)$`),$Ie=new RegExp(`^rgba\\(${La},${La},${La},${ny}\\)$`),XIe=new RegExp(`^hsl\\(${ny},${La},${La}\\)$`),KIe=new RegExp(`^hsla\\(${ny},${La},${La},${ny}\\)$`),lz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RD(y0,ry,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cz,formatHex:cz,formatHex8:YIe,formatHsl:JIe,formatRgb:uz,toString:uz});function cz(){return this.rgb().formatHex()}function YIe(){return this.rgb().formatHex8()}function JIe(){return aY(this).formatHsl()}function uz(){return this.rgb().formatRgb()}function ry(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=HIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fz(e):n===3?new hs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?t_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?t_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=GIe.exec(t))?new hs(e[1],e[2],e[3],1):(e=VIe.exec(t))?new hs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WIe.exec(t))?t_(e[1],e[2],e[3],e[4]):(e=$Ie.exec(t))?t_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XIe.exec(t))?pz(e[1],e[2]/100,e[3]/100,1):(e=KIe.exec(t))?pz(e[1],e[2]/100,e[3]/100,e[4]):lz.hasOwnProperty(t)?fz(lz[t]):t==="transparent"?new hs(NaN,NaN,NaN,0):null}function fz(t){return new hs(t>>16&255,t>>8&255,t&255,1)}function t_(t,e,n,r){return r<=0&&(t=e=n=NaN),new hs(t,e,n,r)}function qIe(t){return t instanceof y0||(t=ry(t)),t?(t=t.rgb(),new hs(t.r,t.g,t.b,t.opacity)):new hs}function pR(t,e,n,r){return arguments.length===1?qIe(t):new hs(t,e,n,r??1)}function hs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}RD(hs,pR,oY(y0,{brighter(t){return t=t==null?nw:Math.pow(nw,t),new hs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ty:Math.pow(ty,t),new hs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hs(Rf(this.r),Rf(this.g),Rf(this.b),rw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hz,formatHex:hz,formatHex8:ZIe,formatRgb:dz,toString:dz}));function hz(){return`#${mf(this.r)}${mf(this.g)}${mf(this.b)}`}function ZIe(){return`#${mf(this.r)}${mf(this.g)}${mf(this.b)}${mf((isNaN(this.opacity)?1:this.opacity)*255)}`}function dz(){const t=rw(this.opacity);return`${t===1?"rgb(":"rgba("}${Rf(this.r)}, ${Rf(this.g)}, ${Rf(this.b)}${t===1?")":`, ${t})`}`}function rw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mf(t){return t=Rf(t),(t<16?"0":"")+t.toString(16)}function pz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jo(t,e,n,r)}function aY(t){if(t instanceof Jo)return new Jo(t.h,t.s,t.l,t.opacity);if(t instanceof y0||(t=ry(t)),!t)return new Jo;if(t instanceof Jo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Jo(o,a,l,t.opacity)}function QIe(t,e,n,r){return arguments.length===1?aY(t):new Jo(t,e,n,r??1)}function Jo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}RD(Jo,QIe,oY(y0,{brighter(t){return t=t==null?nw:Math.pow(nw,t),new Jo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ty:Math.pow(ty,t),new Jo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hs(JT(t>=240?t-240:t+120,i,r),JT(t,i,r),JT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Jo(mz(this.h),n_(this.s),n_(this.l),rw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rw(this.opacity);return`${t===1?"hsl(":"hsla("}${mz(this.h)}, ${n_(this.s)*100}%, ${n_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mz(t){return t=(t||0)%360,t<0?t+360:t}function n_(t){return Math.max(0,Math.min(1,t||0))}function JT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OD=t=>()=>t;function eBe(t,e){return function(n){return t+n*e}}function tBe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nBe(t){return(t=+t)==1?lY:function(e,n){return n-e?tBe(e,n,t):OD(isNaN(e)?n:e)}}function lY(t,e){var n=e-t;return n?eBe(t,n):OD(isNaN(t)?e:t)}const gz=function t(e){var n=nBe(e);function r(i,s){var o=n((i=pR(i)).r,(s=pR(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=lY(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function rBe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function iBe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sBe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=tm(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function oBe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function iw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function aBe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tm(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var mR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qT=new RegExp(mR.source,"g");function lBe(t){return function(){return t}}function cBe(t){return function(e){return t(e)+""}}function uBe(t,e){var n=mR.lastIndex=qT.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=mR.exec(t))&&(i=qT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:iw(r,i)})),n=qT.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?cBe(l[0].x):lBe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function tm(t,e){var n=typeof e,r;return e==null||n==="boolean"?OD(e):(n==="number"?iw:n==="string"?(r=ry(e))?(e=r,gz):uBe:e instanceof ry?gz:e instanceof Date?oBe:iBe(e)?rBe:Array.isArray(e)?sBe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?aBe:iw)(t,e)}function ID(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fBe(t,e){e===void 0&&(e=t,t=tm);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function hBe(t){return function(){return t}}function sw(t){return+t}var vz=[0,1];function Ji(t){return t}function gR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:hBe(isNaN(e)?NaN:.5)}function dBe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function pBe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=gR(i,r),s=n(o,s)):(r=gR(r,i),s=n(s,o)),function(a){return s(r(a))}}function mBe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=gR(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=v0(t,a,1,r)-1;return s[l](i[l](a))}}function x0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wA(){var t=vz,e=vz,n=tm,r,i,s,o=Ji,a,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Ji&&(o=dBe(t[0],t[h-1])),a=h>2?mBe:pBe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=a(e,t.map(r),iw)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,sw),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ID,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Ji,u()):o!==Ji},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,u()}}function BD(){return wA()(Ji,Ji)}function gBe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ow(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mp(t){return t=ow(Math.abs(t)),t?t[1]:NaN}function vBe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function yBe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xBe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iy(t){if(!(e=xBe.exec(t)))throw new Error("invalid format: "+t);var e;return new DD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}iy.prototype=DD.prototype;function DD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bBe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cY;function _Be(t,e){var n=ow(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(cY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ow(t,Math.max(0,e+s-1))[0]}function yz(t,e){var n=ow(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gBe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yz(t*100,e),r:yz,s:_Be,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bz(t){return t}var _z=Array.prototype.map,wz=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wBe(t){var e=t.grouping===void 0||t.thousands===void 0?bz:vBe(_z.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?bz:yBe(_z.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=iy(f);var h=f.fill,d=f.align,m=f.sign,x=f.symbol,y=f.zero,v=f.width,b=f.comma,_=f.precision,M=f.trim,w=f.type;w==="n"?(b=!0,w="g"):xz[w]||(_===void 0&&(_=12),M=!0,w="g"),(y||h==="0"&&d==="=")&&(y=!0,h="0",d="=");var A=x==="$"?n:x==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=x==="$"?r:/[%p]/.test(w)?o:"",C=xz[w],L=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(B){var H=A,q=E,z,K,Y;if(w==="c")q=C(B)+q,B="";else{B=+B;var ie=B<0||1/B<0;if(B=isNaN(B)?l:C(Math.abs(B),_),M&&(B=bBe(B)),ie&&+B==0&&m!=="+"&&(ie=!1),H=(ie?m==="("?m:a:m==="-"||m==="("?"":m)+H,q=(w==="s"?wz[8+cY/3]:"")+q+(ie&&m==="("?")":""),L){for(z=-1,K=B.length;++z<K;)if(Y=B.charCodeAt(z),48>Y||Y>57){q=(Y===46?i+B.slice(z+1):B.slice(z))+q,B=B.slice(0,z);break}}}b&&!y&&(B=e(B,1/0));var G=H.length+B.length+q.length,J=G<v?new Array(v-G+1).join(h):"";switch(b&&y&&(B=e(J+B,J.length?v-q.length:1/0),J=""),d){case"<":B=H+B+q+J;break;case"=":B=H+J+B+q;break;case"^":B=J.slice(0,G=J.length>>1)+H+B+q+J.slice(G);break;default:B=J+H+B+q;break}return s(B)}return P.toString=function(){return f+""},P}function u(f,h){var d=c((f=iy(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(mp(h)/3)))*3,x=Math.pow(10,-m),y=wz[8+m/3];return function(v){return d(x*v)+y}}return{format:c,formatPrefix:u}}var r_,LD,uY;SBe({thousands:",",grouping:[3],currency:["$",""]});function SBe(t){return r_=wBe(t),LD=r_.format,uY=r_.formatPrefix,r_}function ABe(t){return Math.max(0,-mp(Math.abs(t)))}function MBe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mp(e)/3)))*3-mp(Math.abs(t)))}function EBe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mp(e)-mp(t))+1}function fY(t,e,n,r){var i=hR(t,e,n),s;switch(r=iy(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=MBe(i,o))&&(r.precision=s),uY(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=EBe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=ABe(i))&&(r.precision=s-(r.type==="%")*2);break}}return LD(r)}function cu(t){var e=t.domain;return t.ticks=function(n){var r=e();return uR(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fY(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=fR(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function aw(){var t=BD();return t.copy=function(){return x0(t,aw())},Co.apply(t,arguments),cu(t)}function hY(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,sw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hY(t).unknown(e)},t=arguments.length?Array.from(t,sw):[0,1],cu(n)}function dY(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Sz(t){return Math.log(t)}function Az(t){return Math.exp(t)}function TBe(t){return-Math.log(-t)}function CBe(t){return-Math.exp(-t)}function PBe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function RBe(t){return t===10?PBe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function OBe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mz(t){return(e,n)=>-t(-e,n)}function ND(t){const e=t(Sz,Az),n=e.domain;let r=10,i,s;function o(){return i=OBe(r),s=RBe(r),n()[0]<0?(i=Mz(i),s=Mz(s),t(TBe,CBe)):t(Sz,Az),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),d=i(u),m,x;const y=a==null?10:+a;let v=[];if(!(r%1)&&d-h<y){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(m=1;m<r;++m)if(x=h<0?m/s(-h):m*s(h),!(x<c)){if(x>u)break;v.push(x)}}else for(;h<=d;++h)for(m=r-1;m>=1;--m)if(x=h>0?m/s(-h):m*s(h),!(x<c)){if(x>u)break;v.push(x)}v.length*2<y&&(v=uR(c,u,y))}else v=uR(h,d,Math.min(d-h,y)).map(s);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=iy(l)).precision==null&&(l.trim=!0),l=LD(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(dY(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function pY(){const t=ND(wA()).domain([1,10]);return t.copy=()=>x0(t,pY()).base(t.base()),Co.apply(t,arguments),t}function Ez(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Tz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kD(t){var e=1,n=t(Ez(e),Tz(e));return n.constant=function(r){return arguments.length?t(Ez(e=+r),Tz(e)):e},cu(n)}function mY(){var t=kD(wA());return t.copy=function(){return x0(t,mY()).constant(t.constant())},Co.apply(t,arguments)}function Cz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IBe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function BBe(t){return t<0?-t*t:t*t}function FD(t){var e=t(Ji,Ji),n=1;function r(){return n===1?t(Ji,Ji):n===.5?t(IBe,BBe):t(Cz(n),Cz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},cu(e)}function UD(){var t=FD(wA());return t.copy=function(){return x0(t,UD()).exponent(t.exponent())},Co.apply(t,arguments),t}function DBe(){return UD.apply(null,arguments).exponent(.5)}function Pz(t){return Math.sign(t)*t*t}function LBe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gY(){var t=BD(),e=[0,1],n=!1,r;function i(s){var o=LBe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(Pz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,sw)).map(Pz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gY(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Co.apply(i,arguments),cu(i)}function vY(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=jIe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[v0(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return vY().domain(t).range(e).unknown(r)},Co.apply(s,arguments)}function yY(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[v0(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return yY().domain([t,e]).range(i).unknown(s)},Co.apply(cu(o),arguments)}function xY(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[v0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xY().domain(t).range(e).unknown(n)},Co.apply(i,arguments)}const ZT=new Date,QT=new Date;function Qr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>Qr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(ZT.setTime(+s),QT.setTime(+o),t(ZT),t(QT),Math.floor(n(ZT,QT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const lw=Qr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):lw);lw.range;const gl=1e3,vo=gl*60,vl=vo*60,Rl=vl*24,jD=Rl*7,Rz=Rl*30,eC=Rl*365,gf=Qr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getUTCSeconds());gf.range;const zD=Qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gl)},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getMinutes());zD.range;const HD=Qr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getUTCMinutes());HD.range;const GD=Qr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gl-t.getMinutes()*vo)},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getHours());GD.range;const VD=Qr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getUTCHours());VD.range;const b0=Qr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vo)/Rl,t=>t.getDate()-1);b0.range;const SA=Qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rl,t=>t.getUTCDate()-1);SA.range;const bY=Qr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rl,t=>Math.floor(t/Rl));bY.range;function lh(t){return Qr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vo)/jD)}const AA=lh(0),cw=lh(1),NBe=lh(2),kBe=lh(3),gp=lh(4),FBe=lh(5),UBe=lh(6);AA.range;cw.range;NBe.range;kBe.range;gp.range;FBe.range;UBe.range;function ch(t){return Qr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jD)}const MA=ch(0),uw=ch(1),jBe=ch(2),zBe=ch(3),vp=ch(4),HBe=ch(5),GBe=ch(6);MA.range;uw.range;jBe.range;zBe.range;vp.range;HBe.range;GBe.range;const WD=Qr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WD.range;const $D=Qr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$D.range;const Ol=Qr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ol.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ol.range;const Il=Qr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Il.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Il.range;function _Y(t,e,n,r,i,s){const o=[[gf,1,gl],[gf,5,5*gl],[gf,15,15*gl],[gf,30,30*gl],[s,1,vo],[s,5,5*vo],[s,15,15*vo],[s,30,30*vo],[i,1,vl],[i,3,3*vl],[i,6,6*vl],[i,12,12*vl],[r,1,Rl],[r,2,2*Rl],[n,1,jD],[e,1,Rz],[e,3,3*Rz],[t,1,eC]];function a(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),m=d?d.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,d=CD(([,,y])=>y).right(o,h);if(d===o.length)return t.every(hR(c/eC,u/eC,f));if(d===0)return lw.every(Math.max(hR(c,u,f),1));const[m,x]=o[h/o[d-1][2]<o[d][2]/h?d-1:d];return m.every(x)}return[a,l]}const[VBe,WBe]=_Y(Il,$D,MA,bY,VD,HD),[$Be,XBe]=_Y(Ol,WD,AA,b0,GD,zD);function tC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ug(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function KBe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=fg(i),u=hg(i),f=fg(s),h=hg(s),d=fg(o),m=hg(o),x=fg(a),y=hg(a),v=fg(l),b=hg(l),_={a:ie,A:G,b:J,B:te,c:null,d:Nz,e:Nz,f:vDe,g:TDe,G:PDe,H:pDe,I:mDe,j:gDe,L:wY,m:yDe,M:xDe,p:re,q:fe,Q:Uz,s:jz,S:bDe,u:_De,U:wDe,V:SDe,w:ADe,W:MDe,x:null,X:null,y:EDe,Y:CDe,Z:RDe,"%":Fz},M={a:we,A:pe,b:Ae,B:Pe,c:null,d:kz,e:kz,f:DDe,g:VDe,G:$De,H:ODe,I:IDe,j:BDe,L:AY,m:LDe,M:NDe,p:Ze,q:nt,Q:Uz,s:jz,S:kDe,u:FDe,U:UDe,V:jDe,w:zDe,W:HDe,x:null,X:null,y:GDe,Y:WDe,Z:XDe,"%":Fz},w={a:P,A:B,b:H,B:q,c:z,d:Dz,e:Dz,f:uDe,g:Bz,G:Iz,H:Lz,I:Lz,j:oDe,L:cDe,m:sDe,M:aDe,p:L,q:iDe,Q:hDe,s:dDe,S:lDe,u:QBe,U:eDe,V:tDe,w:ZBe,W:nDe,x:K,X:Y,y:Bz,Y:Iz,Z:rDe,"%":fDe};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),M.x=A(n,M),M.X=A(r,M),M.c=A(e,M);function A(Ie,et){return function(Xe){var X=[],Le=-1,Se=0,Ve=Ie.length,Re,dt,it;for(Xe instanceof Date||(Xe=new Date(+Xe));++Le<Ve;)Ie.charCodeAt(Le)===37&&(X.push(Ie.slice(Se,Le)),(dt=Oz[Re=Ie.charAt(++Le)])!=null?Re=Ie.charAt(++Le):dt=Re==="e"?" ":"0",(it=et[Re])&&(Re=it(Xe,dt)),X.push(Re),Se=Le+1);return X.push(Ie.slice(Se,Le)),X.join("")}}function E(Ie,et){return function(Xe){var X=ug(1900,void 0,1),Le=C(X,Ie,Xe+="",0),Se,Ve;if(Le!=Xe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(et&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Se=nC(ug(X.y,0,1)),Ve=Se.getUTCDay(),Se=Ve>4||Ve===0?uw.ceil(Se):uw(Se),Se=SA.offset(Se,(X.V-1)*7),X.y=Se.getUTCFullYear(),X.m=Se.getUTCMonth(),X.d=Se.getUTCDate()+(X.w+6)%7):(Se=tC(ug(X.y,0,1)),Ve=Se.getDay(),Se=Ve>4||Ve===0?cw.ceil(Se):cw(Se),Se=b0.offset(Se,(X.V-1)*7),X.y=Se.getFullYear(),X.m=Se.getMonth(),X.d=Se.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ve="Z"in X?nC(ug(X.y,0,1)).getUTCDay():tC(ug(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ve+5)%7:X.w+X.U*7-(Ve+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,nC(X)):tC(X)}}function C(Ie,et,Xe,X){for(var Le=0,Se=et.length,Ve=Xe.length,Re,dt;Le<Se;){if(X>=Ve)return-1;if(Re=et.charCodeAt(Le++),Re===37){if(Re=et.charAt(Le++),dt=w[Re in Oz?et.charAt(Le++):Re],!dt||(X=dt(Ie,Xe,X))<0)return-1}else if(Re!=Xe.charCodeAt(X++))return-1}return X}function L(Ie,et,Xe){var X=c.exec(et.slice(Xe));return X?(Ie.p=u.get(X[0].toLowerCase()),Xe+X[0].length):-1}function P(Ie,et,Xe){var X=d.exec(et.slice(Xe));return X?(Ie.w=m.get(X[0].toLowerCase()),Xe+X[0].length):-1}function B(Ie,et,Xe){var X=f.exec(et.slice(Xe));return X?(Ie.w=h.get(X[0].toLowerCase()),Xe+X[0].length):-1}function H(Ie,et,Xe){var X=v.exec(et.slice(Xe));return X?(Ie.m=b.get(X[0].toLowerCase()),Xe+X[0].length):-1}function q(Ie,et,Xe){var X=x.exec(et.slice(Xe));return X?(Ie.m=y.get(X[0].toLowerCase()),Xe+X[0].length):-1}function z(Ie,et,Xe){return C(Ie,e,et,Xe)}function K(Ie,et,Xe){return C(Ie,n,et,Xe)}function Y(Ie,et,Xe){return C(Ie,r,et,Xe)}function ie(Ie){return o[Ie.getDay()]}function G(Ie){return s[Ie.getDay()]}function J(Ie){return l[Ie.getMonth()]}function te(Ie){return a[Ie.getMonth()]}function re(Ie){return i[+(Ie.getHours()>=12)]}function fe(Ie){return 1+~~(Ie.getMonth()/3)}function we(Ie){return o[Ie.getUTCDay()]}function pe(Ie){return s[Ie.getUTCDay()]}function Ae(Ie){return l[Ie.getUTCMonth()]}function Pe(Ie){return a[Ie.getUTCMonth()]}function Ze(Ie){return i[+(Ie.getUTCHours()>=12)]}function nt(Ie){return 1+~~(Ie.getUTCMonth()/3)}return{format:function(Ie){var et=A(Ie+="",_);return et.toString=function(){return Ie},et},parse:function(Ie){var et=E(Ie+="",!1);return et.toString=function(){return Ie},et},utcFormat:function(Ie){var et=A(Ie+="",M);return et.toString=function(){return Ie},et},utcParse:function(Ie){var et=E(Ie+="",!0);return et.toString=function(){return Ie},et}}}var Oz={"-":"",_:" ",0:"0"},ci=/^\s*\d+/,YBe=/^%/,JBe=/[\\^$*+?|[\]().{}]/g;function En(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function qBe(t){return t.replace(JBe,"\\$&")}function fg(t){return new RegExp("^(?:"+t.map(qBe).join("|")+")","i")}function hg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ZBe(t,e,n){var r=ci.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function QBe(t,e,n){var r=ci.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eDe(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tDe(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nDe(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Iz(t,e,n){var r=ci.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bz(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rDe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iDe(t,e,n){var r=ci.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function sDe(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Dz(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oDe(t,e,n){var r=ci.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Lz(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aDe(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lDe(t,e,n){var r=ci.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cDe(t,e,n){var r=ci.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function uDe(t,e,n){var r=ci.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fDe(t,e,n){var r=YBe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hDe(t,e,n){var r=ci.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function dDe(t,e,n){var r=ci.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Nz(t,e){return En(t.getDate(),e,2)}function pDe(t,e){return En(t.getHours(),e,2)}function mDe(t,e){return En(t.getHours()%12||12,e,2)}function gDe(t,e){return En(1+b0.count(Ol(t),t),e,3)}function wY(t,e){return En(t.getMilliseconds(),e,3)}function vDe(t,e){return wY(t,e)+"000"}function yDe(t,e){return En(t.getMonth()+1,e,2)}function xDe(t,e){return En(t.getMinutes(),e,2)}function bDe(t,e){return En(t.getSeconds(),e,2)}function _De(t){var e=t.getDay();return e===0?7:e}function wDe(t,e){return En(AA.count(Ol(t)-1,t),e,2)}function SY(t){var e=t.getDay();return e>=4||e===0?gp(t):gp.ceil(t)}function SDe(t,e){return t=SY(t),En(gp.count(Ol(t),t)+(Ol(t).getDay()===4),e,2)}function ADe(t){return t.getDay()}function MDe(t,e){return En(cw.count(Ol(t)-1,t),e,2)}function EDe(t,e){return En(t.getFullYear()%100,e,2)}function TDe(t,e){return t=SY(t),En(t.getFullYear()%100,e,2)}function CDe(t,e){return En(t.getFullYear()%1e4,e,4)}function PDe(t,e){var n=t.getDay();return t=n>=4||n===0?gp(t):gp.ceil(t),En(t.getFullYear()%1e4,e,4)}function RDe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+En(e/60|0,"0",2)+En(e%60,"0",2)}function kz(t,e){return En(t.getUTCDate(),e,2)}function ODe(t,e){return En(t.getUTCHours(),e,2)}function IDe(t,e){return En(t.getUTCHours()%12||12,e,2)}function BDe(t,e){return En(1+SA.count(Il(t),t),e,3)}function AY(t,e){return En(t.getUTCMilliseconds(),e,3)}function DDe(t,e){return AY(t,e)+"000"}function LDe(t,e){return En(t.getUTCMonth()+1,e,2)}function NDe(t,e){return En(t.getUTCMinutes(),e,2)}function kDe(t,e){return En(t.getUTCSeconds(),e,2)}function FDe(t){var e=t.getUTCDay();return e===0?7:e}function UDe(t,e){return En(MA.count(Il(t)-1,t),e,2)}function MY(t){var e=t.getUTCDay();return e>=4||e===0?vp(t):vp.ceil(t)}function jDe(t,e){return t=MY(t),En(vp.count(Il(t),t)+(Il(t).getUTCDay()===4),e,2)}function zDe(t){return t.getUTCDay()}function HDe(t,e){return En(uw.count(Il(t)-1,t),e,2)}function GDe(t,e){return En(t.getUTCFullYear()%100,e,2)}function VDe(t,e){return t=MY(t),En(t.getUTCFullYear()%100,e,2)}function WDe(t,e){return En(t.getUTCFullYear()%1e4,e,4)}function $De(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vp(t):vp.ceil(t),En(t.getUTCFullYear()%1e4,e,4)}function XDe(){return"+0000"}function Fz(){return"%"}function Uz(t){return+t}function jz(t){return Math.floor(+t/1e3)}var Zh,EY,TY;KDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KDe(t){return Zh=KBe(t),EY=Zh.format,Zh.parse,TY=Zh.utcFormat,Zh.utcParse,Zh}function YDe(t){return new Date(t)}function JDe(t){return t instanceof Date?+t:+new Date(+t)}function XD(t,e,n,r,i,s,o,a,l,c){var u=BD(),f=u.invert,h=u.domain,d=c(".%L"),m=c(":%S"),x=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),_=c("%B"),M=c("%Y");function w(A){return(l(A)<A?d:a(A)<A?m:o(A)<A?x:s(A)<A?y:r(A)<A?i(A)<A?v:b:n(A)<A?_:M)(A)}return u.invert=function(A){return new Date(f(A))},u.domain=function(A){return arguments.length?h(Array.from(A,JDe)):h().map(YDe)},u.ticks=function(A){var E=h();return t(E[0],E[E.length-1],A??10)},u.tickFormat=function(A,E){return E==null?w:c(E)},u.nice=function(A){var E=h();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?h(dY(E,A)):u},u.copy=function(){return x0(u,XD(t,e,n,r,i,s,o,a,l,c))},u}function qDe(){return Co.apply(XD($Be,XBe,Ol,WD,AA,b0,GD,zD,gf,EY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZDe(){return Co.apply(XD(VBe,WBe,Il,$D,MA,SA,VD,HD,gf,TY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EA(){var t=0,e=1,n,r,i,s,o=Ji,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var d,m;return arguments.length?([d,m]=h,o=f(d,m),c):[o(0),o(1)]}}return c.range=u(tm),c.rangeRound=u(ID),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function uu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function CY(){var t=cu(EA()(Ji));return t.copy=function(){return uu(t,CY())},zl.apply(t,arguments)}function PY(){var t=ND(EA()).domain([1,10]);return t.copy=function(){return uu(t,PY()).base(t.base())},zl.apply(t,arguments)}function RY(){var t=kD(EA());return t.copy=function(){return uu(t,RY()).constant(t.constant())},zl.apply(t,arguments)}function KD(){var t=FD(EA());return t.copy=function(){return uu(t,KD()).exponent(t.exponent())},zl.apply(t,arguments)}function QDe(){return KD.apply(null,arguments).exponent(.5)}function OY(){var t=[],e=Ji;function n(r){if(r!=null&&!isNaN(r=+r))return e((v0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>UIe(t,s/r))},n.copy=function(){return OY(e).domain(t)},zl.apply(n,arguments)}function TA(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=Ji,u,f=!1,h;function d(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-s)*(r*x<r*s?a:l),c(f?Math.max(0,Math.min(1,x)):x))}d.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),s=u(e=+e),o=u(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,d):[t,e,n]},d.clamp=function(x){return arguments.length?(f=!!x,d):f},d.interpolator=function(x){return arguments.length?(c=x,d):c};function m(x){return function(y){var v,b,_;return arguments.length?([v,b,_]=y,c=fBe(x,[v,b,_]),d):[c(0),c(.5),c(1)]}}return d.range=m(tm),d.rangeRound=m(ID),d.unknown=function(x){return arguments.length?(h=x,d):h},function(x){return u=x,i=x(t),s=x(e),o=x(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,d}}function IY(){var t=cu(TA()(Ji));return t.copy=function(){return uu(t,IY())},zl.apply(t,arguments)}function BY(){var t=ND(TA()).domain([.1,1,10]);return t.copy=function(){return uu(t,BY()).base(t.base())},zl.apply(t,arguments)}function DY(){var t=kD(TA());return t.copy=function(){return uu(t,DY()).constant(t.constant())},zl.apply(t,arguments)}function YD(){var t=FD(TA());return t.copy=function(){return uu(t,YD()).exponent(t.exponent())},zl.apply(t,arguments)}function eLe(){return YD.apply(null,arguments).exponent(.5)}const zz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ey,scaleDiverging:IY,scaleDivergingLog:BY,scaleDivergingPow:YD,scaleDivergingSqrt:eLe,scaleDivergingSymlog:DY,scaleIdentity:hY,scaleImplicit:dR,scaleLinear:aw,scaleLog:pY,scaleOrdinal:PD,scalePoint:Jg,scalePow:UD,scaleQuantile:vY,scaleQuantize:yY,scaleRadial:gY,scaleSequential:CY,scaleSequentialLog:PY,scaleSequentialPow:KD,scaleSequentialQuantile:OY,scaleSequentialSqrt:QDe,scaleSequentialSymlog:RY,scaleSqrt:DBe,scaleSymlog:mY,scaleThreshold:xY,scaleTime:qDe,scaleUtc:ZDe,tickFormat:fY},Symbol.toStringTag,{value:"Module"}));var tLe=$p;function nLe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!tLe(o):n(o,a)))var a=o,l=s}return l}var LY=nLe;function rLe(t,e){return t>e}var iLe=rLe,sLe=LY,oLe=iLe,aLe=Qp;function lLe(t){return t&&t.length?sLe(t,aLe,oLe):void 0}var cLe=lLe;const CA=Ln(cLe);function uLe(t,e){return t<e}var fLe=uLe,hLe=LY,dLe=fLe,pLe=Qp;function mLe(t){return t&&t.length?hLe(t,pLe,dLe):void 0}var gLe=mLe;const PA=Ln(gLe);var vLe=cD,yLe=lu,xLe=GK,bLe=xs;function _Le(t,e){var n=bLe(t)?vLe:xLe;return n(t,yLe(e))}var wLe=_Le,SLe=zK,ALe=wLe;function MLe(t,e){return SLe(ALe(t,e),1)}var ELe=MLe;const TLe=Ln(ELe);var CLe=AD;function PLe(t,e){return CLe(t,e)}var RLe=PLe;const RA=Ln(RLe);var nm=1e9,OLe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qD,ar=!0,Mo="[DecimalError] ",Of=Mo+"Invalid argument: ",JD=Mo+"Exponent out of range: ",rm=Math.floor,Ku=Math.pow,ILe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ds,ii=1e7,qn=7,NY=9007199254740991,fw=rm(NY/qn),Rt={};Rt.absoluteValue=Rt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Rt.comparedTo=Rt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Rt.decimalPlaces=Rt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Rt.dividedBy=Rt.div=function(t){return Sl(this,new this.constructor(t))};Rt.dividedToIntegerBy=Rt.idiv=function(t){var e=this,n=e.constructor;return Un(Sl(e,new n(t),0,1),n.precision)};Rt.equals=Rt.eq=function(t){return!this.cmp(t)};Rt.exponent=function(){return zr(this)};Rt.greaterThan=Rt.gt=function(t){return this.cmp(t)>0};Rt.greaterThanOrEqualTo=Rt.gte=function(t){return this.cmp(t)>=0};Rt.isInteger=Rt.isint=function(){return this.e>this.d.length-2};Rt.isNegative=Rt.isneg=function(){return this.s<0};Rt.isPositive=Rt.ispos=function(){return this.s>0};Rt.isZero=function(){return this.s===0};Rt.lessThan=Rt.lt=function(t){return this.cmp(t)<0};Rt.lessThanOrEqualTo=Rt.lte=function(t){return this.cmp(t)<1};Rt.logarithm=Rt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ds))throw Error(Mo+"NaN");if(n.s<1)throw Error(Mo+(n.s?"NaN":"-Infinity"));return n.eq(Ds)?new r(0):(ar=!1,e=Sl(sy(n,s),sy(t,s),s),ar=!0,Un(e,i))};Rt.minus=Rt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UY(e,t):kY(e,(t.s=-t.s,t))};Rt.modulo=Rt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mo+"NaN");return n.s?(ar=!1,e=Sl(n,t,0,1).times(t),ar=!0,n.minus(e)):Un(new r(n),i)};Rt.naturalExponential=Rt.exp=function(){return FY(this)};Rt.naturalLogarithm=Rt.ln=function(){return sy(this)};Rt.negated=Rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Rt.plus=Rt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kY(e,t):UY(e,(t.s=-t.s,t))};Rt.precision=Rt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Of+t);if(e=zr(i)+1,r=i.d.length-1,n=r*qn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Rt.squareRoot=Rt.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Mo+"NaN")}for(t=zr(a),ar=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ca(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Sl(a,s,o+2)).times(.5),Ca(s.d).slice(0,o)===(e=Ca(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Un(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return ar=!0,Un(r,n)};Rt.times=Rt.mul=function(t){var e,n,r,i,s,o,a,l,c,u=this,f=u.constructor,h=u.d,d=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=d.length,l<c&&(s=h,h=d,d=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+d[r]*h[i-r-1]+e,s[i--]=a%ii|0,e=a/ii|0;s[i]=(s[i]+e)%ii|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,ar?Un(t,f.precision):t};Rt.toDecimalPlaces=Rt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ha(t,0,nm),e===void 0?e=r.rounding:Ha(e,0,8),Un(n,t+zr(n)+1,e))};Rt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yf(r,!0):(Ha(t,0,nm),e===void 0?e=i.rounding:Ha(e,0,8),r=Un(new i(r),t+1,e),n=Yf(r,!0,t+1)),n};Rt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Yf(i):(Ha(t,0,nm),e===void 0?e=s.rounding:Ha(e,0,8),r=Un(new s(i),t+zr(i)+1,e),n=Yf(r.abs(),!1,t+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Rt.toInteger=Rt.toint=function(){var t=this,e=t.constructor;return Un(new e(t),zr(t)+1,e.rounding)};Rt.toNumber=function(){return+this};Rt.toPower=Rt.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Ds);if(a=new l(a),!a.s){if(t.s<1)throw Error(Mo+"Infinity");return a}if(a.eq(Ds))return a;if(r=l.precision,t.eq(Ds))return Un(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=u<0?-u:u)<=NY){for(i=new l(Ds),e=Math.ceil(r/qn+4),ar=!1;n%2&&(i=i.times(a),Gz(i.d,e)),n=rm(n/2),n!==0;)a=a.times(a),Gz(a.d,e);return ar=!0,t.s<0?new l(Ds).div(i):Un(i,r)}}else if(s<0)throw Error(Mo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ar=!1,i=t.times(sy(a,r+c)),ar=!0,i=FY(i),i.s=s,i};Rt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zr(i),r=Yf(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ha(t,1,nm),e===void 0?e=s.rounding:Ha(e,0,8),i=Un(new s(i),t,e),n=zr(i),r=Yf(i,t<=n||n<=s.toExpNeg,t)),r};Rt.toSignificantDigits=Rt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ha(t,1,nm),e===void 0?e=r.rounding:Ha(e,0,8)),Un(new r(n),t,e)};Rt.toString=Rt.valueOf=Rt.val=Rt.toJSON=Rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zr(t),n=t.constructor;return Yf(t,e<=n.toExpNeg||e>=n.toExpPos)};function kY(t,e){var n,r,i,s,o,a,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ar?Un(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(f/qn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/ii|0,l[s]%=ii;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ar?Un(e,f):e}function Ha(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Of+t)}function Ca(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=qn-r.length,n&&(s+=dc(n)),s+=r;o=t[e],r=o+"",n=qn-r.length,n&&(s+=dc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Sl=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%ii|0,o=s/ii|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*ii+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,u,f,h,d,m,x,y,v,b,_,M,w,A,E,C,L=r.constructor,P=r.s==i.s?1:-1,B=r.d,H=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Mo+"Division by zero");for(l=r.e-i.e,E=H.length,w=B.length,d=new L(P),m=d.d=[],c=0;H[c]==(B[c]||0);)++c;if(H[c]>(B[c]||0)&&--l,s==null?b=s=L.precision:o?b=s+(zr(r)-zr(i))+1:b=s,b<0)return new L(0);if(b=b/qn+2|0,c=0,E==1)for(u=0,H=H[0],b++;(c<w||u)&&b--;c++)_=u*ii+(B[c]||0),m[c]=_/H|0,u=_%H|0;else{for(u=ii/(H[0]+1)|0,u>1&&(H=t(H,u),B=t(B,u),E=H.length,w=B.length),M=E,x=B.slice(0,E),y=x.length;y<E;)x[y++]=0;C=H.slice(),C.unshift(0),A=H[0],H[1]>=ii/2&&++A;do u=0,a=e(H,x,E,y),a<0?(v=x[0],E!=y&&(v=v*ii+(x[1]||0)),u=v/A|0,u>1?(u>=ii&&(u=ii-1),f=t(H,u),h=f.length,y=x.length,a=e(f,x,h,y),a==1&&(u--,n(f,E<h?C:H,h))):(u==0&&(a=u=1),f=H.slice()),h=f.length,h<y&&f.unshift(0),n(x,f,y),a==-1&&(y=x.length,a=e(H,x,E,y),a<1&&(u++,n(x,E<y?C:H,y))),y=x.length):a===0&&(u++,x=[0]),m[c++]=u,a&&x[0]?x[y++]=B[M]||0:(x=[B[M]],y=1);while((M++<w||x[0]!==void 0)&&b--)}return m[0]||m.shift(),d.e=l,Un(d,o?s+zr(d)+1:s)}}();function FY(t,e){var n,r,i,s,o,a,l=0,c=0,u=t.constructor,f=u.precision;if(zr(t)>16)throw Error(JD+zr(t));if(!t.s)return new u(Ds);for(ar=!1,a=f,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Ku(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new u(Ds),u.precision=a;;){if(i=Un(i.times(t),a),n=n.times(++l),o=s.plus(Sl(i,n,a)),Ca(o.d).slice(0,a)===Ca(s.d).slice(0,a)){for(;c--;)s=Un(s.times(s),a);return u.precision=f,e==null?(ar=!0,Un(s,f)):s}s=o}}function zr(t){for(var e=t.e*qn,n=t.d[0];n>=10;n/=10)e++;return e}function rC(t,e,n){if(e>t.LN10.sd())throw ar=!0,n&&(t.precision=n),Error(Mo+"LN10 precision limit exceeded");return Un(new t(t.LN10),e)}function dc(t){for(var e="";t--;)e+="0";return e}function sy(t,e){var n,r,i,s,o,a,l,c,u,f=1,h=10,d=t,m=d.d,x=d.constructor,y=x.precision;if(d.s<1)throw Error(Mo+(d.s?"NaN":"-Infinity"));if(d.eq(Ds))return new x(0);if(e==null?(ar=!1,c=y):c=e,d.eq(10))return e==null&&(ar=!0),rC(x,c);if(c+=h,x.precision=c,n=Ca(m),r=n.charAt(0),s=zr(d),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)d=d.times(t),n=Ca(d.d),r=n.charAt(0),f++;s=zr(d),r>1?(d=new x("0."+n),s++):d=new x(r+"."+n.slice(1))}else return l=rC(x,c+2,y).times(s+""),d=sy(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=y,e==null?(ar=!0,Un(d,y)):d;for(a=o=d=Sl(d.minus(Ds),d.plus(Ds),c),u=Un(d.times(d),c),i=3;;){if(o=Un(o.times(u),c),l=a.plus(Sl(o,new x(i),c)),Ca(l.d).slice(0,c)===Ca(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(rC(x,c+2,y).times(s+""))),a=Sl(a,new x(f),c),x.precision=y,e==null?(ar=!0,Un(a,y)):a;a=l,i+=2}}function Hz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=rm(n/qn),t.d=[],r=(n+1)%qn,n<0&&(r+=qn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qn;r<i;)t.d.push(+e.slice(r,r+=qn));e=e.slice(r),r=qn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ar&&(t.e>fw||t.e<-fw))throw Error(JD+n)}else t.s=0,t.e=0,t.d=[0];return t}function Un(t,e,n){var r,i,s,o,a,l,c,u,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=qn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/qn),s=f.length,u>=s)return t;for(c=s=f[u],o=1;s>=10;s/=10)o++;r%=qn,i=r-qn+o}if(n!==void 0&&(s=Ku(10,o-i-1),a=c/s%10|0,l=e<0||f[u+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Ku(10,o-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=zr(t),f.length=1,e=e-s-1,f[0]=Ku(10,(qn-e%qn)%qn),t.e=rm(-e/qn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=Ku(10,qn-r),f[u]=i>0?(c/Ku(10,o-i)%Ku(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==ii&&(f[0]=1,++t.e);break}else{if(f[u]+=s,f[u]!=ii)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(ar&&(t.e>fw||t.e<-fw))throw Error(JD+zr(t));return t}function UY(t,e){var n,r,i,s,o,a,l,c,u,f,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ar?Un(e,d):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(d/qn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=ii-1;--l[s],l[i]+=ii}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ar?Un(e,d):e):new h(0)}function Yf(t,e,n){var r,i=zr(t),s=Ca(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+dc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+dc(-i-1)+s,n&&(r=n-o)>0&&(s+=dc(r))):i>=o?(s+=dc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+dc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=dc(r))),t.s<0?"-"+s:s}function Gz(t,e){if(t.length>e)return t.length=e,!0}function jY(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Of+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Hz(o,s.toString())}else if(typeof s!="string")throw Error(Of+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,ILe.test(s))Hz(o,s);else throw Error(Of+s)}if(i.prototype=Rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jY,i.config=i.set=BLe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function BLe(t){if(!t||typeof t!="object")throw Error(Mo+"Object expected");var e,n,r,i=["precision",1,nm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(rm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Of+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Of+n+": "+r);return this}var qD=jY(OLe);Ds=new qD(1);const kn=qD;function DLe(t){return FLe(t)||kLe(t)||NLe(t)||LLe()}function LLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NLe(t,e){if(t){if(typeof t=="string")return vR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vR(t,e)}}function kLe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FLe(t){if(Array.isArray(t))return vR(t)}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ULe=function(e){return e},zY={},HY=function(e){return e===zY},Vz=function(e){return function n(){return arguments.length===0||arguments.length===1&&HY(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},jLe=function t(e,n){return e===1?n:Vz(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==zY}).length;return o>=e?n.apply(void 0,i):t(e-o,Vz(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(f){return HY(f)?l.shift():f});return n.apply(void 0,DLe(u).concat(l))}))})},OA=function(e){return jLe(e.length,e)},yR=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},zLe=OA(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),HLe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ULe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},xR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},GY=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function GLe(t){var e;return t===0?e=1:e=Math.floor(new kn(t).abs().log(10).toNumber())+1,e}function VLe(t,e,n){for(var r=new kn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var WLe=OA(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$Le=OA(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),XLe=OA(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const IA={rangeStep:VLe,getDigitCount:GLe,interpolateNumber:WLe,uninterpolateNumber:$Le,uninterpolateTruncation:XLe};function bR(t){return JLe(t)||YLe(t)||VY(t)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YLe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function JLe(t){if(Array.isArray(t))return _R(t)}function oy(t,e){return QLe(t)||ZLe(t,e)||VY(t,e)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(t,e){if(t){if(typeof t=="string")return _R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(t,e)}}function _R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZLe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function QLe(t){if(Array.isArray(t))return t}function WY(t){var e=oy(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function $Y(t,e,n){if(t.lte(0))return new kn(0);var r=IA.getDigitCount(t.toNumber()),i=new kn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new kn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new kn(Math.ceil(l))}function eNe(t,e,n){var r=1,i=new kn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new kn(10).pow(IA.getDigitCount(t)-1),i=new kn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new kn(Math.floor(t)))}else t===0?i=new kn(Math.floor((e-1)/2)):n||(i=new kn(Math.floor(t)));var o=Math.floor((e-1)/2),a=HLe(zLe(function(l){return i.add(new kn(l-o).mul(r)).toNumber()}),yR);return a(0,e)}function XY(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new kn(0),tickMin:new kn(0),tickMax:new kn(0)};var s=$Y(new kn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new kn(0):(o=new kn(t).add(e).div(2),o=o.sub(new kn(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new kn(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?XY(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new kn(a).mul(s)),tickMax:o.add(new kn(l).mul(s))})}function tNe(t){var e=oy(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=WY([n,r]),l=oy(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(bR(yR(0,i-1).map(function(){return 1/0}))):[].concat(bR(yR(0,i-1).map(function(){return-1/0})),[u]);return n>r?xR(f):f}if(c===u)return eNe(c,i,s);var h=XY(c,u,o,s),d=h.step,m=h.tickMin,x=h.tickMax,y=IA.rangeStep(m,x.add(new kn(.1).mul(d)),d);return n>r?xR(y):y}function nNe(t,e){var n=oy(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WY([r,i]),a=oy(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=$Y(new kn(c).sub(l).div(u-1),s,0),h=[].concat(bR(IA.rangeStep(new kn(l),new kn(c).sub(new kn(.99).mul(f)),f)),[c]);return r>i?xR(h):h}var rNe=GY(tNe),iNe=GY(nNe),sNe="Invariant failed";function Jf(t,e){throw new Error(sNe)}var oNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function aNe(t,e){return fNe(t)||uNe(t,e)||cNe(t,e)||lNe()}function lNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cNe(t,e){if(t){if(typeof t=="string")return Wz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wz(t,e)}}function Wz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function fNe(t){if(Array.isArray(t))return t}function hNe(t,e){if(t==null)return{};var n=dNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JY(r.key),r)}}function gNe(t,e,n){return e&&mNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vNe(t,e,n){return e=dw(e),yNe(t,KY()?Reflect.construct(e,n||[],dw(t).constructor):e.apply(t,n))}function yNe(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xNe(t)}function xNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(t)}function bNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wR(t,e)}function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wR(t,e)}function YY(t,e,n){return e=JY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=_Ne(t,"string");return yp(e)=="symbol"?e:e+""}function _Ne(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _0=function(t){function e(){return pNe(this,e),vNe(this,e,arguments)}return bNe(e,t),gNe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,h=hNe(r,oNe),d=pn(h,!1);this.props.direction==="x"&&u.type!=="number"&&Jf();var m=l.map(function(x){var y=c(x,a),v=y.x,b=y.y,_=y.value,M=y.errorVal;if(!M)return null;var w=[],A,E;if(Array.isArray(M)){var C=aNe(M,2);A=C[0],E=C[1]}else A=E=M;if(s==="vertical"){var L=u.scale,P=b+i,B=P+o,H=P-o,q=L(_-A),z=L(_+E);w.push({x1:z,y1:B,x2:z,y2:H}),w.push({x1:q,y1:P,x2:z,y2:P}),w.push({x1:q,y1:B,x2:q,y2:H})}else if(s==="horizontal"){var K=f.scale,Y=v+i,ie=Y-o,G=Y+o,J=K(_-A),te=K(_+E);w.push({x1:ie,y1:te,x2:G,y2:te}),w.push({x1:Y,y1:J,x2:Y,y2:te}),w.push({x1:ie,y1:J,x2:G,y2:J})}return me.createElement(Rr,hw({className:"recharts-errorBar",key:"bar-".concat(w.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},d),w.map(function(re){return me.createElement("line",hw({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return me.createElement(Rr,{className:"recharts-errorBars"},m)}}])}(me.Component);YY(_0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YY(_0,"displayName","ErrorBar");function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function $z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(n),!0).forEach(function(r){wNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wNe(t,e,n){return e=SNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SNe(t){var e=ANe(t,"string");return ay(e)=="symbol"?e:e+""}function ANe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qY=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ps(n,Gd);if(!o)return null;var a=Gd.defaultProps,l=a!==void 0?Nu(Nu({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(u,f){var h=f.item,d=f.props,m=d.sectors||d.data||[];return u.concat(m.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?Nu(Nu({},h),f.props):{},m=d.dataKey,x=d.name,y=d.legendType,v=d.hide;return{inactive:v,dataKey:m,type:l.iconType||y||"square",color:ZD(f),value:x||m,payload:d}}),Nu(Nu(Nu({},l),Gd.getWithHeight(o,i)),{},{payload:c,item:o})};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Xz(t){return CNe(t)||TNe(t)||ENe(t)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ENe(t,e){if(t){if(typeof t=="string")return SR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(t,e)}}function TNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CNe(t){if(Array.isArray(t))return SR(t)}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(n),!0).forEach(function(r){Wd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wd(t,e,n){return e=PNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PNe(t){var e=RNe(t,"string");return ly(e)=="symbol"?e:e+""}function RNe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zs(t,e,n){return fn(t)||fn(e)?n:Kr(e)?xo(t,e,n):rn(e)?e(t):n}function qg(t,e,n,r){var i=TLe(t,function(a){return zs(a,e)});if(n==="number"){var s=i.filter(function(a){return mt(a)||parseFloat(a)});return s.length?[PA(s),CA(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!fn(a)}):i;return o.map(function(a){return Kr(a)||a instanceof Date?a:""})}var ONe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,d=void 0;if(Qo(f-u)!==Qo(h-f)){var m=[];if(Qo(h-f)===Qo(l[1]-l[0])){d=h;var x=f+l[1]-l[0];m[0]=Math.min(x,(x+u)/2),m[1]=Math.max(x,(x+u)/2)}else{d=u;var y=h+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var b=Math.min(u,h),_=Math.max(u,h);if(e>(b+f)/2&&e<=(_+f)/2){o=i[c].index;break}}}else for(var M=0;M<a;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<a-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===a-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){o=r[M].index;break}return o},ZD=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},INe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var u=s[a[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var m=u[f[h]],x=m.items,y=m.cateAxisId,v=x.filter(function(E){return _l(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,_=b!==void 0?_r(_r({},b),v[0].props):v[0].props,M=_.barSize,w=_[y];o[w]||(o[w]=[]);var A=fn(M)?n:M;o[w].push({item:v[0],stackList:v.slice(1),barSize:fn(A)?void 0:Kf(A,r,0)})}}return o},BNe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=Kf(n,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=i/l,m=o.reduce(function(M,w){return M+w.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&d>0&&(h=!0,d*=.9,m=l*d);var x=(i-m)/2>>0,y={offset:x-c,size:0};u=o.reduce(function(M,w){var A={item:w.item,position:{offset:y.offset+y.size+c,size:h?d:w.barSize}},E=[].concat(Xz(M),[A]);return y=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){E.push({item:C,position:y})}),E},f)}else{var v=Kf(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var _=a===+a?Math.min(b,a):b;u=o.reduce(function(M,w,A){var E=[].concat(Xz(M),[{item:w.item,position:{offset:v+(b+c)*A+(b-_)/2,size:_}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return u},DNe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=qY({children:s,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,d=c.align,m=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&m==="middle")&&d!=="center"&&mt(e[d]))return _r(_r({},e),{},Wd({},d,e[d]+(f||0)));if((x==="horizontal"||x==="vertical"&&d==="center")&&m!=="middle"&&mt(e[m]))return _r(_r({},e),{},Wd({},m,e[m]+(h||0)))}return e},LNe=function(e,n,r){return fn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ZY=function(e,n,r,i,s){var o=n.props.children,a=bo(o,_0).filter(function(c){return LNe(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=zs(u,r);if(fn(f))return c;var h=Array.isArray(f)?[PA(f),CA(f)]:[f,f],d=l.reduce(function(m,x){var y=zs(u,x,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},NNe=function(e,n,r,i,s){var o=n.map(function(a){return ZY(e,a,r,s,i)}).filter(function(a){return!fn(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},QY=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&ZY(e,l,c,i)||qg(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},eJ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},tJ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},yl=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Qo(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!p0(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:s?s[f]:f,index:h,offset:c}})},iC=new WeakMap,i_=function(e,n){if(typeof n!="function")return e;iC.has(e)||iC.set(e,new WeakMap);var r=iC.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},kNe=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:ey(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:aw(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jg(),realScaleType:"point"}:s==="category"?{scale:ey(),realScaleType:"band"}:{scale:aw(),realScaleType:"linear"};if(Xf(i)){var l="scale".concat(mA(i));return{scale:(zz[l]||Jg)(),realScaleType:zz[l]?l:"point"}}return rn(i)?{scale:i}:{scale:Jg(),realScaleType:"point"}},Yz=1e-4,FNe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-Yz,o=Math.max(i[0],i[1])+Yz,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},UNe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},jNe=function(e,n){if(!n||n.length!==2||!mt(n[0])||!mt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!mt(e[0])||e[0]<r)&&(s[0]=r),(!mt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},zNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=p0(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},HNe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=p0(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},GNe={sign:zNe,expand:iAe,none:up,silhouette:sAe,wiggle:oAe,positive:HNe},VNe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=GNe[r],o=rAe().keys(i).value(function(a,l){return+zs(a,l,0)}).order(K2).offset(s);return o(e)},WNe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(f,h){var d,m=(d=h.type)!==null&&d!==void 0&&d.defaultProps?_r(_r({},h.type.defaultProps),h.props):h.props,x=m.stackId,y=m.hide;if(y)return f;var v=m[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(Kr(x)){var _=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[x]=_}else b.stackGroups[m0("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return _r(_r({},f),{},Wd({},v,b))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(x,y){var v=d.stackGroups[y];return _r(_r({},x),{},Wd({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:VNe(e,v.items,s)}))},m)}return _r(_r({},f),{},Wd({},h,d))},u)},$Ne=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=rNe(c,s,a);return e.domain([PA(u),CA(u)]),{niceTicks:u}}if(s&&i==="number"){var f=e.domain(),h=iNe(f,s,a);return{niceTicks:h}}return null};function Jz(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!fn(i[e.dataKey])){var a=F1(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=zs(i,fn(o)?e.dataKey:o);return fn(l)?null:e.scale(l)}var qz=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=zs(o,n.dataKey,n.domain[a]);return fn(l)?null:n.scale(l)-s/2+i},XNe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},KNe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Kr(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},YNe=function(e){return e.reduce(function(n,r){return[PA(r.concat([n[0]]).filter(mt)),CA(r.concat([n[1]]).filter(mt))]},[1/0,-1/0])},nJ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,u){var f=YNe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Zz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AR=function(e,n,r){if(rn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(mt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Zz.test(e[0])){var s=+Zz.exec(e[0])[1];i[0]=n[0]-s}else rn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(mt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Qz.test(e[1])){var o=+Qz.exec(e[1])[1];i[1]=n[1]+o}else rn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},pw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=ED(n,function(f){return f.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},eH=function(e,n,r){return!e||!e.length||RA(e,xo(r,"type.defaultProps.domain"))?n:e},rJ=function(e,n){var r=e.type.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return _r(_r({},pn(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:ZD(e),value:zs(n,i),type:l,payload:n,chartType:c,hide:u})};function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function tH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tH(Object(n),!0).forEach(function(r){JNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JNe(t,e,n){return e=qNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qNe(t){var e=ZNe(t,"string");return cy(e)=="symbol"?e:e+""}function ZNe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mw=Math.PI/180,QNe=function(e){return e*180/Math.PI},pi=function(e,n,r,i){return{x:e+Math.cos(-mw*i)*r,y:n+Math.sin(-mw*i)*r}},e3e=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},t3e=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=e3e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:QNe(c),angleInRadian:c}},n3e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},r3e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},rH=function(e,n){var r=e.x,i=e.y,s=t3e({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=n3e(n),f=u.startAngle,h=u.endAngle,d=a,m;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=f}return m?nH(nH({},n),{},{radius:o,angle:r3e(d,n)}):null};function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}var i3e=["offset"];function s3e(t){return c3e(t)||l3e(t)||a3e(t)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a3e(t,e){if(t){if(typeof t=="string")return MR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(t,e)}}function l3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c3e(t){if(Array.isArray(t))return MR(t)}function MR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u3e(t,e){if(t==null)return{};var n=f3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iH(Object(n),!0).forEach(function(r){h3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h3e(t,e,n){return e=d3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d3e(t){var e=p3e(t,"string");return uy(e)=="symbol"?e:e+""}function p3e(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}var m3e=function(e){var n=e.value,r=e.formatter,i=fn(e.children)?n:e.children;return rn(r)?r(i):i},g3e=function(e,n){var r=Qo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},v3e=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,m=l.endAngle,x=l.clockWise,y=(f+h)/2,v=g3e(d,m),b=v>=0?1:-1,_,M;i==="insideStart"?(_=d+b*o,M=x):i==="insideEnd"?(_=m-b*o,M=!x):i==="end"&&(_=m+b*o,M=x),M=v<=0?M:!M;var w=pi(c,u,y,_),A=pi(c,u,y,_+(M?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(M?0:1,`,
    `).concat(A.x,",").concat(A.y),C=fn(e.id)?m0("recharts-radial-line-"):e.id;return me.createElement("text",fy({},r,{dominantBaseline:"central",className:Mn("recharts-radial-bar-label",a)}),me.createElement("defs",null,me.createElement("path",{id:C,d:E})),me.createElement("textPath",{xlinkHref:"#".concat(C)},n))},y3e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,f=s.endAngle,h=(u+f)/2;if(i==="outside"){var d=pi(o,a,c+r,h),m=d.x,x=d.y;return{x:m,y:x,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=pi(o,a,y,h),b=v.x,_=v.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},x3e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,d=f>0?"end":"start",m=f>0?"start":"end",x=c>=0?1:-1,y=x*i,v=x>0?"end":"start",b=x>0?"start":"end";if(s==="top"){var _={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return Gr(Gr({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var M={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Gr(Gr({},M),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var w={x:a-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Gr(Gr({},w),r?{width:Math.max(w.x-r.x,0),height:u}:{})}if(s==="right"){var A={x:a+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Gr(Gr({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:u}:{})}var E=r?{width:c,height:u}:{};return s==="insideLeft"?Gr({x:a+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):s==="insideRight"?Gr({x:a+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):s==="insideTop"?Gr({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},E):s==="insideBottom"?Gr({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},E):s==="insideTopLeft"?Gr({x:a+y,y:l+h,textAnchor:b,verticalAnchor:m},E):s==="insideTopRight"?Gr({x:a+c-y,y:l+h,textAnchor:v,verticalAnchor:m},E):s==="insideBottomLeft"?Gr({x:a+y,y:l+u-h,textAnchor:b,verticalAnchor:d},E):s==="insideBottomRight"?Gr({x:a+c-y,y:l+u-h,textAnchor:v,verticalAnchor:d},E):Xp(s)&&(mt(s.x)||pf(s.x))&&(mt(s.y)||pf(s.y))?Gr({x:a+Kf(s.x,c),y:l+Kf(s.y,u),textAnchor:"end",verticalAnchor:"end"},E):Gr({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},b3e=function(e){return"cx"in e&&mt(e.cx)};function Di(t){var e=t.offset,n=e===void 0?5:e,r=u3e(t,i3e),i=Gr({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!s||fn(a)&&fn(l)&&!U.isValidElement(c)&&!rn(c))return null;if(U.isValidElement(c))return U.cloneElement(c,i);var d;if(rn(c)){if(d=U.createElement(c,i),U.isValidElement(d))return d}else d=m3e(i);var m=b3e(s),x=pn(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return v3e(i,d,x);var y=m?y3e(i):x3e(i);return me.createElement(ew,fy({className:Mn("recharts-label",f)},x,y,{breakAll:h}),d)}Di.displayName="Label";var iJ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,d=e.top,m=e.left,x=e.width,y=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(mt(x)&&mt(y)){if(mt(f)&&mt(h))return{x:f,y:h,width:x,height:y};if(mt(d)&&mt(m))return{x:d,y:m,width:x,height:y}}return mt(f)&&mt(h)?{x:f,y:h,width:0,height:0}:mt(n)&&mt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},_3e=function(e,n){return e?e===!0?me.createElement(Di,{key:"label-implicit",viewBox:n}):Kr(e)?me.createElement(Di,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Di?U.cloneElement(e,{key:"label-implicit",viewBox:n}):me.createElement(Di,{key:"label-implicit",content:e,viewBox:n}):rn(e)?me.createElement(Di,{key:"label-implicit",content:e,viewBox:n}):Xp(e)?me.createElement(Di,fy({viewBox:n},e,{key:"label-implicit"})):null:null},w3e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=iJ(e),o=bo(i,Di).map(function(l,c){return U.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=_3e(e.label,n||s);return[a].concat(s3e(o))};Di.parseViewBox=iJ;Di.renderCallByParent=w3e;function S3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var A3e=S3e;const M3e=Ln(A3e);function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}var E3e=["valueAccessor"],T3e=["data","dataKey","clockWise","id","textBreakAll"];function C3e(t){return I3e(t)||O3e(t)||R3e(t)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3e(t,e){if(t){if(typeof t=="string")return ER(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ER(t,e)}}function O3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I3e(t){if(Array.isArray(t))return ER(t)}function ER(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}function sH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sH(Object(n),!0).forEach(function(r){B3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3e(t,e,n){return e=D3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D3e(t){var e=L3e(t,"string");return hy(e)=="symbol"?e:e+""}function L3e(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aH(t,e){if(t==null)return{};var n=N3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var k3e=function(e){return Array.isArray(e.value)?M3e(e.value):e.value};function Hc(t){var e=t.valueAccessor,n=e===void 0?k3e:e,r=aH(t,E3e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=aH(r,T3e);return!i||!i.length?null:me.createElement(Rr,{className:"recharts-label-list"},i.map(function(u,f){var h=fn(s)?n(u,f):zs(u&&u.payload,s),d=fn(a)?{}:{id:"".concat(a,"-").concat(f)};return me.createElement(Di,gw({},pn(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Di.parseViewBox(fn(o)?u:oH(oH({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Hc.displayName="LabelList";function F3e(t,e){return t?t===!0?me.createElement(Hc,{key:"labelList-implicit",data:e}):me.isValidElement(t)||rn(t)?me.createElement(Hc,{key:"labelList-implicit",data:e,content:t}):Xp(t)?me.createElement(Hc,gw({data:e},t,{key:"labelList-implicit"})):null:null}function U3e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=bo(r,Hc).map(function(o,a){return U.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=F3e(t.label,e);return[s].concat(C3e(i))}Hc.renderCallByParent=U3e;function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function TR(){return TR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TR.apply(this,arguments)}function lH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lH(Object(n),!0).forEach(function(r){j3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j3e(t,e,n){return e=z3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z3e(t){var e=H3e(t,"string");return dy(e)=="symbol"?e:e+""}function H3e(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G3e=function(e,n){var r=Qo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},s_=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,f=Math.asin(l/u)/mw,h=c?s:s+o*f,d=pi(n,r,u,h),m=pi(n,r,i,h),x=c?s-o*f:s,y=pi(n,r,u*Math.cos(f*mw),x);return{center:d,circleTangency:m,lineTangency:y,theta:f}},sJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=G3e(o,a),c=o+l,u=pi(n,r,s,o),f=pi(n,r,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=pi(n,r,i,o),m=pi(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},V3e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Qo(u-c),h=s_({cx:n,cy:r,radius:s,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),d=h.circleTangency,m=h.lineTangency,x=h.theta,y=s_({cx:n,cy:r,radius:s,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,_=y.theta,M=l?Math.abs(c-u):Math.abs(c-u)-x-_;if(M<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sJ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var A=s_({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=A.circleTangency,C=A.lineTangency,L=A.theta,P=s_({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),B=P.circleTangency,H=P.lineTangency,q=P.theta,z=l?Math.abs(c-u):Math.abs(c-u)-L-q;if(z<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},W3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oJ=function(e){var n=cH(cH({},W3e),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,h=n.className;if(o<s||u===f)return null;var d=Mn("recharts-sector",h),m=o-s,x=Kf(a,m,0,!0),y;return x>0&&Math.abs(u-f)<360?y=V3e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=sJ({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:u,endAngle:f}),me.createElement("path",TR({},pn(n,!0),{className:d,d:y,role:"img"}))};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function CR(){return CR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CR.apply(this,arguments)}function uH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uH(Object(n),!0).forEach(function(r){$3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $3e(t,e,n){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X3e(t){var e=K3e(t,"string");return py(e)=="symbol"?e:e+""}function K3e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hH={curveBasisClosed:$Se,curveBasisOpen:XSe,curveBasis:WSe,curveBumpX:OSe,curveBumpY:ISe,curveLinearClosed:KSe,curveLinear:vA,curveMonotoneX:YSe,curveMonotoneY:JSe,curveNatural:qSe,curveStep:ZSe,curveStepAfter:eAe,curveStepBefore:QSe},o_=function(e){return e.x===+e.x&&e.y===+e.y},dg=function(e){return e.x},pg=function(e){return e.y},Y3e=function(e,n){if(rn(e))return e;var r="curve".concat(mA(e));return(r==="curveMonotone"||r==="curveBump")&&n?hH["".concat(r).concat(n==="vertical"?"Y":"X")]:hH[r]||vA},J3e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Y3e(r,a),f=c?s.filter(function(x){return o_(x)}):s,h;if(Array.isArray(o)){var d=c?o.filter(function(x){return o_(x)}):o,m=f.map(function(x,y){return fH(fH({},x),{},{base:d[y]})});return a==="vertical"?h=Jb().y(pg).x1(dg).x0(function(x){return x.base.x}):h=Jb().x(dg).y1(pg).y0(function(x){return x.base.y}),h.defined(o_).curve(u),h(m)}return a==="vertical"&&mt(o)?h=Jb().y(pg).x1(dg).x0(o):mt(o)?h=Jb().x(dg).y1(pg).y0(o):h=oK().x(dg).y(pg),h.defined(o_).curve(u),h(f)},PR=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?J3e(e):i;return me.createElement("path",CR({},pn(e,!1),U1(e),{className:Mn("recharts-curve",n),d:o,ref:s}))},q3e=Object.getOwnPropertyNames,Z3e=Object.getOwnPropertySymbols,Q3e=Object.prototype.hasOwnProperty;function dH(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function a_(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function pH(t){return q3e(t).concat(Z3e(t))}var eke=Object.hasOwn||function(t,e){return Q3e.call(t,e)};function uh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var tke="__v",nke="__o",rke="_owner",mH=Object.getOwnPropertyDescriptor,gH=Object.keys;function ike(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ske(t,e){return uh(t.getTime(),e.getTime())}function oke(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ake(t,e){return t===e}function vH(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=o.value,d=a.value;if(n.equals(h[0],d[0],l,f,t,e,n)&&n.equals(h[1],d[1],h[0],d[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var lke=uh;function cke(t,e,n){var r=gH(t),i=r.length;if(gH(e).length!==i)return!1;for(;i-- >0;)if(!aJ(t,e,n,r[i]))return!1;return!0}function mg(t,e,n){var r=pH(t),i=r.length;if(pH(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!aJ(t,e,n,s)||(o=mH(t,s),a=mH(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function uke(t,e){return uh(t.valueOf(),e.valueOf())}function fke(t,e){return t.source===e.source&&t.flags===e.flags}function yH(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function hke(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function dke(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aJ(t,e,n,r){return(r===rke||r===nke||r===tke)&&(t.$$typeof||e.$$typeof)?!0:eke(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var pke="[object Arguments]",mke="[object Boolean]",gke="[object Date]",vke="[object Error]",yke="[object Map]",xke="[object Number]",bke="[object Object]",_ke="[object RegExp]",wke="[object Set]",Ske="[object String]",Ake="[object URL]",Mke=Array.isArray,xH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bH=Object.assign,Eke=Object.prototype.toString.call.bind(Object.prototype.toString);function Tke(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,x,y){if(m===x)return!0;if(m==null||x==null)return!1;var v=typeof m;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?o(m,x,y):v==="function"?i(m,x,y):!1;var b=m.constructor;if(b!==x.constructor)return!1;if(b===Object)return a(m,x,y);if(Mke(m))return e(m,x,y);if(xH!=null&&xH(m))return f(m,x,y);if(b===Date)return n(m,x,y);if(b===RegExp)return c(m,x,y);if(b===Map)return s(m,x,y);if(b===Set)return u(m,x,y);var _=Eke(m);return _===gke?n(m,x,y):_===_ke?c(m,x,y):_===yke?s(m,x,y):_===wke?u(m,x,y):_===bke?typeof m.then!="function"&&typeof x.then!="function"&&a(m,x,y):_===Ake?h(m,x,y):_===vke?r(m,x,y):_===pke?a(m,x,y):_===mke||_===xke||_===Ske?l(m,x,y):!1}}function Cke(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?mg:ike,areDatesEqual:ske,areErrorsEqual:oke,areFunctionsEqual:ake,areMapsEqual:r?dH(vH,mg):vH,areNumbersEqual:lke,areObjectsEqual:r?mg:cke,arePrimitiveWrappersEqual:uke,areRegExpsEqual:fke,areSetsEqual:r?dH(yH,mg):yH,areTypedArraysEqual:r?mg:hke,areUrlsEqual:dke};if(n&&(i=bH({},i,n(i))),e){var s=a_(i.areArraysEqual),o=a_(i.areMapsEqual),a=a_(i.areObjectsEqual),l=a_(i.areSetsEqual);i=bH({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function Pke(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function Rke(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,d=u.meta;return n(l,c,{cache:h,equals:i,meta:d,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var Oke=fu();fu({strict:!0});fu({circular:!0});fu({circular:!0,strict:!0});fu({createInternalComparator:function(){return uh}});fu({strict:!0,createInternalComparator:function(){return uh}});fu({circular:!0,createInternalComparator:function(){return uh}});fu({circular:!0,createInternalComparator:function(){return uh},strict:!0});function fu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=Cke(t),l=Tke(a),c=r?r(l):Pke(l);return Rke({circular:n,comparator:l,createState:i,equals:c,strict:o})}function Ike(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _H(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Ike(i)};requestAnimationFrame(r)}function RR(t){"@babel/helpers - typeof";return RR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RR(t)}function Bke(t){return kke(t)||Nke(t)||Lke(t)||Dke()}function Dke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(t,e){if(t){if(typeof t=="string")return wH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wH(t,e)}}function wH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kke(t){if(Array.isArray(t))return t}function Fke(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=Bke(o),l=a[0],c=a.slice(1);if(typeof l=="number"){_H(i.bind(null,c),l);return}i(l),_H(i.bind(null,c));return}RR(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function SH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return e=Uke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uke(t){var e=jke(t,"string");return my(e)==="symbol"?e:String(e)}function jke(t,e){if(my(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zke=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Hke=function(e){return e},Gke=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zg=function(e,n){return Object.keys(n).reduce(function(r,i){return AH(AH({},r),{},lJ({},i,e(i,n[i])))},{})},MH=function(e,n,r){return e.map(function(i){return"".concat(Gke(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Vke(t,e){return Xke(t)||$ke(t,e)||cJ(t,e)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Xke(t){if(Array.isArray(t))return t}function Kke(t){return qke(t)||Jke(t)||cJ(t)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function Jke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qke(t){if(Array.isArray(t))return OR(t)}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vw=1e-4,uJ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},fJ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},EH=function(e,n){return function(r){var i=uJ(e,n);return fJ(i,r)}},Zke=function(e,n){return function(r){var i=uJ(e,n),s=[].concat(Kke(i.map(function(o,a){return o*a}).slice(1)),[0]);return fJ(s,r)}},TH=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Vke(c,4);i=u[0],s=u[1],o=u[2],a=u[3]}}}var f=EH(i,o),h=EH(s,a),d=Zke(i,o),m=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,_=b,M=0;M<8;++M){var w=f(_)-b,A=d(_);if(Math.abs(w-b)<vw||A<vw)return h(_);_=m(_-w/A)}return h(_)};return x.isStepper=!1,x},Qke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(u,f,h){var d=-(u-f)*r,m=h*s,x=h+(d-m)*a/1e3,y=h*a/1e3+u;return Math.abs(y-f)<vw&&Math.abs(x)<vw?[f,0]:[y,x]};return l.isStepper=!0,l.dt=a,l},eFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TH(i);case"spring":return Qke();default:if(i.split("(")[0]==="cubic-bezier")return TH(i)}return typeof i=="function"?i:null};function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function CH(t){return rFe(t)||nFe(t)||hJ(t)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rFe(t){if(Array.isArray(t))return BR(t)}function PH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PH(Object(n),!0).forEach(function(r){IR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IR(t,e,n){return e=iFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iFe(t){var e=sFe(t,"string");return gy(e)==="symbol"?e:String(e)}function sFe(t,e){if(gy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oFe(t,e){return cFe(t)||lFe(t,e)||hJ(t,e)||aFe()}function aFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hJ(t,e){if(t){if(typeof t=="string")return BR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(t,e)}}function BR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function cFe(t){if(Array.isArray(t))return t}var yw=function(e,n,r){return e+(n-e)*r},DR=function(e){var n=e.from,r=e.to;return n!==r},uFe=function t(e,n,r){var i=Zg(function(s,o){if(DR(o)){var a=e(o.from,o.to,o.velocity),l=oFe(a,2),c=l[0],u=l[1];return fi(fi({},o),{},{from:c,velocity:u})}return o},n);return r<1?Zg(function(s,o){return DR(o)?fi(fi({},o),{},{velocity:yw(o.velocity,i[s].velocity,r),from:yw(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const fFe=function(t,e,n,r,i){var s=zke(t,e),o=s.reduce(function(y,v){return fi(fi({},y),{},IR({},v,[t[v],e[v]]))},{}),a=s.reduce(function(y,v){return fi(fi({},y),{},IR({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Zg(function(v,b){return b.from},a)},d=function(){return!Object.values(a).filter(DR).length},m=function(v){c||(c=v);var b=v-c,_=b/n.dt;a=uFe(n,a,_),i(fi(fi(fi({},t),e),h())),c=v,d()||(l=requestAnimationFrame(f))},x=function(v){u||(u=v);var b=(v-u)/r,_=Zg(function(w,A){return yw.apply(void 0,CH(A).concat([n(b)]))},o);if(i(fi(fi(fi({},t),e),_)),b<1)l=requestAnimationFrame(f);else{var M=Zg(function(w,A){return yw.apply(void 0,CH(A).concat([n(1)]))},o);i(fi(fi(fi({},t),e),M))}};return f=n.isStepper?m:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}var hFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dFe(t,e){if(t==null)return{};var n=pFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pFe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sC(t){return yFe(t)||vFe(t)||gFe(t)||mFe()}function mFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gFe(t,e){if(t){if(typeof t=="string")return LR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LR(t,e)}}function vFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yFe(t){if(Array.isArray(t))return LR(t)}function LR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RH(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tg(t,e,n){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dJ(r.key),r)}}function _Fe(t,e,n){return e&&bFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dJ(t){var e=wFe(t,"string");return xp(e)==="symbol"?e:String(e)}function wFe(t,e){if(xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NR(t,e)}function NR(t,e){return NR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NR(t,e)}function AFe(t){var e=MFe();return function(){var r=xw(t),i;if(e){var s=xw(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return kR(this,i)}}function kR(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FR(t)}function FR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(t)}var Bl=function(t){SFe(n,t);var e=AFe(n);function n(r,i){var s;xFe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,d=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(FR(s)),s.changeStyle=s.changeStyle.bind(FR(s)),!a||d<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),kR(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof h=="function")return s.state={style:c},kR(s);s.state={style:l?Tg({},l,c):c}}else s.state={style:{}};return s}return _Fe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,f=s.from,h=this.state.style;if(a){if(!o){var d={style:l?Tg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(Oke(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||c?f:i.to;if(this.state&&h){var y={style:l?Tg({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(y)}this.runAnimation(ko(ko({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,d=fFe(o,a,eFe(c),l,this.changeStyle),m=function(){s.stopJSAnimation=d()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(x,y,v){if(v===0)return x;var b=y.duration,_=y.easing,M=_===void 0?"ease":_,w=y.style,A=y.properties,E=y.onAnimationEnd,C=v>0?o[v-1]:y,L=A||Object.keys(w);if(typeof M=="function"||M==="spring")return[].concat(sC(x),[s.runJSAnimation.bind(s,{from:C.style,to:w,duration:b,easing:M}),b]);var P=MH(L,b,M),B=ko(ko(ko({},C.style),w),{},{transition:P});return[].concat(sC(x),[B,b,E]).filter(Hke)};return this.manager.start([l].concat(sC(o.reduce(d,[u,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fke());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,d=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=a?Tg({},a,l):l,y=MH(Object.keys(x),o,c);m.start([u,s,ko(ko({},x),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=dFe(i,hFe),c=U.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!a||c===0||o<=0)return s;var f=function(d){var m=d.props,x=m.style,y=x===void 0?{}:x,v=m.className,b=U.cloneElement(d,ko(ko({},l),{},{style:ko(ko({},y),u),className:v}));return b};return c===1?f(U.Children.only(s)):me.createElement("div",null,U.Children.map(s,function(h){return f(h)}))}}]),n}(U.PureComponent);Bl.displayName="Animate";Bl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bl.propTypes={from:Cn.oneOfType([Cn.object,Cn.string]),to:Cn.oneOfType([Cn.object,Cn.string]),attributeName:Cn.string,duration:Cn.number,begin:Cn.number,easing:Cn.oneOfType([Cn.string,Cn.func]),steps:Cn.arrayOf(Cn.shape({duration:Cn.number.isRequired,style:Cn.object.isRequired,easing:Cn.oneOfType([Cn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Cn.func]),properties:Cn.arrayOf("string"),onAnimationEnd:Cn.func})),children:Cn.oneOfType([Cn.node,Cn.func]),isActive:Cn.bool,canBegin:Cn.bool,onAnimationEnd:Cn.func,shouldReAnimate:Cn.bool,onAnimationStart:Cn.func,onAnimationReStart:Cn.func};function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function EFe(t,e){return RFe(t)||PFe(t,e)||CFe(t,e)||TFe()}function TFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CFe(t,e){if(t){if(typeof t=="string")return OH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OH(t,e)}}function OH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function RFe(t){if(Array.isArray(t))return t}function IH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IH(Object(n),!0).forEach(function(r){OFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OFe(t,e,n){return e=IFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IFe(t){var e=BFe(t,"string");return vy(e)=="symbol"?e:e+""}function BFe(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DH=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=s[h]>o?o:s[h];u="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*f[1])),u+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*f[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);u="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},DFe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),u=Math.max(s,s+a),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=u&&i>=f&&i<=h}return!1},LFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QD=function(e){var n=BH(BH({},LFe),e),r=U.useRef(),i=U.useState(-1),s=EFe(i,2),o=s[0],a=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&a(M)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,h=n.radius,d=n.className,m=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Mn("recharts-rectangle",d);return b?me.createElement(Bl,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:x,animationEasing:m,isActive:b},function(M){var w=M.width,A=M.height,E=M.x,C=M.y;return me.createElement(Bl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:v,easing:m},me.createElement("path",bw({},pn(n,!0),{className:_,d:DH(E,C,w,A,h),ref:r})))}):me.createElement("path",bw({},pn(n,!0),{className:_,d:DH(l,c,u,f,h)}))};function UR(){return UR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UR.apply(this,arguments)}var eL=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Mn("recharts-dot",s);return n===+n&&r===+r&&i===+i?me.createElement("circle",UR({},pn(e,!1),U1(e),{className:o,cx:n,cy:r,r:i})):null};function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var NFe=["x","y","top","left","width","height","className"];function jR(){return jR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jR.apply(this,arguments)}function LH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kFe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LH(Object(n),!0).forEach(function(r){FFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FFe(t,e,n){return e=UFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UFe(t){var e=jFe(t,"string");return yy(e)=="symbol"?e:e+""}function jFe(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zFe(t,e){if(t==null)return{};var n=HFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GFe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},VFe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,d=h===void 0?0:h,m=e.className,x=zFe(e,NFe),y=kFe({x:r,y:s,top:a,left:c,width:f,height:d},x);return!mt(r)||!mt(s)||!mt(f)||!mt(d)||!mt(a)||!mt(c)?null:me.createElement("path",jR({},pn(y,!0),{className:Mn("recharts-cross",m),d:GFe(r,s,f,d,a,c)}))},WFe=RK,$Fe=WFe(Object.getPrototypeOf,Object),XFe=$Fe,KFe=Ul,YFe=XFe,JFe=jl,qFe="[object Object]",ZFe=Function.prototype,QFe=Object.prototype,pJ=ZFe.toString,eUe=QFe.hasOwnProperty,tUe=pJ.call(Object);function nUe(t){if(!JFe(t)||KFe(t)!=qFe)return!1;var e=YFe(t);if(e===null)return!0;var n=eUe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pJ.call(n)==tUe}var rUe=nUe;const iUe=Ln(rUe);var sUe=Ul,oUe=jl,aUe="[object Boolean]";function lUe(t){return t===!0||t===!1||oUe(t)&&sUe(t)==aUe}var cUe=lUe;const uUe=Ln(cUe);function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function fUe(t,e){return mUe(t)||pUe(t,e)||dUe(t,e)||hUe()}function hUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dUe(t,e){if(t){if(typeof t=="string")return NH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NH(t,e)}}function NH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function mUe(t){if(Array.isArray(t))return t}function kH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(n),!0).forEach(function(r){gUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gUe(t,e,n){return e=vUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vUe(t){var e=yUe(t,"string");return xy(e)=="symbol"?e:e+""}function yUe(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UH=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},xUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bUe=function(e){var n=FH(FH({},xUe),e),r=U.useRef(),i=U.useState(-1),s=fUe(i,2),o=s[0],a=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,h=n.height,d=n.className,m=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Mn("recharts-trapezoid",d);return v?me.createElement(Bl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:x,animationEasing:m,isActive:v},function(_){var M=_.upperWidth,w=_.lowerWidth,A=_.height,E=_.x,C=_.y;return me.createElement(Bl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:m},me.createElement("path",_w({},pn(n,!0),{className:b,d:UH(E,C,M,w,A),ref:r})))}):me.createElement("g",null,me.createElement("path",_w({},pn(n,!0),{className:b,d:UH(l,c,u,f,h)})))},_Ue=["option","shapeType","propTransformer","activeClassName","isActive"];function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function wUe(t,e){if(t==null)return{};var n=SUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(n),!0).forEach(function(r){AUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AUe(t,e,n){return e=MUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MUe(t){var e=EUe(t,"string");return by(e)=="symbol"?e:e+""}function EUe(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TUe(t,e){return ww(ww({},e),t)}function CUe(t,e){return t==="symbols"}function zH(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return me.createElement(QD,n);case"trapezoid":return me.createElement(bUe,n);case"sector":return me.createElement(oJ,n);case"symbols":if(CUe(e))return me.createElement(yD,n);break;default:return null}}function PUe(t){return U.isValidElement(t)?t.props:t}function RUe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?TUe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=wUe(t,_Ue),c;if(U.isValidElement(e))c=U.cloneElement(e,ww(ww({},l),PUe(e)));else if(rn(e))c=e(l);else if(iUe(e)&&!uUe(e)){var u=i(e,l);c=me.createElement(zH,{shapeType:n,elementProps:u})}else{var f=l;c=me.createElement(zH,{shapeType:n,elementProps:f})}return a?me.createElement(Rr,{className:o},c):c}function BA(t,e){return e!=null&&"trapezoids"in t.props}function DA(t,e){return e!=null&&"sectors"in t.props}function _y(t,e){return e!=null&&"points"in t.props}function OUe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function IUe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function BUe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function DUe(t,e){var n;return BA(t,e)?n=OUe:DA(t,e)?n=IUe:_y(t,e)&&(n=BUe),n}function LUe(t,e){var n;return BA(t,e)?n="trapezoids":DA(t,e)?n="sectors":_y(t,e)&&(n="points"),n}function NUe(t,e){if(BA(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(DA(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _y(t,e)?e.payload:{}}function kUe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=LUe(n,e),s=NUe(n,e),o=r.filter(function(l,c){var u=RA(s,l),f=n.props[i].filter(function(m){var x=DUe(n,e);return x(m,e)}),h=n.props[i].indexOf(f[f.length-1]),d=c===h;return u&&d}),a=r.indexOf(o[o.length-1]);return a}var FUe=Math.ceil,UUe=Math.max;function jUe(t,e,n,r){for(var i=-1,s=UUe(FUe((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var zUe=jUe,HUe=YK,GUe=1/0,VUe=17976931348623157e292;function WUe(t){if(!t)return t===0?t:0;if(t=HUe(t),t===GUe||t===-1/0){var e=t<0?-1:1;return e*VUe}return t===t?t:0}var mJ=WUe,$Ue=zUe,XUe=_A,oC=mJ;function KUe(t){return function(e,n,r){return r&&typeof r!="number"&&XUe(e,n,r)&&(n=r=void 0),e=oC(e),n===void 0?(n=e,e=0):n=oC(n),r=r===void 0?e<n?1:-1:oC(r),$Ue(e,n,r,t)}}var YUe=KUe,JUe=YUe,qUe=JUe(),ZUe=qUe;const Sw=Ln(ZUe);function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function HH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HH(Object(n),!0).forEach(function(r){gJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e,n){return e=QUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QUe(t){var e=e4e(t,"string");return wy(e)=="symbol"?e:e+""}function e4e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t4e=["Webkit","Moz","O","ms"],n4e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=t4e.reduce(function(s,o){return GH(GH({},s),{},gJ({},o+r,n))},{});return i[e]=n,i};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(this,arguments)}function VH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VH(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yJ(r.key),r)}}function i4e(t,e,n){return e&&WH(t.prototype,e),n&&WH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s4e(t,e,n){return e=Mw(e),o4e(t,vJ()?Reflect.construct(e,n||[],Mw(t).constructor):e.apply(t,n))}function o4e(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(t)}function a4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(t)}function l4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zR(t,e)}function zR(t,e){return zR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zR(t,e)}function Ts(t,e,n){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=c4e(t,"string");return bp(e)=="symbol"?e:e+""}function c4e(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u4e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Jg().domain(Sw(0,l)).range([s,s+o-a]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},$H=function(e){return e.changedTouches&&!!e.changedTouches.length},_p=function(t){function e(n){var r;return r4e(this,e),r=s4e(this,e,[n]),Ts(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ts(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ts(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Ts(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ts(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ts(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ts(r,"handleSlideDragStart",function(i){var s=$H(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return l4e(e,t),i4e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,f=Math.min(i,s),h=Math.max(i,s),d=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:d-d%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=zs(s[r],a,r);return rn(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,m=l.onChange,x=r.pageX-s;x>0?x=Math.min(x,c+u-f-a,c+u-f-o):x<0&&(x=Math.max(x,c-o,c-a));var y=this.getIndex({startX:o+x,endX:a+x});(y.startIndex!==h||y.endIndex!==d)&&m&&m(y),this.setState({startX:o+x,endX:a+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=$H(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,m=u.onChange,x=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-s;b>0?b=Math.min(b,f+h-d-c):b<0&&(b=Math.max(b,f-c)),v[o]=c+b;var _=this.getIndex(v),M=_.startIndex,w=_.endIndex,A=function(){var C=y.length-1;return o==="startX"&&(a>l?M%x===0:w%x===0)||a<l&&w===C||o==="endX"&&(a>l?w%x===0:M%x===0)||a>l&&w===C};this.setState(Ts(Ts({},o,c+b),"brushMoveStartX",r.pageX),function(){m&&A()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=a.indexOf(u);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var d=a[h];i==="startX"&&d>=c||i==="endX"&&d<=l||this.setState(Ts({},i,d),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return me.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,f=U.Children.only(c);return f?me.cloneElement(f,{x:i,y:s,width:o,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,m=l.data,x=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),b=aC(aC({},pn(this.props,!1)),{},{x:v,y:c,width:u,height:f}),_=d||"Min value: ".concat((s=m[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return me.createElement(Rr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),a.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return me.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,h=u.endX,d=5,m={pointerEvents:"none",fill:c};return me.createElement(Rr,{className:"recharts-brush-texts"},me.createElement(ew,Aw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:o+a/2},m),this.getTextOfTick(i)),me.createElement(ew,Aw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:o+a/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,h=this.state,d=h.startX,m=h.endX,x=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!mt(a)||!mt(l)||!mt(c)||!mt(u)||c<=0||u<=0)return null;var _=Mn("recharts-brush",s),M=me.Children.count(o)===1,w=n4e("userSelect","none");return me.createElement(Rr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(x||y||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return me.createElement(me.Fragment,null,me.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),me.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),me.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return me.isValidElement(r)?s=me.cloneElement(r,i):rn(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return aC({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?u4e({data:s,width:o,x:a,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(U.PureComponent);Ts(_p,"displayName","Brush");Ts(_p,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var f4e=MD;function h4e(t,e){var n;return f4e(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var d4e=h4e,p4e=wK,m4e=lu,g4e=d4e,v4e=xs,y4e=_A;function x4e(t,e,n){var r=v4e(t)?p4e:g4e;return n&&y4e(t,e,n)&&(e=void 0),r(t,m4e(e))}var b4e=x4e;const _4e=Ln(b4e);var Na=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},XH=VK;function w4e(t,e,n){e=="__proto__"&&XH?XH(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var S4e=w4e,A4e=S4e,M4e=HK,E4e=lu;function T4e(t,e){var n={};return e=E4e(e),M4e(t,function(r,i,s){A4e(n,i,e(r,i,s))}),n}var C4e=T4e;const P4e=Ln(C4e);function R4e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var O4e=R4e,I4e=MD;function B4e(t,e){var n=!0;return I4e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var D4e=B4e,L4e=O4e,N4e=D4e,k4e=lu,F4e=xs,U4e=_A;function j4e(t,e,n){var r=F4e(t)?L4e:N4e;return n&&U4e(t,e,n)&&(e=void 0),r(t,k4e(e))}var z4e=j4e;const xJ=Ln(z4e);var H4e=["x","y"];function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function HR(){return HR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HR.apply(this,arguments)}function KH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(n),!0).forEach(function(r){G4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G4e(t,e,n){return e=V4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4e(t){var e=W4e(t,"string");return Sy(e)=="symbol"?e:e+""}function W4e(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $4e(t,e){if(t==null)return{};var n=X4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K4e(t,e){var n=t.x,r=t.y,i=$4e(t,H4e),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return gg(gg(gg(gg(gg({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function YH(t){return me.createElement(RUe,HR({shapeType:"rectangle",propTransformer:K4e,activeClassName:"recharts-active-bar"},t))}var Y4e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Jf(),n)}},J4e=["value","background"],bJ;function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function q4e(t,e){if(t==null)return{};var n=Z4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function JH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(n),!0).forEach(function(r){Mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wJ(r.key),r)}}function e5e(t,e,n){return e&&qH(t.prototype,e),n&&qH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t5e(t,e,n){return e=Tw(e),n5e(t,_J()?Reflect.construct(e,n||[],Tw(t).constructor):e.apply(t,n))}function n5e(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5e(t)}function r5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(t)}function i5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GR(t,e)}function GR(t,e){return GR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GR(t,e)}function Mc(t,e,n){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=s5e(t,"string");return wp(e)=="symbol"?e:e+""}function s5e(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var w0=function(t){function e(){var n;Q4e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=t5e(this,e,[].concat(i)),Mc(n,"state",{isAnimationFinished:!1}),Mc(n,"id",m0("recharts-bar-")),Mc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Mc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return i5e(e,t),e5e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,u=pn(this.props,!1);return r&&r.map(function(f,h){var d=h===l,m=d?c:o,x=Nr(Nr(Nr({},u),f),{},{isActive:d,option:m,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return me.createElement(Rr,Ew({className:"recharts-bar-rectangle"},j1(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),me.createElement(YH,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return me.createElement(Bl,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,x=s.map(function(y,v){var b=h&&h[v];if(b){var _=Yo(b.x,y.x),M=Yo(b.y,y.y),w=Yo(b.width,y.width),A=Yo(b.height,y.height);return Nr(Nr({},y),{},{x:_(m),y:M(m),width:w(m),height:A(m)})}if(o==="horizontal"){var E=Yo(0,y.height),C=E(m);return Nr(Nr({},y),{},{y:y.y+y.height-C,height:C})}var L=Yo(0,y.width),P=L(m);return Nr(Nr({},y),{},{width:P})});return me.createElement(Rr,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!RA(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=pn(this.props.background,!1);return s.map(function(c,u){c.value;var f=c.background,h=q4e(c,J4e);if(!f)return null;var d=Nr(Nr(Nr(Nr(Nr({},h),{},{fill:"#eee"},f),l),j1(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return me.createElement(YH,Ew({key:"background-bar-".concat(u),option:r.props.background,isActive:u===a},d))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=bo(u,_0);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,d=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:zs(y,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return me.createElement(Rr,m,f.map(function(x){return me.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,h=r.height,d=r.isAnimationActive,m=r.background,x=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=Mn("recharts-bar",o),b=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,M=b||_,w=fn(x)?this.id:x;return me.createElement(Rr,{className:v},b||_?me.createElement("defs",null,me.createElement("clipPath",{id:"clipPath-".concat(w)},me.createElement("rect",{x:b?c:c-f/2,y:_?u:u-h/2,width:b?f:f*2,height:_?h:h*2}))):null,me.createElement(Rr,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,w),(!d||y)&&Hc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);bJ=w0;Mc(w0,"displayName","Bar");Mc(w0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!em.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mc(w0,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,d=UNe(r,n);if(!d)return null;var m=e.layout,x=n.type.defaultProps,y=x!==void 0?Nr(Nr({},x),n.props):n.props,v=y.dataKey,b=y.children,_=y.minPointSize,M=m==="horizontal"?o:s,w=c?M.scale.domain():null,A=XNe({numericAxis:M}),E=bo(b,qK),C=f.map(function(L,P){var B,H,q,z,K,Y;c?B=jNe(c[u+P],w):(B=zs(L,v),Array.isArray(B)||(B=[A,B]));var ie=Y4e(_,bJ.defaultProps.minPointSize)(B[1],P);if(m==="horizontal"){var G,J=[o.scale(B[0]),o.scale(B[1])],te=J[0],re=J[1];H=qz({axis:s,ticks:a,bandSize:i,offset:d.offset,entry:L,index:P}),q=(G=re??te)!==null&&G!==void 0?G:void 0,z=d.size;var fe=te-re;if(K=Number.isNaN(fe)?0:fe,Y={x:H,y:o.y,width:z,height:o.height},Math.abs(ie)>0&&Math.abs(K)<Math.abs(ie)){var we=Qo(K||ie)*(Math.abs(ie)-Math.abs(K));q-=we,K+=we}}else{var pe=[s.scale(B[0]),s.scale(B[1])],Ae=pe[0],Pe=pe[1];if(H=Ae,q=qz({axis:o,ticks:l,bandSize:i,offset:d.offset,entry:L,index:P}),z=Pe-Ae,K=d.size,Y={x:s.x,y:q,width:s.width,height:K},Math.abs(ie)>0&&Math.abs(z)<Math.abs(ie)){var Ze=Qo(z||ie)*(Math.abs(ie)-Math.abs(z));z+=Ze}}return Nr(Nr(Nr({},L),{},{x:H,y:q,width:z,height:K,value:c?B:B[1],payload:L,background:Y},E&&E[P]&&E[P].props),{},{tooltipPayload:[rJ(n,L)],tooltipPosition:{x:H+z/2,y:q+K/2}})});return Nr({data:C,layout:m},h)});function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function o5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SJ(r.key),r)}}function a5e(t,e,n){return e&&ZH(t.prototype,e),n&&ZH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QH(Object(n),!0).forEach(function(r){LA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LA(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=l5e(t,"string");return Ay(e)=="symbol"?e:e+""}function l5e(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c5e=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Ps(c,w0);return u.reduce(function(d,m){var x=n[m],y=x.orientation,v=x.domain,b=x.padding,_=b===void 0?{}:b,M=x.mirror,w=x.reversed,A="".concat(y).concat(M?"Mirror":""),E,C,L,P,B;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var H=v[1]-v[0],q=1/0,z=x.categoricalDomain.sort(xwe);if(z.forEach(function(pe,Ae){Ae>0&&(q=Math.min((pe||0)-(z[Ae-1]||0),q))}),Number.isFinite(q)){var K=q/H,Y=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(E=K*Y/2),x.padding==="no-gap"){var ie=Kf(e.barCategoryGap,K*Y),G=K*Y/2;E=G-ie-(G-ie)/Y*ie}}}i==="xAxis"?C=[r.left+(_.left||0)+(E||0),r.left+r.width-(_.right||0)-(E||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(E||0),r.top+r.height-(_.bottom||0)-(E||0)]:C=x.range,w&&(C=[C[1],C[0]]);var J=kNe(x,s,h),te=J.scale,re=J.realScaleType;te.domain(v).range(C),FNe(te);var fe=$Ne(te,Wo(Wo({},x),{},{realScaleType:re}));i==="xAxis"?(B=y==="top"&&!M||y==="bottom"&&M,L=r.left,P=f[A]-B*x.height):i==="yAxis"&&(B=y==="left"&&!M||y==="right"&&M,L=f[A]-B*x.width,P=r.top);var we=Wo(Wo(Wo({},x),fe),{},{realScaleType:re,x:L,y:P,scale:te,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return we.bandSize=pw(we,fe),!x.hide&&i==="xAxis"?f[A]+=(B?-1:1)*we.height:x.hide||(f[A]+=(B?-1:1)*we.width),Wo(Wo({},d),{},LA({},m,we))},{})},AJ=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},u5e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return AJ({x:n,y:r},{x:i,y:s})},MJ=function(){function t(e){o5e(this,t),this.scale=e}return a5e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();LA(MJ,"EPS",1e-4);var tL=function(e){var n=Object.keys(e).reduce(function(r,i){return Wo(Wo({},r),{},LA({},i,MJ.create(e[i])))},{});return Wo(Wo({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return P4e(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return xJ(i,function(s,o){return n[o].isInRange(s)})}})};function f5e(t){return(t%180+180)%180}var h5e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=f5e(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},d5e=lu,p5e=g0,m5e=xA;function g5e(t){return function(e,n,r){var i=Object(e);if(!p5e(e)){var s=d5e(n);e=m5e(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var v5e=g5e,y5e=mJ;function x5e(t){var e=y5e(t),n=e%1;return e===e?n?e-n:e:0}var b5e=x5e,_5e=NK,w5e=lu,S5e=b5e,A5e=Math.max;function M5e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:S5e(n);return i<0&&(i=A5e(r+i,0)),_5e(t,w5e(e),i)}var E5e=M5e,T5e=v5e,C5e=E5e,P5e=T5e(C5e),R5e=P5e;const O5e=Ln(R5e);var I5e=S1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nL=U.createContext(void 0),rL=U.createContext(void 0),EJ=U.createContext(void 0),TJ=U.createContext({}),CJ=U.createContext(void 0),PJ=U.createContext(0),RJ=U.createContext(0),e6=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,u=I5e(s);return me.createElement(nL.Provider,{value:r},me.createElement(rL.Provider,{value:i},me.createElement(TJ.Provider,{value:s},me.createElement(EJ.Provider,{value:u},me.createElement(CJ.Provider,{value:o},me.createElement(PJ.Provider,{value:c},me.createElement(RJ.Provider,{value:l},a)))))))},B5e=function(){return U.useContext(CJ)},OJ=function(e){var n=U.useContext(nL);n==null&&Jf();var r=n[e];return r==null&&Jf(),r},D5e=function(){var e=U.useContext(nL);return yc(e)},L5e=function(){var e=U.useContext(rL),n=O5e(e,function(r){return xJ(r.domain,Number.isFinite)});return n||yc(e)},IJ=function(e){var n=U.useContext(rL);n==null&&Jf();var r=n[e];return r==null&&Jf(),r},N5e=function(){var e=U.useContext(EJ);return e},k5e=function(){return U.useContext(TJ)},iL=function(){return U.useContext(RJ)},sL=function(){return U.useContext(PJ)};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function F5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DJ(r.key),r)}}function j5e(t,e,n){return e&&U5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z5e(t,e,n){return e=Cw(e),H5e(t,BJ()?Reflect.construct(e,n||[],Cw(t).constructor):e.apply(t,n))}function H5e(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G5e(t)}function G5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!t})()}function Cw(t){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cw(t)}function V5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VR(t,e)}function VR(t,e){return VR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VR(t,e)}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){oL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oL(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=W5e(t,"string");return Sp(e)=="symbol"?e:e+""}function W5e(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $5e(t,e){return J5e(t)||Y5e(t,e)||K5e(t,e)||X5e()}function X5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5e(t,e){if(t){if(typeof t=="string")return r6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r6(t,e)}}function r6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function J5e(t){if(Array.isArray(t))return t}function WR(){return WR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WR.apply(this,arguments)}var q5e=function(e,n){var r;return me.isValidElement(e)?r=me.cloneElement(e,n):rn(e)?r=e(n):r=me.createElement("line",WR({},n,{className:"recharts-reference-line-line"})),r},Z5e=function(e,n,r,i,s,o,a,l,c){var u=s.x,f=s.y,h=s.width,d=s.height;if(r){var m=c.y,x=e.y.apply(m,{position:o});if(Na(c,"discard")&&!e.y.isInRange(x))return null;var y=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?y.reverse():y}if(n){var v=c.x,b=e.x.apply(v,{position:o});if(Na(c,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:f+d},{x:b,y:f}];return a==="top"?_.reverse():_}if(i){var M=c.segment,w=M.map(function(A){return e.apply(A,{position:o})});return Na(c,"discard")&&_4e(w,function(A){return!e.isInRange(A)})?null:w}return null};function Q5e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=B5e(),u=OJ(i),f=IJ(s),h=N5e();if(!c||!h)return null;wl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=tL({x:u.scale,y:f.scale}),m=Kr(e),x=Kr(n),y=r&&r.length===2,v=Z5e(d,m,x,y,h,t.position,u.orientation,f.orientation,t);if(!v)return null;var b=$5e(v,2),_=b[0],M=_.x,w=_.y,A=b[1],E=A.x,C=A.y,L=Na(t,"hidden")?"url(#".concat(c,")"):void 0,P=n6(n6({clipPath:L},pn(t,!0)),{},{x1:M,y1:w,x2:E,y2:C});return me.createElement(Rr,{className:Mn("recharts-reference-line",a)},q5e(o,P),Di.renderCallByParent(t,u5e({x1:M,y1:w,x2:E,y2:C})))}var aL=function(t){function e(){return F5e(this,e),z5e(this,e,arguments)}return V5e(e,t),j5e(e,[{key:"render",value:function(){return me.createElement(Q5e,this.props)}}])}(me.Component);oL(aL,"displayName","ReferenceLine");oL(aL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $R(){return $R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$R.apply(this,arguments)}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){NA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NJ(r.key),r)}}function nje(t,e,n){return e&&tje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rje(t,e,n){return e=Pw(e),ije(t,LJ()?Reflect.construct(e,n||[],Pw(t).constructor):e.apply(t,n))}function ije(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(t)}function sje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LJ=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(t)}function oje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XR(t,e)}function XR(t,e){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XR(t,e)}function NA(t,e,n){return e=NJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=aje(t,"string");return Ap(e)=="symbol"?e:e+""}function aje(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lje=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=tL({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Na(e,"discard")&&!o.isInRange(a)?null:a},kA=function(t){function e(){return eje(this,e),rje(this,e,arguments)}return oje(e,t),nje(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=Kr(i),u=Kr(s);if(wl(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=lje(this.props);if(!f)return null;var h=f.x,d=f.y,m=this.props,x=m.shape,y=m.className,v=Na(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=s6(s6({clipPath:v},pn(this.props,!0)),{},{cx:h,cy:d});return me.createElement(Rr,{className:Mn("recharts-reference-dot",y)},e.renderDot(x,b),Di.renderCallByParent(this.props,{x:h-o,y:d-o,width:2*o,height:2*o}))}}])}(me.Component);NA(kA,"displayName","ReferenceDot");NA(kA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});NA(kA,"renderDot",function(t,e){var n;return me.isValidElement(t)?n=me.cloneElement(t,e):rn(t)?n=t(e):n=me.createElement(eL,$R({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function KR(){return KR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KR.apply(this,arguments)}function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function o6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(r){FA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FJ(r.key),r)}}function fje(t,e,n){return e&&uje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hje(t,e,n){return e=Rw(e),dje(t,kJ()?Reflect.construct(e,n||[],Rw(t).constructor):e.apply(t,n))}function dje(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pje(t)}function pje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kJ=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(t)}function mje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YR(t,e)}function YR(t,e){return YR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YR(t,e)}function FA(t,e,n){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJ(t){var e=gje(t,"string");return Mp(e)=="symbol"?e:e+""}function gje(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vje=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,u=s.xAxis,f=s.yAxis;if(!u||!f)return null;var h=tL({x:u.scale,y:f.scale}),d={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Na(s,"discard")&&(!h.isInRange(d)||!h.isInRange(m))?null:AJ(d,m)},UA=function(t){function e(){return cje(this,e),hje(this,e,arguments)}return mje(e,t),fje(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;wl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Kr(i),h=Kr(s),d=Kr(o),m=Kr(a),x=this.props.shape;if(!f&&!h&&!d&&!m&&!x)return null;var y=vje(f,h,d,m,this.props);if(!y&&!x)return null;var v=Na(this.props,"hidden")?"url(#".concat(u,")"):void 0;return me.createElement(Rr,{className:Mn("recharts-reference-area",l)},e.renderRect(x,a6(a6({clipPath:v},pn(this.props,!0)),y)),Di.renderCallByParent(this.props,y))}}])}(me.Component);FA(UA,"displayName","ReferenceArea");FA(UA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});FA(UA,"renderRect",function(t,e){var n;return me.isValidElement(t)?n=me.cloneElement(t,e):rn(t)?n=t(e):n=me.createElement(QD,KR({},e,{className:"recharts-reference-area-rect"})),n});function UJ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function yje(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return h5e(r,n)}function xje(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function Ow(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function bje(t,e){return UJ(t,e+1)}function _je(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,u=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:UJ(r,c)};var x=l,y,v=function(){return y===void 0&&(y=n(m,x)),y},b=m.coordinate,_=l===0||Ow(t,b,v,u,a);_||(l=0,u=o,c+=1),_&&(u=b+t*(v()/2+i),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function l6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(n),!0).forEach(function(r){wje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wje(t,e,n){return e=Sje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sje(t){var e=Aje(t,"string");return My(e)=="symbol"?e:e+""}function Aje(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mje(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(h){var d=s[h],m,x=function(){return m===void 0&&(m=n(d,h)),m};if(h===o-1){var y=t*(d.coordinate+t*x()/2-l);s[h]=d=Oi(Oi({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate})}else s[h]=d=Oi(Oi({},d),{},{tickCoord:d.coordinate});var v=Ow(t,d.tickCoord,x,a,l);v&&(l=d.tickCoord-t*(x()/2+i),s[h]=Oi(Oi({},d),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}function Eje(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var u=r[a-1],f=n(u,a-1),h=t*(u.coordinate+t*f/2-c);o[a-1]=u=Oi(Oi({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var d=Ow(t,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-t*(f/2+i),o[a-1]=Oi(Oi({},u),{},{isShow:!0}))}for(var m=s?a-1:a,x=function(b){var _=o[b],M,w=function(){return M===void 0&&(M=n(_,b)),M};if(b===0){var A=t*(_.coordinate-t*w()/2-l);o[b]=_=Oi(Oi({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else o[b]=_=Oi(Oi({},_),{},{tickCoord:_.coordinate});var E=Ow(t,_.tickCoord,w,l,c);E&&(l=_.tickCoord+t*(w()/2+i),o[b]=Oi(Oi({},_),{},{isShow:!0}))},y=0;y<m;y++)x(y);return o}function lL(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(mt(l)||em.isSsr)return bje(i,typeof l=="number"&&mt(l)?l:0);var h=[],d=a==="top"||a==="bottom"?"width":"height",m=u&&d==="width"?Yg(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(_,M){var w=rn(c)?c(_.value,M):_.value;return d==="width"?yje(Yg(w,{fontSize:e,letterSpacing:n}),m,f):Yg(w,{fontSize:e,letterSpacing:n})[d]},y=i.length>=2?Qo(i[1].coordinate-i[0].coordinate):1,v=xje(s,y,d);return l==="equidistantPreserveStart"?_je(y,v,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Eje(y,v,x,i,o,l==="preserveStartEnd"):h=Mje(y,v,x,i,o),h.filter(function(b){return b.isShow}))}var Tje=["viewBox"],Cje=["viewBox"],Pje=["ticks"];function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function c6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(n),!0).forEach(function(r){cL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lC(t,e){if(t==null)return{};var n=Rje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zJ(r.key),r)}}function Ije(t,e,n){return e&&u6(t.prototype,e),n&&u6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bje(t,e,n){return e=Iw(e),Dje(t,jJ()?Reflect.construct(e,n||[],Iw(t).constructor):e.apply(t,n))}function Dje(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lje(t)}function Lje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jJ=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iw(t)}function Nje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JR(t,e)}function JR(t,e){return JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JR(t,e)}function cL(t,e,n){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zJ(t){var e=kje(t,"string");return Ep(e)=="symbol"?e:e+""}function kje(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var im=function(t){function e(n){var r;return Oje(this,e),r=Bje(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Nje(e,t),Ije(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=lC(r,Tje),a=this.props,l=a.viewBox,c=lC(a,Cje);return!Hd(s,l)||!Hd(o,c)||!Hd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,d,m,x,y,v,b,_=f?-1:1,M=r.tickSize||u,w=mt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":d=m=r.coordinate,y=o+ +!f*l,x=y-_*M,b=x-_*h,v=w;break;case"left":x=y=r.coordinate,m=s+ +!f*a,d=m-_*M,v=d-_*h,b=w;break;case"right":x=y=r.coordinate,m=s+ +f*a,d=m+_*M,v=d+_*h,b=w;break;default:d=m=r.coordinate,y=o+ +f*l,x=y+_*M,b=x+_*h,v=w;break}return{line:{x1:d,y1:x,x2:m,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=$i($i($i({},pn(this.props,!1)),pn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=$i($i({},f),{},{x1:i,y1:s+h*a,x2:i+o,y2:s+h*a})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=$i($i({},f),{},{x1:i+d*o,y1:s,x2:i+d*o,y2:s+a})}return me.createElement("line",Sd({},f,{className:Mn("recharts-cartesian-axis-line",xo(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,f=a.tickFormatter,h=a.unit,d=lL($i($i({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=pn(this.props,!1),v=pn(u,!1),b=$i($i({},y),{},{fill:"none"},pn(l,!1)),_=d.map(function(M,w){var A=o.getTickLineCoord(M),E=A.line,C=A.tick,L=$i($i($i($i({textAnchor:m,verticalAnchor:x},y),{},{stroke:"none",fill:c},v),C),{},{index:w,payload:M,visibleTicksCount:d.length,tickFormatter:f});return me.createElement(Rr,Sd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},j1(o.props,M,w)),l&&me.createElement("line",Sd({},b,E,{className:Mn("recharts-cartesian-axis-tick-line",xo(l,"className"))})),u&&e.renderTickItem(u,L,"".concat(rn(f)?f(M.value,w):M.value).concat(h||"")))});return me.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,d=lC(f,Pje),m=h;return rn(l)&&(m=h&&h.length>0?l(this.props):l(d)),o<=0||a<=0||!m||!m.length?null:me.createElement(Rr,{className:Mn("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return me.isValidElement(r)?o=me.cloneElement(r,i):rn(r)?o=r(i):o=me.createElement(ew,Sd({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(U.Component);cL(im,"displayName","CartesianAxis");cL(im,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Fje=["x1","y1","x2","y2","key"],Uje=["offset"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(r){jje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jje(t,e,n){return e=zje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zje(t){var e=Hje(t,"string");return qf(e)=="symbol"?e:e+""}function Hje(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}function h6(t,e){if(t==null)return{};var n=Gje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Vje=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return me.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HJ(t,e){var n;if(me.isValidElement(t))n=me.cloneElement(t,e);else if(rn(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=h6(e,Fje),c=pn(l,!1);c.offset;var u=h6(c,Uje);n=me.createElement("line",vf({},u,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function Wje(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Li(Li({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return HJ(i,c)});return me.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $je(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Li(Li({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return HJ(i,c)});return me.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Xje(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],x=m?i+o-h:u[d+1]-h;if(x<=0)return null;var y=d%e.length;return me.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:x,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return me.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Kje(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,d){return h-d});s!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],x=m?s+a-h:u[d+1]-h;if(x<=0)return null;var y=d%r.length;return me.createElement("rect",{key:"react-".concat(d),x:h,y:o,width:x,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return me.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Yje=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return tJ(lL(Li(Li(Li({},im.defaultProps),r),{},{ticks:yl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},Jje=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return tJ(lL(Li(Li(Li({},im.defaultProps),r),{},{ticks:yl(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Qh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qR(t){var e,n,r,i,s,o,a=iL(),l=sL(),c=k5e(),u=Li(Li({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Qh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Qh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Qh.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Qh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Qh.verticalFill,x:mt(t.x)?t.x:c.left,y:mt(t.y)?t.y:c.top,width:mt(t.width)?t.width:c.width,height:mt(t.height)?t.height:c.height}),f=u.x,h=u.y,d=u.width,m=u.height,x=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=D5e(),_=L5e();if(!mt(d)||d<=0||!mt(m)||m<=0||!mt(f)||f!==+f||!mt(h)||h!==+h)return null;var M=u.verticalCoordinatesGenerator||Yje,w=u.horizontalCoordinatesGenerator||Jje,A=u.horizontalPoints,E=u.verticalPoints;if((!A||!A.length)&&rn(w)){var C=y&&y.length,L=w({yAxis:_?Li(Li({},_),{},{ticks:C?y:_.ticks}):void 0,width:a,height:l,offset:c},C?!0:x);wl(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qf(L),"]")),Array.isArray(L)&&(A=L)}if((!E||!E.length)&&rn(M)){var P=v&&v.length,B=M({xAxis:b?Li(Li({},b),{},{ticks:P?v:b.ticks}):void 0,width:a,height:l,offset:c},P?!0:x);wl(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qf(B),"]")),Array.isArray(B)&&(E=B)}return me.createElement("g",{className:"recharts-cartesian-grid"},me.createElement(Vje,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),me.createElement(Wje,vf({},u,{offset:c,horizontalPoints:A,xAxis:b,yAxis:_})),me.createElement($je,vf({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:_})),me.createElement(Xje,vf({},u,{horizontalPoints:A})),me.createElement(Kje,vf({},u,{verticalPoints:E})))}qR.displayName="CartesianGrid";var qje=["type","layout","connectNulls","ref"],Zje=["key"];function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function d6(t,e){if(t==null)return{};var n=Qje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){$o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ed(t){return rze(t)||nze(t)||tze(t)||eze()}function eze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tze(t,e){if(t){if(typeof t=="string")return ZR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZR(t,e)}}function nze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rze(t){if(Array.isArray(t))return ZR(t)}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VJ(r.key),r)}}function sze(t,e,n){return e&&m6(t.prototype,e),n&&m6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oze(t,e,n){return e=Bw(e),aze(t,GJ()?Reflect.construct(e,n||[],Bw(t).constructor):e.apply(t,n))}function aze(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lze(t)}function lze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GJ=function(){return!!t})()}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bw(t)}function cze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QR(t,e)}function QR(t,e){return QR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QR(t,e)}function $o(t,e,n){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=uze(t,"string");return Tp(e)=="symbol"?e:e+""}function uze(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cp=function(t){function e(){var n;ize(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=oze(this,e,[].concat(i)),$o(n,"state",{isAnimationFinished:!0,totalLength:0}),$o(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),$o(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(v,b){return v+b});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var u=Math.floor(o/c),f=o%c,h=a-o,d=[],m=0,x=0;m<l.length;x+=l[m],++m)if(x+l[m]>f){d=[].concat(ed(l.slice(0,m)),[f-x]);break}var y=d.length%2===0?[0,h]:[h];return[].concat(ed(e.repeat(l,u)),ed(d),y).map(function(v){return"".concat(v,"px")}).join(", ")}),$o(n,"id",m0("recharts-line-")),$o(n,"pathRef",function(o){n.mainCurve=o}),$o(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$o(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return cze(e,t),sze(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=bo(u,_0);if(!f)return null;var h=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:zs(x.payload,y)}},d={clipPath:r?"url(#clipPath-".concat(i,")"):null};return me.createElement(Rr,d,f.map(function(m){return me.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,f=pn(this.props,!1),h=pn(l,!0),d=c.map(function(x,y){var v=Es(Es(Es({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:c});return e.renderDotItem(l,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return me.createElement(Rr,Qg({className:"recharts-line-dots",key:"dots"},m),d)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var f=d6(a,qje),h=Es(Es(Es({},pn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:u});return me.createElement(PR,Qg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,d=o.animationId,m=o.animateNewValues,x=o.width,y=o.height,v=this.state,b=v.prevPoints,_=v.totalLength;return me.createElement(Bl,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var w=M.t;if(b){var A=b.length/a.length,E=a.map(function(H,q){var z=Math.floor(q*A);if(b[z]){var K=b[z],Y=Yo(K.x,H.x),ie=Yo(K.y,H.y);return Es(Es({},H),{},{x:Y(w),y:ie(w)})}if(m){var G=Yo(x*2,H.x),J=Yo(y/2,H.y);return Es(Es({},H),{},{x:G(w),y:J(w)})}return Es(Es({},H),{},{x:H.x,y:H.y})});return s.renderCurveStatically(E,r,i)}var C=Yo(0,_),L=C(w),P;if(l){var B="".concat(l).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});P=s.getStrokeDasharray(L,_,B)}else P=s.generateSimpleStrokeDasharray(_,L);return s.renderCurveStatically(a,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&o&&o.length&&(!c&&u>0||!RA(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,h=i.left,d=i.width,m=i.height,x=i.isAnimationActive,y=i.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=a.length===1,_=Mn("recharts-line",l),M=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,A=M||w,E=fn(y)?this.id:y,C=(r=pn(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=C.r,P=L===void 0?3:L,B=C.strokeWidth,H=B===void 0?2:B,q=Cwe(o)?o:{},z=q.clipDot,K=z===void 0?!0:z,Y=P*2+H;return me.createElement(Rr,{className:_},M||w?me.createElement("defs",null,me.createElement("clipPath",{id:"clipPath-".concat(E)},me.createElement("rect",{x:M?h:h-d/2,y:w?f:f-m/2,width:M?d:d*2,height:w?m:m*2})),!K&&me.createElement("clipPath",{id:"clipPath-dots-".concat(E)},me.createElement("rect",{x:h-Y/2,y:f-Y/2,width:d+Y,height:m+Y}))):null,!b&&this.renderCurve(A,E),this.renderErrorBar(A,E),(b||o)&&this.renderDots(A,K,E),(!x||v)&&Hc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(ed(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(ed(o),ed(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(me.isValidElement(r))s=me.cloneElement(r,i);else if(rn(r))s=r(i);else{var o=i.key,a=d6(i,Zje),l=Mn("recharts-line-dot",typeof r!="boolean"?r.className:"");s=me.createElement(eL,Qg({key:o},a,{className:l}))}return s}}])}(U.PureComponent);$o(Cp,"displayName","Line");$o(Cp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!em.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$o(Cp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(h,d){var m=zs(h,o);return u==="horizontal"?{x:Jz({axis:n,ticks:i,bandSize:a,entry:h,index:d}),y:fn(m)?null:r.scale(m),value:m,payload:h}:{x:fn(m)?null:n.scale(m),y:Jz({axis:r,ticks:s,bandSize:a,entry:h,index:d}),value:m,payload:h}});return Es({points:f,layout:u},c)});function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function fze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XJ(r.key),r)}}function dze(t,e,n){return e&&hze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pze(t,e,n){return e=Dw(e),mze(t,WJ()?Reflect.construct(e,n||[],Dw(t).constructor):e.apply(t,n))}function mze(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gze(t)}function gze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WJ=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dw(t)}function vze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eO(t,e)}function eO(t,e){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eO(t,e)}function $J(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=yze(t,"string");return Pp(e)=="symbol"?e:e+""}function yze(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tO(){return tO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tO.apply(this,arguments)}function xze(t){var e=t.xAxisId,n=iL(),r=sL(),i=OJ(e);return i==null?null:me.createElement(im,tO({},i,{className:Mn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return yl(o,!0)}}))}var Ey=function(t){function e(){return fze(this,e),pze(this,e,arguments)}return vze(e,t),dze(e,[{key:"render",value:function(){return me.createElement(xze,this.props)}}])}(me.Component);$J(Ey,"displayName","XAxis");$J(Ey,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function bze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JJ(r.key),r)}}function wze(t,e,n){return e&&_ze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sze(t,e,n){return e=Lw(e),Aze(t,KJ()?Reflect.construct(e,n||[],Lw(t).constructor):e.apply(t,n))}function Aze(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mze(t)}function Mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KJ=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lw(t)}function Eze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nO(t,e)}function nO(t,e){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nO(t,e)}function YJ(t,e,n){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JJ(t){var e=Tze(t,"string");return Rp(e)=="symbol"?e:e+""}function Tze(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rO.apply(this,arguments)}var Cze=function(e){var n=e.yAxisId,r=iL(),i=sL(),s=IJ(n);return s==null?null:me.createElement(im,rO({},s,{className:Mn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return yl(a,!0)}}))},Ty=function(t){function e(){return bze(this,e),Sze(this,e,arguments)}return Eze(e,t),wze(e,[{key:"render",value:function(){return me.createElement(Cze,this.props)}}])}(me.Component);YJ(Ty,"displayName","YAxis");YJ(Ty,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function g6(t){return Ize(t)||Oze(t)||Rze(t)||Pze()}function Pze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rze(t,e){if(t){if(typeof t=="string")return iO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(t,e)}}function Oze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ize(t){if(Array.isArray(t))return iO(t)}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sO=function(e,n,r,i,s){var o=bo(e,aL),a=bo(e,kA),l=[].concat(g6(o),g6(a)),c=bo(e,UA),u="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(x,y){if(y.props[u]===r&&Na(y.props,"extendDomain")&&mt(y.props[f])){var v=y.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),c.length){var d="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(x,y){if(y.props[u]===r&&Na(y.props,"extendDomain")&&mt(y.props[d])&&mt(y.props[m])){var v=y.props[d],b=y.props[m];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,y){return mt(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},qJ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,m=new Array(d);h<d;h++)m[h]=f[h].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,h,d,m){var x=n?n+c:c;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,d),!0;case 6:return y.fn.call(y.context,u,f,h,d,m),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];y.fn.apply(y.context,b)}else{var M=y.length,w;for(_=0;_<M;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),v){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,u);break;case 3:y[_].fn.call(y[_].context,u,f);break;case 4:y[_].fn.call(y[_].context,u,f,h);break;default:if(!b)for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y[_].fn.apply(y[_].context,b)}}return!0},a.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,h){var d=n?n+c:c;if(!this._events[d])return this;if(!u)return o(this,d),this;var m=this._events[d];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,d);else{for(var x=0,y=[],v=m.length;x<v;x++)(m[x].fn!==u||h&&!m[x].once||f&&m[x].context!==f)&&y.push(m[x]);y.length?this._events[d]=y.length===1?y[0]:y:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(qJ);var Bze=qJ.exports;const Dze=Ln(Bze);var cC=new Dze,uC="recharts.syncMouseEvents";function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function Lze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZJ(r.key),r)}}function kze(t,e,n){return e&&Nze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fC(t,e,n){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=Fze(t,"string");return Cy(e)=="symbol"?e:e+""}function Fze(t,e){if(Cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uze=function(){function t(){Lze(this,t),fC(this,"activeIndex",0),fC(this,"coordinateList",[]),fC(this,"layout","horizontal")}return kze(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,h=n.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,h=o+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function jze(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&mt(r)&&mt(i))return!0}return!1}function zze(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function QJ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=pi(e,n,r,i),a=pi(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Hze(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=pi(a,l,c,f),d=pi(a,l,u,f);r=h.x,i=h.y,s=d.x,o=d.y}else return QJ(e);return[{x:r,y:i},{x:s,y:o}]}function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){Gze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gze(t,e,n){return e=Vze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vze(t){var e=Wze(t,"string");return Py(e)=="symbol"?e:e+""}function Wze(t,e){if(Py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ze(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,d=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!d||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,x=PR;if(h==="ScatterChart")m=o,x=VFe;else if(h==="BarChart")m=zze(f,o,l,u),x=QD;else if(f==="radial"){var y=QJ(o),v=y.cx,b=y.cy,_=y.radius,M=y.startAngle,w=y.endAngle;m={cx:v,cy:b,startAngle:M,endAngle:w,innerRadius:_,outerRadius:_},x=oJ}else m={points:Hze(f,o,l)},x=PR;var A=l_(l_(l_(l_({stroke:"#ccc",pointerEvents:"none"},l),m),pn(d,!1)),{},{payload:a,payloadIndex:c,className:Mn("recharts-tooltip-cursor",d.className)});return U.isValidElement(d)?U.cloneElement(d,A):U.createElement(x,A)}var Xze=["item"],Kze=["children","className","width","height","style","compact","title","desc"];function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ad.apply(this,arguments)}function y6(t,e){return qze(t)||Jze(t,e)||tq(t,e)||Yze()}function Yze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function qze(t){if(Array.isArray(t))return t}function x6(t,e){if(t==null)return{};var n=Zze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nq(r.key),r)}}function tHe(t,e,n){return e&&eHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nHe(t,e,n){return e=Nw(e),rHe(t,eq()?Reflect.construct(e,n||[],Nw(t).constructor):e.apply(t,n))}function rHe(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iHe(t)}function iHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nw(t)}function sHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oO(t,e)}function Ip(t){return lHe(t)||aHe(t)||tq(t)||oHe()}function oHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(t,e){if(t){if(typeof t=="string")return aO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(t,e)}}function aHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lHe(t){if(Array.isArray(t))return aO(t)}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(n),!0).forEach(function(r){Ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ht(t,e,n){return e=nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nq(t){var e=cHe(t,"string");return Op(e)=="symbol"?e:e+""}function cHe(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uHe={xAxis:["bottom","top"],yAxis:["left","right"]},fHe={width:"100%",height:"100%"},rq={x:0,y:0};function c_(t){return t}var hHe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},dHe=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return je(je(je({},i),pi(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return je(je(je({},i),pi(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return rq},jA=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Ip(a),Ip(c)):a},[]);return o.length>0?o:e&&e.length&&mt(i)&&mt(s)?e.slice(i,s+1):[]};function iq(t){return t==="number"?[0,"auto"]:void 0}var lO=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=jA(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var d=f===void 0?a:f;h=F1(d,o.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Ip(l),[rJ(c,h)]):l},[])},_6=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=hHe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=ONe(o,a,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=lO(e,n,u,f),d=dHe(r,a,u,s);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},pHe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,d=eJ(u,s);return r.reduce(function(m,x){var y,v=x.type.defaultProps!==void 0?je(je({},x.type.defaultProps),x.props):x.props,b=v.type,_=v.dataKey,M=v.allowDataOverflow,w=v.allowDuplicatedCategory,A=v.scale,E=v.ticks,C=v.includeHidden,L=v[o];if(m[L])return m;var P=jA(e.data,{graphicalItems:i.filter(function(fe){var we,pe=o in fe.props?fe.props[o]:(we=fe.type.defaultProps)===null||we===void 0?void 0:we[o];return pe===L}),dataStartIndex:l,dataEndIndex:c}),B=P.length,H,q,z;jze(v.domain,M,b)&&(H=AR(v.domain,null,M),d&&(b==="number"||A!=="auto")&&(z=qg(P,_,"category")));var K=iq(b);if(!H||H.length===0){var Y,ie=(Y=v.domain)!==null&&Y!==void 0?Y:K;if(_){if(H=qg(P,_,b),b==="category"&&d){var G=ywe(H);w&&G?(q=H,H=Sw(0,B)):w||(H=eH(ie,H,x).reduce(function(fe,we){return fe.indexOf(we)>=0?fe:[].concat(Ip(fe),[we])},[]))}else if(b==="category")w?H=H.filter(function(fe){return fe!==""&&!fn(fe)}):H=eH(ie,H,x).reduce(function(fe,we){return fe.indexOf(we)>=0||we===""||fn(we)?fe:[].concat(Ip(fe),[we])},[]);else if(b==="number"){var J=NNe(P,i.filter(function(fe){var we,pe,Ae=o in fe.props?fe.props[o]:(we=fe.type.defaultProps)===null||we===void 0?void 0:we[o],Pe="hide"in fe.props?fe.props.hide:(pe=fe.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return Ae===L&&(C||!Pe)}),_,s,u);J&&(H=J)}d&&(b==="number"||A!=="auto")&&(z=qg(P,_,"category"))}else d?H=Sw(0,B):a&&a[L]&&a[L].hasStack&&b==="number"?H=h==="expand"?[0,1]:nJ(a[L].stackGroups,l,c):H=QY(P,i.filter(function(fe){var we=o in fe.props?fe.props[o]:fe.type.defaultProps[o],pe="hide"in fe.props?fe.props.hide:fe.type.defaultProps.hide;return we===L&&(C||!pe)}),b,u,!0);if(b==="number")H=sO(f,H,L,s,E),ie&&(H=AR(ie,H,M));else if(b==="category"&&ie){var te=ie,re=H.every(function(fe){return te.indexOf(fe)>=0});re&&(H=te)}}return je(je({},m),{},Ht({},L,je(je({},v),{},{axisType:s,domain:H,categoricalDomain:z,duplicateDomain:q,originalDomain:(y=v.domain)!==null&&y!==void 0?y:K,isCategorical:d,layout:u})))},{})},mHe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,h=jA(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),d=h.length,m=eJ(u,s),x=-1;return r.reduce(function(y,v){var b=v.type.defaultProps!==void 0?je(je({},v.type.defaultProps),v.props):v.props,_=b[o],M=iq("number");if(!y[_]){x++;var w;return m?w=Sw(0,d):a&&a[_]&&a[_].hasStack?(w=nJ(a[_].stackGroups,l,c),w=sO(f,w,_,s)):(w=AR(M,QY(h,r.filter(function(A){var E,C,L=o in A.props?A.props[o]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[o],P="hide"in A.props?A.props.hide:(C=A.type.defaultProps)===null||C===void 0?void 0:C.hide;return L===_&&!P}),"number",u),i.defaultProps.allowDataOverflow),w=sO(f,w,_,s)),je(je({},y),{},Ht({},_,je(je({axisType:s},i.defaultProps),{},{hide:!0,orientation:xo(uHe,"".concat(s,".").concat(x%2),null),domain:w,originalDomain:M,isCategorical:m,layout:u})))}return y},{})},gHe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=bo(u,s),d={};return h&&h.length?d=pHe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(d=mHe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),d},vHe=function(e){var n=yc(e),r=yl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ED(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:pw(n,r)}},w6=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ps(n,_p),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},yHe=function(e){return!e||!e.length?!1:e.some(function(n){var r=_l(n&&n.type);return r&&r.indexOf("Bar")>=0})},S6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xHe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,f=r.children,h=r.margin||{},d=Ps(f,_p),m=Ps(f,Gd),x=Object.keys(l).reduce(function(w,A){var E=l[A],C=E.orientation;return!E.mirror&&!E.hide?je(je({},w),{},Ht({},C,w[C]+E.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(w,A){var E=o[A],C=E.orientation;return!E.mirror&&!E.hide?je(je({},w),{},Ht({},C,xo(w,"".concat(C))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=je(je({},y),x),b=v.bottom;d&&(v.bottom+=d.props.height||_p.defaultProps.height),m&&n&&(v=DNe(v,i,r,n));var _=c-v.left-v.right,M=u-v.top-v.bottom;return je(je({brushBottom:b},v),{},{width:Math.max(_,0),height:Math.max(M,0)})},bHe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},_He=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(v,b){var _=b.graphicalItems,M=b.stackGroups,w=b.offset,A=b.updateId,E=b.dataStartIndex,C=b.dataEndIndex,L=v.barSize,P=v.layout,B=v.barGap,H=v.barCategoryGap,q=v.maxBarSize,z=S6(P),K=z.numericAxisName,Y=z.cateAxisName,ie=yHe(_),G=[];return _.forEach(function(J,te){var re=jA(v.data,{graphicalItems:[J],dataStartIndex:E,dataEndIndex:C}),fe=J.type.defaultProps!==void 0?je(je({},J.type.defaultProps),J.props):J.props,we=fe.dataKey,pe=fe.maxBarSize,Ae=fe["".concat(K,"Id")],Pe=fe["".concat(Y,"Id")],Ze={},nt=l.reduce(function(xe,He){var We=b["".concat(He.axisType,"Map")],Ue=fe["".concat(He.axisType,"Id")];We&&We[Ue]||He.axisType==="zAxis"||Jf();var ut=We[Ue];return je(je({},xe),{},Ht(Ht({},He.axisType,ut),"".concat(He.axisType,"Ticks"),yl(ut)))},Ze),Ie=nt[Y],et=nt["".concat(Y,"Ticks")],Xe=M&&M[Ae]&&M[Ae].hasStack&&KNe(J,M[Ae].stackGroups),X=_l(J.type).indexOf("Bar")>=0,Le=pw(Ie,et),Se=[],Ve=ie&&INe({barSize:L,stackGroups:M,totalSize:bHe(nt,Y)});if(X){var Re,dt,it=fn(pe)?q:pe,Q=(Re=(dt=pw(Ie,et,!0))!==null&&dt!==void 0?dt:it)!==null&&Re!==void 0?Re:0;Se=BNe({barGap:B,barCategoryGap:H,bandSize:Q!==Le?Q:Le,sizeList:Ve[Pe],maxBarSize:it}),Q!==Le&&(Se=Se.map(function(xe){return je(je({},xe),{},{position:je(je({},xe.position),{},{offset:xe.position.offset-Q/2})})}))}var $=J&&J.type&&J.type.getComposedData;$&&G.push({props:je(je({},$(je(je({},nt),{},{displayedData:re,props:v,dataKey:we,item:J,bandSize:Le,barPosition:Se,offset:w,stackedData:Xe,layout:P,dataStartIndex:E,dataEndIndex:C}))),{},Ht(Ht(Ht({key:J.key||"item-".concat(te)},K,nt[K]),Y,nt[Y]),"animationId",A)),childIndex:Owe(J,v.children),item:J})}),G},d=function(v,b){var _=v.props,M=v.dataStartIndex,w=v.dataEndIndex,A=v.updateId;if(!$5({props:_}))return null;var E=_.children,C=_.layout,L=_.stackOffset,P=_.data,B=_.reverseStackOrder,H=S6(C),q=H.numericAxisName,z=H.cateAxisName,K=bo(E,r),Y=WNe(P,K,"".concat(q,"Id"),"".concat(z,"Id"),L,B),ie=l.reduce(function(fe,we){var pe="".concat(we.axisType,"Map");return je(je({},fe),{},Ht({},pe,gHe(_,je(je({},we),{},{graphicalItems:K,stackGroups:we.axisType===q&&Y,dataStartIndex:M,dataEndIndex:w}))))},{}),G=xHe(je(je({},ie),{},{props:_,graphicalItems:K}),b==null?void 0:b.legendBBox);Object.keys(ie).forEach(function(fe){ie[fe]=u(_,ie[fe],G,fe.replace("Map",""),n)});var J=ie["".concat(z,"Map")],te=vHe(J),re=h(_,je(je({},ie),{},{dataStartIndex:M,dataEndIndex:w,updateId:A,graphicalItems:K,stackGroups:Y,offset:G}));return je(je({formattedGraphicalItems:re,graphicalItems:K,offset:G,stackGroups:Y},te),ie)},m=function(y){function v(b){var _,M,w;return Qze(this,v),w=nHe(this,v,[b]),Ht(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ht(w,"accessibilityManager",new Uze),Ht(w,"handleLegendBBoxUpdate",function(A){if(A){var E=w.state,C=E.dataStartIndex,L=E.dataEndIndex,P=E.updateId;w.setState(je({legendBBox:A},d({props:w.props,dataStartIndex:C,dataEndIndex:L,updateId:P},je(je({},w.state),{},{legendBBox:A}))))}}),Ht(w,"handleReceiveSyncEvent",function(A,E,C){if(w.props.syncId===A){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Ht(w,"handleBrushChange",function(A){var E=A.startIndex,C=A.endIndex;if(E!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var L=w.state.updateId;w.setState(function(){return je({dataStartIndex:E,dataEndIndex:C},d({props:w.props,dataStartIndex:E,dataEndIndex:C,updateId:L},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),Ht(w,"handleMouseEnter",function(A){var E=w.getMouseInfo(A);if(E){var C=je(je({},E),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var L=w.props.onMouseEnter;rn(L)&&L(C,A)}}),Ht(w,"triggeredAfterMouseMove",function(A){var E=w.getMouseInfo(A),C=E?je(je({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var L=w.props.onMouseMove;rn(L)&&L(C,A)}),Ht(w,"handleItemMouseEnter",function(A){w.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Ht(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ht(w,"handleMouseMove",function(A){A.persist(),w.throttleTriggeredAfterMouseMove(A)}),Ht(w,"handleMouseLeave",function(A){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var C=w.props.onMouseLeave;rn(C)&&C(E,A)}),Ht(w,"handleOuterEvent",function(A){var E=Rwe(A),C=xo(w.props,"".concat(E));if(E&&rn(C)){var L,P;/.*touch.*/i.test(E)?P=w.getMouseInfo(A.changedTouches[0]):P=w.getMouseInfo(A),C((L=P)!==null&&L!==void 0?L:{},A)}}),Ht(w,"handleClick",function(A){var E=w.getMouseInfo(A);if(E){var C=je(je({},E),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var L=w.props.onClick;rn(L)&&L(C,A)}}),Ht(w,"handleMouseDown",function(A){var E=w.props.onMouseDown;if(rn(E)){var C=w.getMouseInfo(A);E(C,A)}}),Ht(w,"handleMouseUp",function(A){var E=w.props.onMouseUp;if(rn(E)){var C=w.getMouseInfo(A);E(C,A)}}),Ht(w,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Ht(w,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseDown(A.changedTouches[0])}),Ht(w,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseUp(A.changedTouches[0])}),Ht(w,"handleDoubleClick",function(A){var E=w.props.onDoubleClick;if(rn(E)){var C=w.getMouseInfo(A);E(C,A)}}),Ht(w,"handleContextMenu",function(A){var E=w.props.onContextMenu;if(rn(E)){var C=w.getMouseInfo(A);E(C,A)}}),Ht(w,"triggerSyncEvent",function(A){w.props.syncId!==void 0&&cC.emit(uC,w.props.syncId,A,w.eventEmitterSymbol)}),Ht(w,"applySyncEvent",function(A){var E=w.props,C=E.layout,L=E.syncMethod,P=w.state.updateId,B=A.dataStartIndex,H=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)w.setState(je({dataStartIndex:B,dataEndIndex:H},d({props:w.props,dataStartIndex:B,dataEndIndex:H,updateId:P},w.state)));else if(A.activeTooltipIndex!==void 0){var q=A.chartX,z=A.chartY,K=A.activeTooltipIndex,Y=w.state,ie=Y.offset,G=Y.tooltipTicks;if(!ie)return;if(typeof L=="function")K=L(G,A);else if(L==="value"){K=-1;for(var J=0;J<G.length;J++)if(G[J].value===A.activeLabel){K=J;break}}var te=je(je({},ie),{},{x:ie.left,y:ie.top}),re=Math.min(q,te.x+te.width),fe=Math.min(z,te.y+te.height),we=G[K]&&G[K].value,pe=lO(w.state,w.props.data,K),Ae=G[K]?{x:C==="horizontal"?G[K].coordinate:re,y:C==="horizontal"?fe:G[K].coordinate}:rq;w.setState(je(je({},A),{},{activeLabel:we,activeCoordinate:Ae,activePayload:pe,activeTooltipIndex:K}))}else w.setState(A)}),Ht(w,"renderCursor",function(A){var E,C=w.state,L=C.isTooltipActive,P=C.activeCoordinate,B=C.activePayload,H=C.offset,q=C.activeTooltipIndex,z=C.tooltipAxisBandSize,K=w.getTooltipEventType(),Y=(E=A.props.active)!==null&&E!==void 0?E:L,ie=w.props.layout,G=A.key||"_recharts-cursor";return me.createElement($ze,{key:G,activeCoordinate:P,activePayload:B,activeTooltipIndex:q,chartName:n,element:A,isActive:Y,layout:ie,offset:H,tooltipAxisBandSize:z,tooltipEventType:K})}),Ht(w,"renderPolarAxis",function(A,E,C){var L=xo(A,"type.axisType"),P=xo(w.state,"".concat(L,"Map")),B=A.type.defaultProps,H=B!==void 0?je(je({},B),A.props):A.props,q=P&&P[H["".concat(L,"Id")]];return U.cloneElement(A,je(je({},q),{},{className:Mn(L,q.className),key:A.key||"".concat(E,"-").concat(C),ticks:yl(q,!0)}))}),Ht(w,"renderPolarGrid",function(A){var E=A.props,C=E.radialLines,L=E.polarAngles,P=E.polarRadius,B=w.state,H=B.radiusAxisMap,q=B.angleAxisMap,z=yc(H),K=yc(q),Y=K.cx,ie=K.cy,G=K.innerRadius,J=K.outerRadius;return U.cloneElement(A,{polarAngles:Array.isArray(L)?L:yl(K,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(P)?P:yl(z,!0).map(function(te){return te.coordinate}),cx:Y,cy:ie,innerRadius:G,outerRadius:J,key:A.key||"polar-grid",radialLines:C})}),Ht(w,"renderLegend",function(){var A=w.state.formattedGraphicalItems,E=w.props,C=E.children,L=E.width,P=E.height,B=w.props.margin||{},H=L-(B.left||0)-(B.right||0),q=qY({children:C,formattedGraphicalItems:A,legendWidth:H,legendContent:c});if(!q)return null;var z=q.item,K=x6(q,Xze);return U.cloneElement(z,je(je({},K),{},{chartWidth:L,chartHeight:P,margin:B,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ht(w,"renderTooltip",function(){var A,E=w.props,C=E.children,L=E.accessibilityLayer,P=Ps(C,Vo);if(!P)return null;var B=w.state,H=B.isTooltipActive,q=B.activeCoordinate,z=B.activePayload,K=B.activeLabel,Y=B.offset,ie=(A=P.props.active)!==null&&A!==void 0?A:H;return U.cloneElement(P,{viewBox:je(je({},Y),{},{x:Y.left,y:Y.top}),active:ie,label:K,payload:ie?z:[],coordinate:q,accessibilityLayer:L})}),Ht(w,"renderBrush",function(A){var E=w.props,C=E.margin,L=E.data,P=w.state,B=P.offset,H=P.dataStartIndex,q=P.dataEndIndex,z=P.updateId;return U.cloneElement(A,{key:A.key||"_recharts-brush",onChange:i_(w.handleBrushChange,A.props.onChange),data:L,x:mt(A.props.x)?A.props.x:B.left,y:mt(A.props.y)?A.props.y:B.top+B.height+B.brushBottom-(C.bottom||0),width:mt(A.props.width)?A.props.width:B.width,startIndex:H,endIndex:q,updateId:"brush-".concat(z)})}),Ht(w,"renderReferenceElement",function(A,E,C){if(!A)return null;var L=w,P=L.clipPathId,B=w.state,H=B.xAxisMap,q=B.yAxisMap,z=B.offset,K=A.type.defaultProps||{},Y=A.props,ie=Y.xAxisId,G=ie===void 0?K.xAxisId:ie,J=Y.yAxisId,te=J===void 0?K.yAxisId:J;return U.cloneElement(A,{key:A.key||"".concat(E,"-").concat(C),xAxis:H[G],yAxis:q[te],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:P})}),Ht(w,"renderActivePoints",function(A){var E=A.item,C=A.activePoint,L=A.basePoint,P=A.childIndex,B=A.isRange,H=[],q=E.props.key,z=E.item.type.defaultProps!==void 0?je(je({},E.item.type.defaultProps),E.item.props):E.item.props,K=z.activeDot,Y=z.dataKey,ie=je(je({index:P,dataKey:Y,cx:C.x,cy:C.y,r:4,fill:ZD(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},pn(K,!1)),U1(K));return H.push(v.renderActiveDot(K,ie,"".concat(q,"-activePoint-").concat(P))),L?H.push(v.renderActiveDot(K,je(je({},ie),{},{cx:L.x,cy:L.y}),"".concat(q,"-basePoint-").concat(P))):B&&H.push(null),H}),Ht(w,"renderGraphicChild",function(A,E,C){var L=w.filterFormatItem(A,E,C);if(!L)return null;var P=w.getTooltipEventType(),B=w.state,H=B.isTooltipActive,q=B.tooltipAxis,z=B.activeTooltipIndex,K=B.activeLabel,Y=w.props.children,ie=Ps(Y,Vo),G=L.props,J=G.points,te=G.isRange,re=G.baseLine,fe=L.item.type.defaultProps!==void 0?je(je({},L.item.type.defaultProps),L.item.props):L.item.props,we=fe.activeDot,pe=fe.hide,Ae=fe.activeBar,Pe=fe.activeShape,Ze=!!(!pe&&H&&ie&&(we||Ae||Pe)),nt={};P!=="axis"&&ie&&ie.props.trigger==="click"?nt={onClick:i_(w.handleItemMouseEnter,A.props.onClick)}:P!=="axis"&&(nt={onMouseLeave:i_(w.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:i_(w.handleItemMouseEnter,A.props.onMouseEnter)});var Ie=U.cloneElement(A,je(je({},L.props),nt));function et(He){return typeof q.dataKey=="function"?q.dataKey(He.payload):null}if(Ze)if(z>=0){var Xe,X;if(q.dataKey&&!q.allowDuplicatedCategory){var Le=typeof q.dataKey=="function"?et:"payload.".concat(q.dataKey.toString());Xe=F1(J,Le,K),X=te&&re&&F1(re,Le,K)}else Xe=J==null?void 0:J[z],X=te&&re&&re[z];if(Pe||Ae){var Se=A.props.activeIndex!==void 0?A.props.activeIndex:z;return[U.cloneElement(A,je(je(je({},L.props),nt),{},{activeIndex:Se})),null,null]}if(!fn(Xe))return[Ie].concat(Ip(w.renderActivePoints({item:L,activePoint:Xe,basePoint:X,childIndex:z,isRange:te})))}else{var Ve,Re=(Ve=w.getItemByXY(w.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:Ie},dt=Re.graphicalItem,it=dt.item,Q=it===void 0?A:it,$=dt.childIndex,xe=je(je(je({},L.props),nt),{},{activeIndex:$});return[U.cloneElement(Q,xe),null,null]}return te?[Ie,null,null]:[Ie,null]}),Ht(w,"renderCustomized",function(A,E,C){return U.cloneElement(A,je(je({key:"recharts-customized-".concat(C)},w.props),w.state))}),Ht(w,"renderMap",{CartesianGrid:{handler:c_,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:c_},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:c_},YAxis:{handler:c_},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:m0("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=JK(w.triggeredAfterMouseMove,(M=b.throttleDelay)!==null&&M!==void 0?M:1e3/60),w.state={},w}return sHe(v,y),tHe(v,[{key:"componentDidMount",value:function(){var _,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,M=_.children,w=_.data,A=_.height,E=_.layout,C=Ps(M,Vo);if(C){var L=C.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,B=lO(this.state,w,L,P),H=this.state.tooltipTicks[L].coordinate,q=(this.state.offset.top+A)/2,z=E==="horizontal",K=z?{x:H,y:q}:{y:H,x:q},Y=this.state.formattedGraphicalItems.find(function(G){var J=G.item;return J.type.name==="Scatter"});Y&&(K=je(je({},K),Y.props.points[L].tooltipPosition),B=Y.props.points[L].tooltipPayload);var ie={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:P,activePayload:B,activeCoordinate:K};this.setState(ie),this.renderCursor(C),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var w,A;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){U2([Ps(_.children,Vo)],[Ps(this.props.children,Vo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ps(this.props.children,Vo);if(_&&typeof _.props.shared=="boolean"){var M=_.props.shared?"axis":"item";return a.indexOf(M)>=0?M:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var M=this.container,w=M.getBoundingClientRect(),A=rIe(w),E={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},C=w.width/M.offsetWidth||1,L=this.inRange(E.chartX,E.chartY,C);if(!L)return null;var P=this.state,B=P.xAxisMap,H=P.yAxisMap,q=this.getTooltipEventType(),z=_6(this.state,this.props.data,this.props.layout,L);if(q!=="axis"&&B&&H){var K=yc(B).scale,Y=yc(H).scale,ie=K&&K.invert?K.invert(E.chartX):null,G=Y&&Y.invert?Y.invert(E.chartY):null;return je(je({},E),{},{xValue:ie,yValue:G},z)}return z?je(je({},E),z):null}},{key:"inRange",value:function(_,M){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=_/w,C=M/w;if(A==="horizontal"||A==="vertical"){var L=this.state.offset,P=E>=L.left&&E<=L.left+L.width&&C>=L.top&&C<=L.top+L.height;return P?{x:E,y:C}:null}var B=this.state,H=B.angleAxisMap,q=B.radiusAxisMap;if(H&&q){var z=yc(H);return rH({x:E,y:C},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,M=this.getTooltipEventType(),w=Ps(_,Vo),A={};w&&M==="axis"&&(w.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=U1(this.props,this.handleOuterEvent);return je(je({},E),A)}},{key:"addListener",value:function(){cC.on(uC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cC.removeListener(uC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,M,w){for(var A=this.state.formattedGraphicalItems,E=0,C=A.length;E<C;E++){var L=A[E];if(L.item===_||L.props.key===_.key||M===_l(L.item.type)&&w===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,M=this.state.offset,w=M.left,A=M.top,E=M.height,C=M.width;return me.createElement("defs",null,me.createElement("clipPath",{id:_},me.createElement("rect",{x:w,y:A,height:E,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(M,w){var A=y6(w,2),E=A[0],C=A[1];return je(je({},M),{},Ht({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(M,w){var A=y6(w,2),E=A[0],C=A[1];return je(je({},M),{},Ht({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[_])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(_){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[_])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(_){var M=this.state,w=M.formattedGraphicalItems,A=M.activeItem;if(w&&w.length)for(var E=0,C=w.length;E<C;E++){var L=w[E],P=L.props,B=L.item,H=B.type.defaultProps!==void 0?je(je({},B.type.defaultProps),B.props):B.props,q=_l(B.type);if(q==="Bar"){var z=(P.data||[]).find(function(G){return DFe(_,G)});if(z)return{graphicalItem:L,payload:z}}else if(q==="RadialBar"){var K=(P.data||[]).find(function(G){return rH(_,G)});if(K)return{graphicalItem:L,payload:K}}else if(BA(L,A)||DA(L,A)||_y(L,A)){var Y=kUe({graphicalItem:L,activeTooltipItem:A,itemData:H.data}),ie=H.activeIndex===void 0?Y:H.activeIndex;return{graphicalItem:je(je({},L),{},{childIndex:ie}),payload:_y(L,A)?H.data[Y]:L.props.data[Y]}}}return null}},{key:"render",value:function(){var _=this;if(!$5(this))return null;var M=this.props,w=M.children,A=M.className,E=M.width,C=M.height,L=M.style,P=M.compact,B=M.title,H=M.desc,q=x6(M,Kze),z=pn(q,!1);if(P)return me.createElement(e6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},me.createElement(z2,Ad({},z,{width:E,height:C,title:B,desc:H}),this.renderClipPath(),K5(w,this.renderMap)));if(this.props.accessibilityLayer){var K,Y;z.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,z.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",z.onKeyDown=function(G){_.accessibilityManager.keyboardEvent(G)},z.onFocus=function(){_.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return me.createElement(e6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},me.createElement("div",Ad({className:Mn("recharts-wrapper",A),style:je({position:"relative",cursor:"default",width:E,height:C},L)},ie,{ref:function(J){_.container=J}}),me.createElement(z2,Ad({},z,{width:E,height:C,title:B,desc:H,style:fHe}),this.renderClipPath(),K5(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Ht(m,"displayName",n),Ht(m,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ht(m,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,_=y.data,M=y.children,w=y.width,A=y.height,E=y.layout,C=y.stackOffset,L=y.margin,P=v.dataStartIndex,B=v.dataEndIndex;if(v.updateId===void 0){var H=w6(y);return je(je(je({},H),{},{updateId:0},d(je(je({props:y},H),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:_,prevWidth:w,prevHeight:A,prevLayout:E,prevStackOffset:C,prevMargin:L,prevChildren:M})}if(b!==v.prevDataKey||_!==v.prevData||w!==v.prevWidth||A!==v.prevHeight||E!==v.prevLayout||C!==v.prevStackOffset||!Hd(L,v.prevMargin)){var q=w6(y),z={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},K=je(je({},_6(v,_,E)),{},{updateId:v.updateId+1}),Y=je(je(je({},q),z),K);return je(je(je({},Y),d(je({props:y},Y),v)),{},{prevDataKey:b,prevData:_,prevWidth:w,prevHeight:A,prevLayout:E,prevStackOffset:C,prevMargin:L,prevChildren:M})}if(!U2(M,v.prevChildren)){var ie,G,J,te,re=Ps(M,_p),fe=re&&(ie=(G=re.props)===null||G===void 0?void 0:G.startIndex)!==null&&ie!==void 0?ie:P,we=re&&(J=(te=re.props)===null||te===void 0?void 0:te.endIndex)!==null&&J!==void 0?J:B,pe=fe!==P||we!==B,Ae=!fn(_),Pe=Ae&&!pe?v.updateId:v.updateId+1;return je(je({updateId:Pe},d(je(je({props:y},v),{},{updateId:Pe,dataStartIndex:fe,dataEndIndex:we}),v)),{},{prevChildren:M,dataStartIndex:fe,dataEndIndex:we})}return null}),Ht(m,"renderActiveDot",function(y,v,b){var _;return U.isValidElement(y)?_=U.cloneElement(y,v):rn(y)?_=y(v):_=me.createElement(eL,v),me.createElement(Rr,{className:"recharts-active-dot",key:b},_)});var x=U.forwardRef(function(v,b){return me.createElement(m,Ad({},v,{ref:b}))});return x.displayName=m.displayName,x},A6=_He({chartName:"LineChart",GraphicalChild:Cp,axisComponents:[{axisType:"xAxis",AxisComp:Ey},{axisType:"yAxis",AxisComp:Ty}],formatAxisMap:c5e}),sq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M6=me.createContext&&me.createContext(sq),wHe=["attr","size","title"];function SHe(t,e){if(t==null)return{};var n=AHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){MHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MHe(t,e,n){return e=EHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EHe(t){var e=THe(t,"string");return typeof e=="symbol"?e:e+""}function THe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oq(t){return t&&t.map((e,n)=>me.createElement(e.tag,Fw({key:n},e.attr),oq(e.child)))}function zA(t){return e=>me.createElement(CHe,kw({attr:Fw({},t.attr)},e),oq(t.child))}function CHe(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=SHe(t,wHe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),me.createElement("svg",kw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Fw(Fw({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&me.createElement("title",null,s),t.children)};return M6!==void 0?me.createElement(M6.Consumer,null,n=>e(n)):e(sq)}function PHe(t){return zA({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M544 192h-16L419.22 56.02A64.025 64.025 0 0 0 369.24 32H155.33c-26.17 0-49.7 15.93-59.42 40.23L48 194.26C20.44 201.4 0 226.21 0 256v112c0 8.84 7.16 16 16 16h48c0 53.02 42.98 96 96 96s96-42.98 96-96h128c0 53.02 42.98 96 96 96s96-42.98 96-96h48c8.84 0 16-7.16 16-16v-80c0-53.02-42.98-96-96-96zM160 432c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48zm72-240H116.93l38.4-96H232v96zm48 0V96h89.24l76.8 96H280zm200 240c-26.47 0-48-21.53-48-48s21.53-48 48-48 48 21.53 48 48-21.53 48-48 48z"},child:[]}]})(t)}function RHe(t){return zA({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(t)}function OHe(t){return zA({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function IHe(t){return zA({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const BHe=[{title:"Total Tokens",value:"53,000 RCF",change:"+55%",icon:RHe,color:"from-[#0075FF] to-[#00A3FF]"},{title:"Active Racers",value:"2,300",change:"+5%",icon:IHe,color:"from-[#FF0080] to-[#7928CA]"},{title:"Total Races",value:"3,020",change:"-14%",icon:PHe,color:"from-[#FF8D3A] to-[#FF559A]"},{title:"Trophies",value:"173",change:"+8%",icon:OHe,color:"from-[#01B574] to-[#00F7BF]"}],DHe=()=>R.jsx("div",{className:"min-h-screen bg-[#0B1437] text-white p-6",children:R.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[R.jsx("h1",{className:"text-2xl mb-6",children:"Dashboard"}),R.jsx("div",{className:"grid grid-cols-4 gap-6",children:BHe.map((t,e)=>R.jsxs("div",{className:"bg-[#111C44] rounded-2xl p-6 flex items-center gap-4 relative overflow-hidden group hover:scale-[1.02] transition-transform duration-300",children:[R.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-br ${t.color}`,style:{mixBlendMode:"overlay"}}),R.jsx("div",{className:"text-3xl relative z-10",children:R.jsx(t.icon,{})}),R.jsxs("div",{children:[R.jsx("div",{className:"text-lg font-medium",children:t.title}),R.jsx("div",{className:"text-2xl font-bold",children:t.value}),R.jsx("div",{className:`text-sm ${t.change.startsWith("-")?"text-red-400":"text-green-400"}`,children:t.change})]})]},e))}),R.jsxs("div",{className:"rounded-2xl bg-[#111C44] p-8 flex items-center justify-between relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0075FF] to-[#00A3FF] opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),R.jsxs("div",{children:[R.jsx("div",{className:"text-lg font-semibold",children:"Welcome back,"}),R.jsx("div",{className:"text-3xl font-bold",children:"Mark Johnson"}),R.jsx("div",{className:"text-white/70 mt-2",children:"Glad to see you again! Ask me anything."}),R.jsx("div",{className:"mt-4 text-indigo-300 cursor-pointer",children:"Tab to record →"})]}),R.jsx("img",{src:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80",alt:"jellyfish",className:"rounded-2xl w-64 h-32 object-cover"})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[R.jsxs("div",{className:"bg-[#111C44] rounded-2xl p-8 flex flex-col items-center justify-center relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FF0080] to-[#7928CA] opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),R.jsx("div",{className:"text-lg font-medium mb-2",children:"Win Rate"}),R.jsxs("div",{className:"w-32 h-32 rounded-full bg-gradient-to-tr from-[#FF0080] to-[#7928CA] flex items-center justify-center mb-4 relative",children:[R.jsx("div",{className:"absolute inset-2 rounded-full bg-[#111C44]"}),R.jsx("div",{className:"text-4xl font-bold relative z-10",children:"95%"})]}),R.jsx("div",{className:"text-white/60",children:"Based on races"})]}),R.jsxs("div",{className:"bg-[#111C44] rounded-2xl p-8 flex flex-col justify-between relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FF8D3A] to-[#FF559A] opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),R.jsxs("div",{children:[R.jsx("div",{className:"text-lg font-medium mb-2",children:"Racing Stats"}),R.jsxs("div",{className:"flex justify-between mb-4",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-white/60 text-sm",children:"Best Lap"}),R.jsx("div",{className:"text-xl font-bold",children:"1:45.832"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-white/60 text-sm",children:"RCF Earned"}),R.jsx("div",{className:"text-xl font-bold",children:"1,465"})]})]})]}),R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("div",{className:"text-white/60 text-sm mb-1",children:"Driver Rating"}),R.jsx("div",{className:"text-4xl font-bold text-[#FF8D3A]",children:"9.3"}),R.jsx("div",{className:"text-white/60",children:"Overall Score"})]})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[R.jsxs("div",{className:"bg-[#111C44] rounded-2xl p-8 relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0075FF] to-[#00A3FF] opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),R.jsx("div",{className:"text-lg font-medium mb-2",children:"Race Performance"}),R.jsx("div",{className:"text-[#0075FF] text-sm mb-4",children:"(+5%) better than last month"}),R.jsx("div",{className:"h-40",children:R.jsx(Wj,{width:"100%",height:"100%",children:R.jsxs(A6,{data:[{name:"Jan",value:50},{name:"Feb",value:30},{name:"Mar",value:70},{name:"Apr",value:40},{name:"May",value:90}],children:[R.jsx(qR,{strokeDasharray:"3 3",stroke:"#1B254B"}),R.jsx(Ey,{dataKey:"name",stroke:"#fff",opacity:.5}),R.jsx(Ty,{stroke:"#fff",opacity:.5}),R.jsx(Vo,{}),R.jsx(Cp,{type:"monotone",dataKey:"value",stroke:"#0075FF",strokeWidth:2})]})})})]}),R.jsxs("div",{className:"bg-[#111C44] rounded-2xl p-8 relative overflow-hidden group hover:scale-[1.01] transition-transform duration-300",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#01B574] to-[#00F7BF] opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),R.jsx("div",{className:"text-lg font-medium mb-2",children:"Active Racers"}),R.jsx("div",{className:"text-[#01B574] text-sm mb-4",children:"(+23%) than last week"}),R.jsx("div",{className:"h-40",children:R.jsx(Wj,{width:"100%",height:"100%",children:R.jsxs(A6,{data:[{name:"Mon",value:2100},{name:"Tue",value:3200},{name:"Wed",value:2800},{name:"Thu",value:4300},{name:"Fri",value:3800},{name:"Sat",value:4100},{name:"Sun",value:4800}],children:[R.jsx(qR,{strokeDasharray:"3 3",stroke:"#1B254B"}),R.jsx(Ey,{dataKey:"name",stroke:"#fff",opacity:.5}),R.jsx(Ty,{stroke:"#fff",opacity:.5}),R.jsx(Vo,{}),R.jsx(Cp,{type:"monotone",dataKey:"value",stroke:"#01B574",strokeWidth:2})]})})}),R.jsxs("div",{className:"flex justify-between mt-4",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-white/60 text-xs",children:"Users"}),R.jsx("div",{className:"font-bold text-lg",children:"32,984"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-white/60 text-xs",children:"Clicks"}),R.jsx("div",{className:"font-bold text-lg",children:"2.42m"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-white/60 text-xs",children:"Sales"}),R.jsx("div",{className:"font-bold text-lg",children:"2,400$"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-white/60 text-xs",children:"Items"}),R.jsx("div",{className:"font-bold text-lg",children:"320"})]})]})]})]})]})}),uL=U.createContext({});function fL(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const hL=typeof window<"u",aq=hL?U.useLayoutEffect:U.useEffect,HA=U.createContext(null),dL=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class LHe extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NHe({children:t,isPresent:e,anchorX:n}){const r=U.useId(),i=U.useRef(null),s=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=U.useContext(dL);return U.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:f}=s.current;if(e||!i.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;i.current.dataset.motionPopId=r;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[e]),R.jsx(LHe,{isPresent:e,childRef:i,sizeRef:s,children:U.cloneElement(t,{ref:i})})}const kHe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=fL(FHe),c=U.useId();let u=!0,f=U.useMemo(()=>(u=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return s&&u&&(f={...f}),U.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[n]),U.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=R.jsx(NHe,{isPresent:n,anchorX:a,children:t})),R.jsx(HA.Provider,{value:f,children:t})};function FHe(){return new Map}function lq(t=!0){const e=U.useContext(HA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=U.useId();U.useEffect(()=>{if(t)return i(s)},[t]);const o=U.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const u_=t=>t.key||"";function T6(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const UHe=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=lq(o),u=U.useMemo(()=>T6(t),[t]),f=o&&!l?[]:u.map(u_),h=U.useRef(!0),d=U.useRef(u),m=fL(()=>new Map),[x,y]=U.useState(u),[v,b]=U.useState(u);aq(()=>{h.current=!1,d.current=u;for(let w=0;w<v.length;w++){const A=u_(v[w]);f.includes(A)?m.delete(A):m.get(A)!==!0&&m.set(A,!1)}},[v,f.length,f.join("-")]);const _=[];if(u!==x){let w=[...u];for(let A=0;A<v.length;A++){const E=v[A],C=u_(E);f.includes(C)||(w.splice(A,0,E),_.push(E))}return s==="wait"&&_.length&&(w=_),b(T6(w)),y(u),null}const{forceRender:M}=U.useContext(uL);return R.jsx(R.Fragment,{children:v.map(w=>{const A=u_(w),E=o&&!l?!1:u===v||f.includes(A),C=()=>{if(m.has(A))m.set(A,!0);else return;let L=!0;m.forEach(P=>{P||(L=!1)}),L&&(M==null||M(),b(d.current),o&&(c==null||c()),r&&r())};return R.jsx(kHe,{isPresent:E,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:E?void 0:C,anchorX:a,children:w},A)})})};function pL(t,e){t.indexOf(e)===-1&&t.push(e)}function mL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Dl=(t,e,n)=>n>e?e:n<t?t:n;let gL=()=>{};const Ll={},cq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uq=t=>/^0[^.\s]+$/u.test(t);function vL(t){let e;return()=>(e===void 0&&(e=t()),e)}const _o=t=>t,jHe=(t,e)=>n=>e(t(n)),S0=(...t)=>t.reduce(jHe),Ry=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class yL{constructor(){this.subscriptions=[]}add(e){return pL(this.subscriptions,e),()=>mL(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ka=t=>t*1e3,Fa=t=>t/1e3;function fq(t,e){return e?t*(1e3/e):0}const hq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zHe=1e-7,HHe=12;function GHe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=hq(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>zHe&&++a<HHe);return o}function A0(t,e,n,r){if(t===e&&n===r)return _o;const i=s=>GHe(s,0,1,t,n);return s=>s===0||s===1?s:hq(i(s),e,r)}const dq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pq=t=>e=>1-t(1-e),mq=A0(.33,1.53,.69,.99),xL=pq(mq),gq=dq(xL),vq=t=>(t*=2)<1?.5*xL(t):.5*(2-Math.pow(2,-10*(t-1))),bL=t=>1-Math.sin(Math.acos(t)),yq=pq(bL),xq=dq(bL),VHe=A0(.42,0,1,1),WHe=A0(0,0,.58,1),bq=A0(.42,0,.58,1),$He=t=>Array.isArray(t)&&typeof t[0]!="number",_q=t=>Array.isArray(t)&&typeof t[0]=="number",XHe={linear:_o,easeIn:VHe,easeInOut:bq,easeOut:WHe,circIn:bL,circInOut:xq,circOut:yq,backIn:xL,backInOut:gq,backOut:mq,anticipate:vq},KHe=t=>typeof t=="string",C6=t=>{if(_q(t)){gL(t.length===4);const[e,n,r,i]=t;return A0(e,n,r,i)}else if(KHe(t))return XHe[t];return t},f_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],P6={value:null};function YHe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),t()),l++,f(a)}const u={schedule:(f,h=!1,d=!1)=>{const x=d&&i?n:r;return h&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&P6.value&&P6.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const JHe=40;function wq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=f_.reduce((_,M)=>(_[M]=YHe(s,e?M:void 0),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:m}=o,x=()=>{const _=Ll.useManualTiming?i.timestamp:performance.now();n=!1,Ll.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,JHe),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),d.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},y=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:f_.reduce((_,M)=>{const w=o[M];return _[M]=(A,E=!1,C=!1)=>(n||y(),w.schedule(A,E,C)),_},{}),cancel:_=>{for(let M=0;M<f_.length;M++)o[f_[M]].cancel(_)},state:i,steps:o}}const{schedule:pr,cancel:qc,state:di,steps:hC}=wq(typeof requestAnimationFrame<"u"?requestAnimationFrame:_o,!0);let G_;function qHe(){G_=void 0}const ds={now:()=>(G_===void 0&&ds.set(di.isProcessing||Ll.useManualTiming?di.timestamp:performance.now()),G_),set:t=>{G_=t,queueMicrotask(qHe)}},Sq=t=>e=>typeof e=="string"&&e.startsWith(t),_L=Sq("--"),ZHe=Sq("var(--"),wL=t=>ZHe(t)?QHe.test(t.split("/*")[0].trim()):!1,QHe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oy={...sm,transform:t=>Dl(0,1,t)},h_={...sm,default:1},ev=t=>Math.round(t*1e5)/1e5,SL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e6e(t){return t==null}const t6e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AL=(t,e)=>n=>!!(typeof n=="string"&&t6e.test(n)&&n.startsWith(t)||e&&!e6e(n)&&Object.prototype.hasOwnProperty.call(n,e)),Aq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(SL);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},n6e=t=>Dl(0,255,t),dC={...sm,transform:t=>Math.round(n6e(t))},yf={test:AL("rgb","red"),parse:Aq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dC.transform(t)+", "+dC.transform(e)+", "+dC.transform(n)+", "+ev(Oy.transform(r))+")"};function r6e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cO={test:AL("#"),parse:r6e,transform:yf.transform},M0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cc=M0("deg"),Ua=M0("%"),Gt=M0("px"),i6e=M0("vh"),s6e=M0("vw"),R6={...Ua,parse:t=>Ua.parse(t)/100,transform:t=>Ua.transform(t*100)},Md={test:AL("hsl","hue"),parse:Aq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ua.transform(ev(e))+", "+Ua.transform(ev(n))+", "+ev(Oy.transform(r))+")"},Ii={test:t=>yf.test(t)||cO.test(t)||Md.test(t),parse:t=>yf.test(t)?yf.parse(t):Md.test(t)?Md.parse(t):cO.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yf.transform(t):Md.transform(t)},o6e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a6e(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(SL))==null?void 0:e.length)||0)+(((n=t.match(o6e))==null?void 0:n.length)||0)>0}const Mq="number",Eq="color",l6e="var",c6e="var(",O6="${}",u6e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iy(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(u6e,l=>(Ii.test(l)?(r.color.push(s),i.push(Eq),n.push(Ii.parse(l))):l.startsWith(c6e)?(r.var.push(s),i.push(l6e),n.push(l)):(r.number.push(s),i.push(Mq),n.push(parseFloat(l))),++s,O6)).split(O6);return{values:n,split:a,indexes:r,types:i}}function Tq(t){return Iy(t).values}function Cq(t){const{split:e,types:n}=Iy(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Mq?s+=ev(i[o]):a===Eq?s+=Ii.transform(i[o]):s+=i[o]}return s}}const f6e=t=>typeof t=="number"?0:t;function h6e(t){const e=Tq(t);return Cq(t)(e.map(f6e))}const Zc={test:a6e,parse:Tq,createTransformer:Cq,getAnimatableNone:h6e};function pC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d6e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=pC(l,a,t+1/3),s=pC(l,a,t),o=pC(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Uw(t,e){return n=>n>0?e:t}const hr=(t,e,n)=>t+(e-t)*n,mC=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},p6e=[cO,yf,Md],m6e=t=>p6e.find(e=>e.test(t));function I6(t){const e=m6e(t);if(!e)return!1;let n=e.parse(t);return e===Md&&(n=d6e(n)),n}const B6=(t,e)=>{const n=I6(t),r=I6(e);if(!n||!r)return Uw(t,e);const i={...n};return s=>(i.red=mC(n.red,r.red,s),i.green=mC(n.green,r.green,s),i.blue=mC(n.blue,r.blue,s),i.alpha=hr(n.alpha,r.alpha,s),yf.transform(i))},uO=new Set(["none","hidden"]);function g6e(t,e){return uO.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function v6e(t,e){return n=>hr(t,e,n)}function ML(t){return typeof t=="number"?v6e:typeof t=="string"?wL(t)?Uw:Ii.test(t)?B6:b6e:Array.isArray(t)?Pq:typeof t=="object"?Ii.test(t)?B6:y6e:Uw}function Pq(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>ML(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function y6e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ML(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function x6e(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const b6e=(t,e)=>{const n=Zc.createTransformer(e),r=Iy(t),i=Iy(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uO.has(t)&&!i.values.length||uO.has(e)&&!r.values.length?g6e(t,e):S0(Pq(x6e(r,i),i.values),n):Uw(t,e)};function Rq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?hr(t,e,n):ML(t)(t,e)}const _6e=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pr.update(e,n),stop:()=>qc(e),now:()=>di.isProcessing?di.timestamp:ds.now()}},Oq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},jw=2e4;function EL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jw;)e+=n,r=t.next(e);return e>=jw?1/0:e}function w6e(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(EL(r),jw);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Fa(i)}}const S6e=5;function Iq(t,e,n){const r=Math.max(e-S6e,0);return fq(n-t(r),e-r)}const xr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},D6=.001;function A6e({duration:t=xr.duration,bounce:e=xr.bounce,velocity:n=xr.velocity,mass:r=xr.mass}){let i,s,o=1-e;o=Dl(xr.minDamping,xr.maxDamping,o),t=Dl(xr.minDuration,xr.maxDuration,Fa(t)),o<1?(i=c=>{const u=c*o,f=u*t,h=u-n,d=fO(c,o),m=Math.exp(-f);return D6-h/d*m},s=c=>{const f=c*o*t,h=f*n+n,d=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-f),x=fO(Math.pow(c,2),o);return(-i(c)+D6>0?-1:1)*((h-d)*m)/x}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-.001+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=E6e(i,s,a);if(t=ka(t),isNaN(l))return{stiffness:xr.stiffness,damping:xr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const M6e=12;function E6e(t,e,n){let r=n;for(let i=1;i<M6e;i++)r=r-t(r)/e(r);return r}function fO(t,e){return t*Math.sqrt(1-e*e)}const T6e=["duration","bounce"],C6e=["stiffness","damping","mass"];function L6(t,e){return e.some(n=>t[n]!==void 0)}function P6e(t){let e={velocity:xr.velocity,stiffness:xr.stiffness,damping:xr.damping,mass:xr.mass,isResolvedFromDuration:!1,...t};if(!L6(t,C6e)&&L6(t,T6e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Dl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:xr.mass,stiffness:i,damping:s}}else{const n=A6e(t);e={...e,...n,mass:xr.mass},e.isResolvedFromDuration=!0}return e}function zw(t=xr.visualDuration,e=xr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=P6e({...n,velocity:-Fa(n.velocity||0)}),m=h||0,x=c/(2*Math.sqrt(l*u)),y=o-s,v=Fa(Math.sqrt(l/u)),b=Math.abs(y)<5;r||(r=b?xr.restSpeed.granular:xr.restSpeed.default),i||(i=b?xr.restDelta.granular:xr.restDelta.default);let _;if(x<1){const w=fO(v,x);_=A=>{const E=Math.exp(-x*v*A);return o-E*((m+x*v*y)/w*Math.sin(w*A)+y*Math.cos(w*A))}}else if(x===1)_=w=>o-Math.exp(-v*w)*(y+(m+v*y)*w);else{const w=v*Math.sqrt(x*x-1);_=A=>{const E=Math.exp(-x*v*A),C=Math.min(w*A,300);return o-E*((m+x*v*y)*Math.sinh(C)+w*y*Math.cosh(C))/w}}const M={calculatedDuration:d&&f||null,next:w=>{const A=_(w);if(d)a.done=w>=f;else{let E=w===0?m:0;x<1&&(E=w===0?ka(m):Iq(_,w,A));const C=Math.abs(E)<=r,L=Math.abs(o-A)<=i;a.done=C&&L}return a.value=a.done?o:A,a},toString:()=>{const w=Math.min(EL(M),jw),A=Oq(E=>M.next(w*E).value,w,30);return w+"ms "+A},toTransition:()=>{}};return M}zw.applyToOptions=t=>{const e=w6e(t,100,zw);return t.ease=e.ease,t.duration=ka(e.duration),t.type="keyframes",t};function hO({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},d=C=>a!==void 0&&C<a||l!==void 0&&C>l,m=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let x=n*e;const y=f+x,v=o===void 0?y:o(y);v!==y&&(x=v-f);const b=C=>-x*Math.exp(-C/r),_=C=>v+b(C),M=C=>{const L=b(C),P=_(C);h.done=Math.abs(L)<=c,h.value=h.done?v:P};let w,A;const E=C=>{d(h.value)&&(w=C,A=zw({keyframes:[h.value,m(h.value)],velocity:Iq(_,C,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:C=>{let L=!1;return!A&&w===void 0&&(L=!0,M(C),E(C)),w!==void 0&&C>=w?A.next(C-w):(!L&&M(C),h)}}}function R6e(t,e,n){const r=[],i=n||Ll.mix||Rq,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||_o:e;a=S0(l,a)}r.push(a)}return r}function O6e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(gL(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=R6e(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=Ry(t[f],t[f+1],u);return a[f](h)};return n?u=>c(Dl(t[0],t[s-1],u)):c}function I6e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ry(0,e,r);t.push(hr(n,1,i))}}function B6e(t){const e=[0];return I6e(e,t.length-1),e}function D6e(t,e){return t.map(n=>n*e)}function L6e(t,e){return t.map(()=>e||bq).splice(0,t.length-1)}function tv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$He(r)?r.map(C6):C6(r),s={done:!1,value:e[0]},o=D6e(n&&n.length===e.length?n:B6e(e),t),a=O6e(o,e,{ease:Array.isArray(i)?i:L6e(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const N6e=t=>t!==null;function TL(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(N6e),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const k6e={decay:hO,inertia:hO,tween:tv,keyframes:tv,spring:zw};function Bq(t){typeof t.type=="string"&&(t.type=k6e[t.type])}class CL{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const F6e=t=>t/100;class PL extends CL{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==ds.now()&&this.tick(ds.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Bq(e);const{type:n=tv,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||tv;l!==tv&&typeof a[0]!="number"&&(this.mixKeyframes=S0(F6e,Rq(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=EL(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:m,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,M=r;if(f){const C=Math.min(this.currentTime,i)/a;let L=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&L--,L=Math.min(L,f+1),!!(L%2)&&(h==="reverse"?(P=1-P,d&&(P-=d/a)):h==="mirror"&&(M=o)),_=Dl(0,1,P)*a}const w=b?{done:!1,value:u[0]}:M.next(_);s&&(w.value=s(w.value));let{done:A}=w;!b&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&m!==hO&&(w.value=TL(u,this.options,y,this.speed)),x&&x(w.value),E&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return Fa(this.calculatedDuration)}get time(){return Fa(this.currentTime)}set time(e){var n;e=ka(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ds.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fa(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=_6e,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function U6e(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xf=t=>t*180/Math.PI,dO=t=>{const e=xf(Math.atan2(t[1],t[0]));return pO(e)},j6e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:dO,rotateZ:dO,skewX:t=>xf(Math.atan(t[1])),skewY:t=>xf(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},pO=t=>(t=t%360,t<0&&(t+=360),t),N6=dO,k6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),z6e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k6,scaleY:F6,scale:t=>(k6(t)+F6(t))/2,rotateX:t=>pO(xf(Math.atan2(t[6],t[5]))),rotateY:t=>pO(xf(Math.atan2(-t[2],t[0]))),rotateZ:N6,rotate:N6,skewX:t=>xf(Math.atan(t[4])),skewY:t=>xf(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function U6(t){return t.includes("scale")?1:0}function mO(t,e){if(!t||t==="none")return U6(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=z6e,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=j6e,i=a}if(!i)return U6(e);const s=r[e],o=i[1].split(",").map(G6e);return typeof s=="function"?s(o):o[s]}const H6e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return mO(n,e)};function G6e(t){return parseFloat(t.trim())}const om=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],am=new Set(om),j6=t=>t===sm||t===Gt,V6e=new Set(["x","y","z"]),W6e=om.filter(t=>!V6e.has(t));function $6e(t){const e=[];return W6e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const If={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>mO(e,"x"),y:(t,{transform:e})=>mO(e,"y")};If.translateX=If.x;If.translateY=If.y;const Bf=new Set;let gO=!1,vO=!1,yO=!1;function Dq(){if(vO){const t=Array.from(Bf).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$6e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vO=!1,gO=!1,Bf.forEach(t=>t.complete(yO)),Bf.clear()}function Lq(){Bf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vO=!0)})}function X6e(){yO=!0,Lq(),Dq(),yO=!1}class RL{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Bf.add(this),gO||(gO=!0,pr.read(Lq),pr.resolveKeyframes(Dq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}U6e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bf.delete(this)}cancel(){this.state==="scheduled"&&(Bf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K6e=t=>t.startsWith("--");function Y6e(t,e,n){K6e(e)?t.style.setProperty(e,n):t.style[e]=n}const J6e=vL(()=>window.ScrollTimeline!==void 0),q6e={};function Z6e(t,e){const n=vL(t);return()=>q6e[e]??n()}const Nq=Z6e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,z6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cg([0,.65,.55,1]),circOut:Cg([.55,0,1,.45]),backIn:Cg([.31,.01,.66,-.59]),backOut:Cg([.33,1.53,.69,.99])};function kq(t,e){if(t)return typeof t=="function"?Nq()?Oq(t,e):"ease-out":_q(t)?Cg(t):Array.isArray(t)?t.map(n=>kq(n,e)||z6.easeOut):z6[t]}function Q6e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const f=kq(a,i);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function Fq(t){return typeof t=="function"&&"applyToOptions"in t}function eGe({type:t,...e}){return Fq(t)&&Nq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tGe extends CL{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,gL(typeof e.type!="string");const c=eGe(e);this.animation=Q6e(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=TL(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Y6e(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Fa(Number(e))}get time(){return Fa(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ka(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&J6e()?(this.animation.timeline=e,_o):n(this)}}const Uq={anticipate:vq,backInOut:gq,circInOut:xq};function nGe(t){return t in Uq}function rGe(t){typeof t.ease=="string"&&nGe(t.ease)&&(t.ease=Uq[t.ease])}const H6=10;class iGe extends tGe{constructor(e){rGe(e),Bq(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new PL({...o,autoplay:!1}),l=ka(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-H6).value,a.sample(l).value,H6),a.stop()}}const G6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zc.test(t)||t==="0")&&!t.startsWith("url("));function sGe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function oGe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=G6(i,e),a=G6(s,e);return!o||!a?!1:sGe(t)||(n==="spring"||Fq(n))&&r}const aGe=new Set(["opacity","clipPath","filter","transform"]),lGe=vL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cGe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return lGe()&&n&&aGe.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const uGe=40;class fGe extends CL{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=ds.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||RL;this.keyframeResolver=new d(a,(x,y,v)=>this.onKeyframesResolved(x,y,h,!v),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=ds.now(),oGe(e,s,o,a)||((Ll.instantAnimations||!l)&&(u==null||u(TL(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>uGe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},d=!c&&cGe(h)?new iGe({...h,element:h.motionValue.owner.current}):new PL(h);d.finished.then(()=>this.notifyFinished()).catch(_o),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),X6e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hGe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dGe(t){const e=hGe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jq(t,e,n=1){const[r,i]=dGe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return cq(o)?parseFloat(o):o}return wL(i)?jq(i,e,n+1):i}function OL(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const zq=new Set(["width","height","top","left","right","bottom",...om]),pGe={test:t=>t==="auto",parse:t=>t},Hq=t=>e=>e.test(t),Gq=[sm,Gt,Ua,cc,s6e,i6e,pGe],V6=t=>Gq.find(Hq(t));function mGe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uq(t):!0}const gGe=new Set(["brightness","contrast","saturate","opacity"]);function vGe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(SL)||[];if(!r)return t;const i=n.replace(r,"");let s=gGe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const yGe=/\b([a-z-]*)\(.*?\)/gu,xO={...Zc,getAnimatableNone:t=>{const e=t.match(yGe);return e?e.map(vGe).join(" "):t}},W6={...sm,transform:Math.round},xGe={rotate:cc,rotateX:cc,rotateY:cc,rotateZ:cc,scale:h_,scaleX:h_,scaleY:h_,scaleZ:h_,skew:cc,skewX:cc,skewY:cc,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:Oy,originX:R6,originY:R6,originZ:Gt},IL={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...xGe,zIndex:W6,fillOpacity:Oy,strokeOpacity:Oy,numOctaves:W6},bGe={...IL,color:Ii,backgroundColor:Ii,outlineColor:Ii,fill:Ii,stroke:Ii,borderColor:Ii,borderTopColor:Ii,borderRightColor:Ii,borderBottomColor:Ii,borderLeftColor:Ii,filter:xO,WebkitFilter:xO},Vq=t=>bGe[t];function Wq(t,e){let n=Vq(t);return n!==xO&&(n=Zc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _Ge=new Set(["auto","none","0"]);function wGe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!_Ge.has(s)&&Iy(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Wq(n,i)}class SGe extends RL{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),wL(c))){const u=jq(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!zq.has(r)||e.length!==2)return;const[i,s]=e,o=V6(i),a=V6(s);if(o!==a)if(j6(o)&&j6(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else If[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||mGe(e[i]))&&r.push(i);r.length&&wGe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=If[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=If[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function AGe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const $6=30,MGe=t=>!isNaN(parseFloat(t));class EGe{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=ds.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MGe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yL);const r=this.events[e].add(n);return e==="change"?()=>{r(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$6);return fq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bp(t,e){return new EGe(t,e)}const $q=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:BL}=wq(queueMicrotask,!1),Fo={x:!1,y:!1};function Xq(){return Fo.x||Fo.y}function TGe(t){return t==="x"||t==="y"?Fo[t]?null:(Fo[t]=!0,()=>{Fo[t]=!1}):Fo.x||Fo.y?null:(Fo.x=Fo.y=!0,()=>{Fo.x=Fo.y=!1})}function Kq(t,e){const n=AGe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function X6(t){return!(t.pointerType==="touch"||Xq())}function CGe(t,e,n={}){const[r,i,s]=Kq(t,n),o=a=>{if(!X6(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=f=>{X6(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Yq=(t,e)=>e?t===e?!0:Yq(t,e.parentElement):!1,DL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PGe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RGe(t){return PGe.has(t.tagName)||t.tabIndex!==-1}const V_=new WeakSet;function K6(t){return e=>{e.key==="Enter"&&t(e)}}function gC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OGe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=K6(()=>{if(V_.has(n))return;gC(n,"down");const i=K6(()=>{gC(n,"up")}),s=()=>gC(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Y6(t){return DL(t)&&!Xq()}function IGe(t,e,n={}){const[r,i,s]=Kq(t,n),o=a=>{const l=a.currentTarget;if(!Y6(a))return;V_.add(l);const c=e(l,a),u=(d,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),V_.has(l)&&V_.delete(l),Y6(d)&&typeof c=="function"&&c(d,{success:m})},f=d=>{u(d,l===window||l===document||n.useGlobalTarget||Yq(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a instanceof HTMLElement&&(a.addEventListener("focus",c=>OGe(c,i)),!RGe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const BGe=[...Gq,Ii,Zc],DGe=t=>BGe.find(Hq(t)),Jq=U.createContext({strict:!1}),J6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dp={};for(const t in J6)Dp[t]={isEnabled:e=>J6[t].some(n=>!!e[n])};function LGe(t){for(const e in t)Dp[e]={...Dp[e],...t[e]}}const NGe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NGe.has(t)}let qq=t=>!Hw(t);function kGe(t){t&&(qq=e=>e.startsWith("on")?!Hw(e):t(e))}try{kGe(require("@emotion/is-prop-valid").default)}catch{}function FGe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(qq(i)||n===!0&&Hw(i)||!e&&!Hw(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function UGe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const GA=U.createContext({});function VA(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function By(t){return typeof t=="string"||Array.isArray(t)}const LL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NL=["initial",...LL];function WA(t){return VA(t.animate)||NL.some(e=>By(t[e]))}function Zq(t){return!!(WA(t)||t.variants)}function jGe(t,e){if(WA(t)){const{initial:n,animate:r}=t;return{initial:n===!1||By(n)?n:void 0,animate:By(r)?r:void 0}}return t.inherit!==!1?e:{}}function zGe(t){const{initial:e,animate:n}=jGe(t,U.useContext(GA));return U.useMemo(()=>({initial:e,animate:n}),[q6(e),q6(n)])}function q6(t){return Array.isArray(t)?t.join(" "):t}const HGe=Symbol.for("motionComponentSymbol");function Ed(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GGe(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ed(n)&&(n.current=r))},[e])}const kL=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VGe="framerAppearId",Qq="data-"+kL(VGe),eZ=U.createContext({});function WGe(t,e,n,r,i){var x,y;const{visualElement:s}=U.useContext(GA),o=U.useContext(Jq),a=U.useContext(HA),l=U.useContext(dL).reducedMotion,c=U.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=U.useContext(eZ);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&$Ge(c.current,n,i,f);const h=U.useRef(!1);U.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const d=n[Qq],m=U.useRef(!!d&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,d))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,d)));return aq(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),BL.render(u.render),m.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,d)}),m.current=!1))}),u}function $Ge(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tZ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ed(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function tZ(t){if(t)return t.options.allowProjection!==!1?t.projection:tZ(t.parent)}function XGe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&LGe(t);function s(a,l){let c;const u={...U.useContext(dL),...a,layoutId:KGe(a)},{isStatic:f}=u,h=zGe(a),d=r(a,f);if(!f&&hL){YGe();const m=JGe(u);c=m.MeasureLayout,h.visualElement=WGe(i,d,u,e,m.ProjectionNode)}return R.jsxs(GA.Provider,{value:h,children:[c&&h.visualElement?R.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,GGe(d,h.visualElement,l),d,f,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=U.forwardRef(s);return o[HGe]=i,o}function KGe({layoutId:t}){const e=U.useContext(uL).id;return e&&t!==void 0?e+"-"+t:t}function YGe(t,e){U.useContext(Jq).strict}function JGe(t){const{drag:e,layout:n}=Dp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Dy={};function qGe(t){for(const e in t)Dy[e]=t[e],_L(e)&&(Dy[e].isCSSVariable=!0)}function nZ(t,{layout:e,layoutId:n}){return am.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dy[t]||t==="opacity")}const Fi=t=>!!(t&&t.getVelocity),ZGe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QGe=om.length;function e8e(t,e,n){let r="",i=!0;for(let s=0;s<QGe;s++){const o=om[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=$q(a,IL[o]);if(!l){i=!1;const u=ZGe[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function FL(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(am.has(l)){o=!0;continue}else if(_L(l)){i[l]=c;continue}else{const u=$q(c,IL[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=e8e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const UL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rZ(t,e,n){for(const r in e)!Fi(e[r])&&!nZ(r,n)&&(t[r]=e[r])}function t8e({transformTemplate:t},e){return U.useMemo(()=>{const n=UL();return FL(n,e,t),Object.assign({},n.vars,n.style)},[e])}function n8e(t,e){const n=t.style||{},r={};return rZ(r,n,t),Object.assign(r,t8e(t,e)),r}function r8e(t,e){const n={},r=n8e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const i8e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jL(t){return typeof t!="string"||t.includes("-")?!1:!!(i8e.indexOf(t)>-1||/[A-Z]/u.test(t))}const s8e={offset:"stroke-dashoffset",array:"stroke-dasharray"},o8e={offset:"strokeDashoffset",array:"strokeDasharray"};function a8e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?s8e:o8e;t[s.offset]=Gt.transform(-r);const o=Gt.transform(e),a=Gt.transform(n);t[s.array]=`${o} ${a}`}function iZ(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(FL(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&a8e(f,i,s,o,!1)}const sZ=()=>({...UL(),attrs:{}}),oZ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function l8e(t,e,n,r){const i=U.useMemo(()=>{const s=sZ();return iZ(s,e,oZ(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};rZ(s,t.style,t),i.style={...s,...i.style}}return i}function c8e(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(jL(n)?l8e:r8e)(r,s,o,n),c=FGe(r,typeof n=="string",t),u=n!==U.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=U.useMemo(()=>Fi(f)?f.get():f,[f]);return U.createElement(n,{...u,children:h})}}function Z6(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zL(t,e,n,r){if(typeof e=="function"){const[i,s]=Z6(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Z6(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function W_(t){return Fi(t)?t.get():t}function u8e({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:f8e(n,r,i,t),renderState:e()}}const aZ=t=>(e,n)=>{const r=U.useContext(GA),i=U.useContext(HA),s=()=>u8e(t,e,r,i);return n?s():fL(s)};function f8e(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=W_(s[h]);let{initial:o,animate:a}=t;const l=WA(t),c=Zq(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!VA(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const m=zL(t,h[d]);if(m){const{transitionEnd:x,transition:y,...v}=m;for(const b in v){let _=v[b];if(Array.isArray(_)){const M=u?_.length-1:0;_=_[M]}_!==null&&(i[b]=_)}for(const b in x)i[b]=x[b]}}}return i}function HL(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Fi(r[o])||e.style&&Fi(e.style[o])||nZ(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const h8e={useVisualState:aZ({scrapeMotionValuesFromProps:HL,createRenderState:UL})};function lZ(t,e,n){const r=HL(t,e,n);for(const i in t)if(Fi(t[i])||Fi(e[i])){const s=om.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const d8e={useVisualState:aZ({scrapeMotionValuesFromProps:lZ,createRenderState:sZ})};function p8e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...jL(r)?d8e:h8e,preloadedFeatures:t,useRender:c8e(i),createVisualElement:e,Component:r};return XGe(o)}}function Ly(t,e,n){const r=t.getProps();return zL(r,e,n!==void 0?n:r.custom,t)}const bO=t=>Array.isArray(t);function m8e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bp(n))}function g8e(t){return bO(t)?t[t.length-1]||0:t}function v8e(t,e){const n=Ly(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=g8e(s[o]);m8e(t,o,a)}}function y8e(t){return!!(Fi(t)&&t.add)}function _O(t,e){const n=t.getValue("willChange");if(y8e(n))return n.add(e);if(!n&&Ll.WillChange){const r=new Ll.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cZ(t){return t.props[Qq]}const x8e=t=>t!==null;function b8e(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(x8e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const _8e={type:"spring",stiffness:500,damping:25,restSpeed:10},w8e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),S8e={type:"keyframes",duration:.8},A8e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M8e=(t,{keyframes:e})=>e.length>2?S8e:am.has(t)?t.startsWith("scale")?w8e(e[1]):_8e:A8e;function E8e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const GL=(t,e,n,r={},i,s)=>o=>{const a=OL(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ka(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};E8e(a)||Object.assign(u,M8e(t,u)),u.duration&&(u.duration=ka(u.duration)),u.repeatDelay&&(u.repeatDelay=ka(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Ll.instantAnimations||Ll.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const h=b8e(u.keyframes,a);if(h!==void 0){pr.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new PL(u):new fGe(u)};function T8e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uZ(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const f=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&T8e(c,u))continue;const d={delay:n,...OL(s||{},u)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!d.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=cZ(t);if(v){const b=window.MotionHandoffAnimation(v,u,pr);b!==null&&(d.startTime=b,x=!0)}}_O(t,u),f.start(GL(u,f,h,t.shouldReduceMotion&&zq.has(u)?{type:!1}:d,t,x));const y=f.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{pr.update(()=>{o&&v8e(t,o)})}),l}function wO(t,e,n={}){var l;const r=Ly(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(uZ(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return C8e(t,e,u+c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function C8e(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(P8e).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(wO(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function P8e(t,e){return t.sortNodePosition(e)}function R8e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wO(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wO(t,e,n);else{const i=typeof e=="function"?Ly(t,e,n.custom):e;r=Promise.all(uZ(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function fZ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const O8e=NL.length;function hZ(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hZ(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<O8e;n++){const r=NL[n],i=t.props[r];(By(i)||i===!1)&&(e[r]=i)}return e}const I8e=[...LL].reverse(),B8e=LL.length;function D8e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>R8e(t,n,r)))}function L8e(t){let e=D8e(t),n=Q6(),r=!0;const i=l=>(c,u)=>{var h;const f=Ly(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:m,...x}=f;c={...c,...x,...m}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=hZ(t.parent)||{},f=[],h=new Set;let d={},m=1/0;for(let y=0;y<B8e;y++){const v=I8e[y],b=n[v],_=c[v]!==void 0?c[v]:u[v],M=By(_),w=v===l?b.isActive:null;w===!1&&(m=y);let A=_===u[v]&&_!==c[v]&&M;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...d},!b.isActive&&w===null||!_&&!b.prevProp||VA(_)||typeof _=="boolean")continue;const E=N8e(b.prevProp,_);let C=E||v===l&&b.isActive&&!A&&M||y>m&&M,L=!1;const P=Array.isArray(_)?_:[_];let B=P.reduce(i(v),{});w===!1&&(B={});const{prevResolvedValues:H={}}=b,q={...H,...B},z=ie=>{C=!0,h.has(ie)&&(L=!0,h.delete(ie)),b.needsAnimating[ie]=!0;const G=t.getValue(ie);G&&(G.liveStyle=!1)};for(const ie in q){const G=B[ie],J=H[ie];if(d.hasOwnProperty(ie))continue;let te=!1;bO(G)&&bO(J)?te=!fZ(G,J):te=G!==J,te?G!=null?z(ie):h.add(ie):G!==void 0&&h.has(ie)?z(ie):b.protectedKeys[ie]=!0}b.prevProp=_,b.prevResolvedValues=B,b.isActive&&(d={...d,...B}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(A&&E)||L)&&f.push(...P.map(ie=>({animation:ie,options:{type:v}})))}if(h.size){const y={};if(typeof c.initial!="boolean"){const v=Ly(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const b=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),y[v]=b??null}),f.push({animation:y})}let x=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Q6(),r=!0}}}function N8e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fZ(e,t):!1}function ku(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q6(){return{animate:ku(!0),whileInView:ku(),whileHover:ku(),whileTap:ku(),whileDrag:ku(),whileFocus:ku(),exit:ku()}}class hu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k8e extends hu{constructor(e){super(e),e.animationState||(e.animationState=L8e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();VA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let F8e=0;class U8e extends hu{constructor(){super(...arguments),this.id=F8e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const j8e={animation:{Feature:k8e},exit:{Feature:U8e}};function Ny(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function E0(t){return{point:{x:t.pageX,y:t.pageY}}}const z8e=t=>e=>DL(e)&&t(e,E0(e));function nv(t,e,n,r){return Ny(t,e,z8e(n),r)}function dZ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function H8e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function G8e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const pZ=1e-4,V8e=1-pZ,W8e=1+pZ,mZ=.01,$8e=0-mZ,X8e=0+mZ;function qi(t){return t.max-t.min}function K8e(t,e,n){return Math.abs(t-e)<=n}function eG(t,e,n,r=.5){t.origin=r,t.originPoint=hr(e.min,e.max,t.origin),t.scale=qi(n)/qi(e),t.translate=hr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=V8e&&t.scale<=W8e||isNaN(t.scale))&&(t.scale=1),(t.translate>=$8e&&t.translate<=X8e||isNaN(t.translate))&&(t.translate=0)}function rv(t,e,n,r){eG(t.x,e.x,n.x,r?r.originX:void 0),eG(t.y,e.y,n.y,r?r.originY:void 0)}function tG(t,e,n){t.min=n.min+e.min,t.max=t.min+qi(e)}function Y8e(t,e,n){tG(t.x,e.x,n.x),tG(t.y,e.y,n.y)}function nG(t,e,n){t.min=e.min-n.min,t.max=t.min+qi(e)}function iv(t,e,n){nG(t.x,e.x,n.x),nG(t.y,e.y,n.y)}const rG=()=>({translate:0,scale:1,origin:0,originPoint:0}),Td=()=>({x:rG(),y:rG()}),iG=()=>({min:0,max:0}),Er=()=>({x:iG(),y:iG()});function so(t){return[t("x"),t("y")]}function vC(t){return t===void 0||t===1}function SO({scale:t,scaleX:e,scaleY:n}){return!vC(t)||!vC(e)||!vC(n)}function Yu(t){return SO(t)||gZ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gZ(t){return sG(t.x)||sG(t.y)}function sG(t){return t&&t!=="0%"}function Gw(t,e,n){const r=t-n,i=e*r;return n+i}function oG(t,e,n,r,i){return i!==void 0&&(t=Gw(t,i,r)),Gw(t,n,r)+e}function AO(t,e=0,n=1,r,i){t.min=oG(t.min,e,n,r,i),t.max=oG(t.max,e,n,r,i)}function vZ(t,{x:e,y:n}){AO(t.x,e.translate,e.scale,e.originPoint),AO(t.y,n.translate,n.scale,n.originPoint)}const aG=.999999999999,lG=1.0000000000001;function J8e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,vZ(t,o)),r&&Yu(s.latestValues)&&Pd(t,s.latestValues))}e.x<lG&&e.x>aG&&(e.x=1),e.y<lG&&e.y>aG&&(e.y=1)}function Cd(t,e){t.min=t.min+e,t.max=t.max+e}function cG(t,e,n,r,i=.5){const s=hr(t.min,t.max,i);AO(t,e,n,s,r)}function Pd(t,e){cG(t.x,e.x,e.scaleX,e.scale,e.originX),cG(t.y,e.y,e.scaleY,e.scale,e.originY)}function yZ(t,e){return dZ(G8e(t.getBoundingClientRect(),e))}function q8e(t,e,n){const r=yZ(t,n),{scroll:i}=e;return i&&(Cd(r.x,i.offset.x),Cd(r.y,i.offset.y)),r}const xZ=({current:t})=>t?t.ownerDocument.defaultView:null,uG=(t,e)=>Math.abs(t-e);function Z8e(t,e){const n=uG(t.x,e.x),r=uG(t.y,e.y);return Math.sqrt(n**2+r**2)}class bZ{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xC(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=Z8e(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:m}=f,{timestamp:x}=di;this.history.push({...m,timestamp:x});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=yC(h,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=xC(f.type==="pointercancel"?this.lastMoveEventInfo:yC(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,y),m&&m(f,y)},!DL(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=E0(e),a=yC(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=di;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,xC(a,this.history)),this.removeListeners=S0(nv(this.contextWindow,"pointermove",this.handlePointerMove),nv(this.contextWindow,"pointerup",this.handlePointerUp),nv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qc(this.updatePoint)}}function yC(t,e){return e?{point:e(t.point)}:t}function fG(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xC({point:t},e){return{point:t,delta:fG(t,_Z(e)),offset:fG(t,Q8e(e)),velocity:eVe(e,.1)}}function Q8e(t){return t[0]}function _Z(t){return t[t.length-1]}function eVe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_Z(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ka(e)));)n--;if(!r)return{x:0,y:0};const s=Fa(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tVe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?hr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?hr(n,t,r.max):Math.min(t,n)),t}function hG(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nVe(t,{top:e,left:n,bottom:r,right:i}){return{x:hG(t.x,n,i),y:hG(t.y,e,r)}}function dG(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rVe(t,e){return{x:dG(t.x,e.x),y:dG(t.y,e.y)}}function iVe(t,e){let n=.5;const r=qi(t),i=qi(e);return i>r?n=Ry(e.min,e.max-r,t.min):r>i&&(n=Ry(t.min,t.max-i,e.min)),Dl(0,1,n)}function sVe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const MO=.35;function oVe(t=MO){return t===!1?t=0:t===!0&&(t=MO),{x:pG(t,"left","right"),y:pG(t,"top","bottom")}}function pG(t,e,n){return{min:mG(t,e),max:mG(t,n)}}function mG(t,e){return typeof t=="number"?t:t[e]||0}const aVe=new WeakMap;class lVe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Er(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(E0(u).point)},s=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:m}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TGe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),so(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Ua.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[y];_&&(v=qi(_)*(parseFloat(v)/100))}}this.originPoint[y]=v}),m&&pr.postRender(()=>m(u,f)),_O(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:m,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(d&&this.currentDirection===null){this.currentDirection=cVe(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(u,f)},a=(u,f)=>this.stop(u,f),l=()=>so(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bZ(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xZ(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&pr.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!d_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=tVe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ed(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=nVe(r.layoutBox,e):this.constraints=!1,this.elastic=oVe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&so(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=sVe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ed(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=q8e(r,i.root,this.visualElement.getTransformPagePoint());let o=rVe(i.layout.layoutBox,s);if(n){const a=n(H8e(o));this.hasMutatedConstraints=!!a,a&&(o=dZ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=so(u=>{if(!d_(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _O(this.visualElement,e),r.start(GL(e,r,0,n,this.visualElement,!1))}stopAnimation(){so(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){so(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){so(n=>{const{drag:r}=this.getProps();if(!d_(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-hr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ed(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};so(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=iVe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),so(o=>{if(!d_(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(hr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;aVe.set(this.visualElement,this);const e=this.visualElement.current,n=nv(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ed(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pr.read(r);const o=Ny(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(so(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=MO,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function d_(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cVe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uVe extends hu{constructor(e){super(e),this.removeGroupControls=_o,this.removeListeners=_o,this.controls=new lVe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_o}unmount(){this.removeGroupControls(),this.removeListeners()}}const gG=t=>(e,n)=>{t&&pr.postRender(()=>t(e,n))};class fVe extends hu{constructor(){super(...arguments),this.removePointerDownListener=_o}onPointerDown(e){this.session=new bZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gG(e),onStart:gG(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&pr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=nv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vG(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Gt.test(t))t=parseFloat(t);else return t;const n=vG(t,e.target.x),r=vG(t,e.target.y);return`${n}% ${r}%`}},hVe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Zc.parse(t);if(i.length>5)return r;const s=Zc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=hr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class dVe extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;qGe(pVe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),BL.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wZ(t){const[e,n]=lq(),r=U.useContext(uL);return R.jsx(dVe,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(eZ),isPresent:e,safeToRemove:n})}const pVe={borderRadius:{...vg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vg,borderTopRightRadius:vg,borderBottomLeftRadius:vg,borderBottomRightRadius:vg,boxShadow:hVe};function mVe(t,e,n){const r=Fi(t)?t:Bp(t);return r.start(GL("",r,e,n)),r.animation}function gVe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const vVe=(t,e)=>t.depth-e.depth;class yVe{constructor(){this.children=[],this.isDirty=!1}add(e){pL(this.children,e),this.isDirty=!0}remove(e){mL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vVe),this.isDirty=!1,this.children.forEach(e)}}function xVe(t,e){const n=ds.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(qc(r),t(s-e))};return pr.setup(r,!0),()=>qc(r)}const SZ=["TopLeft","TopRight","BottomLeft","BottomRight"],bVe=SZ.length,yG=t=>typeof t=="string"?parseFloat(t):t,xG=t=>typeof t=="number"||Gt.test(t);function _Ve(t,e,n,r,i,s){i?(t.opacity=hr(0,n.opacity??1,wVe(r)),t.opacityExit=hr(e.opacity??1,0,SVe(r))):s&&(t.opacity=hr(e.opacity??1,n.opacity??1,r));for(let o=0;o<bVe;o++){const a=`border${SZ[o]}Radius`;let l=bG(e,a),c=bG(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||xG(l)===xG(c)?(t[a]=Math.max(hr(yG(l),yG(c),r),0),(Ua.test(c)||Ua.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=hr(e.rotate||0,n.rotate||0,r))}function bG(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wVe=AZ(0,.5,yq),SVe=AZ(.5,.95,_o);function AZ(t,e,n){return r=>r<t?0:r>e?1:n(Ry(t,e,r))}function _G(t,e){t.min=e.min,t.max=e.max}function ro(t,e){_G(t.x,e.x),_G(t.y,e.y)}function wG(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function SG(t,e,n,r,i){return t-=e,t=Gw(t,1/n,r),i!==void 0&&(t=Gw(t,1/i,r)),t}function AVe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ua.test(e)&&(e=parseFloat(e),e=hr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=hr(s.min,s.max,r);t===s&&(a-=e),t.min=SG(t.min,e,n,a,i),t.max=SG(t.max,e,n,a,i)}function AG(t,e,[n,r,i],s,o){AVe(t,e[n],e[r],e[i],e.scale,s,o)}const MVe=["x","scaleX","originX"],EVe=["y","scaleY","originY"];function MG(t,e,n,r){AG(t.x,e,MVe,n?n.x:void 0,r?r.x:void 0),AG(t.y,e,EVe,n?n.y:void 0,r?r.y:void 0)}function EG(t){return t.translate===0&&t.scale===1}function MZ(t){return EG(t.x)&&EG(t.y)}function TG(t,e){return t.min===e.min&&t.max===e.max}function TVe(t,e){return TG(t.x,e.x)&&TG(t.y,e.y)}function CG(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EZ(t,e){return CG(t.x,e.x)&&CG(t.y,e.y)}function PG(t){return qi(t.x)/qi(t.y)}function RG(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class CVe{constructor(){this.members=[]}add(e){pL(this.members,e),e.scheduleRender()}remove(e){if(mL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PVe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),d&&(r+=`skewX(${d}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const bC=["","X","Y","Z"],RVe={visibility:"hidden"},OVe=1e3;let IVe=0;function _C(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function TZ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cZ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&TZ(r)}function CZ({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=IVe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LVe),this.nodes.forEach(jVe),this.nodes.forEach(zVe),this.nodes.forEach(NVe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new yVe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yL),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=gVe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=xVe(f,250),$_.hasAnimatedSinceResize&&($_.hasAnimatedSinceResize=!1,this.nodes.forEach(IG))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||$Ve,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!EZ(this.targetLayout,d),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const _={...OL(m,"layout"),onPlay:x,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||IG(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HVe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OG);return}this.isUpdating||this.nodes.forEach(FVe),this.isUpdating=!1,this.nodes.forEach(UVe),this.nodes.forEach(BVe),this.nodes.forEach(DVe),this.clearAllSnapshots();const a=ds.now();di.delta=Dl(0,1e3/60,a-di.timestamp),di.timestamp=a,di.isProcessing=!0,hC.update.process(di),hC.preRender.process(di),hC.render.process(di),di.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,BL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kVe),this.sharedNodes.forEach(GVe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qi(this.snapshot.measuredBox.x)&&!qi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Er(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!MZ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Yu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),XVe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Er();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(KVe))){const{scroll:u}=this.root;u&&(Cd(a.x,u.offset.x),Cd(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Er();if(ro(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ro(a,o),Cd(a.x,f.offset.x),Cd(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Er();ro(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Yu(u.latestValues)&&Pd(l,u.latestValues)}return Yu(this.latestValues)&&Pd(l,this.latestValues),l}removeTransform(o){const a=Er();ro(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yu(c.latestValues))continue;SO(c.latestValues)&&c.updateSnapshot();const u=Er(),f=c.measurePageBox();ro(u,f),MG(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Yu(this.latestValues)&&MG(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==di.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=di.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Er(),this.relativeTargetOrigin=Er(),iv(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Er(),this.targetWithTransforms=Er()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y8e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ro(this.target,this.layout.layoutBox),vZ(this.target,this.targetDelta)):ro(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Er(),this.relativeTargetOrigin=Er(),iv(this.relativeTargetOrigin,this.target,d.target),ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SO(this.parent.latestValues)||gZ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===di.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ro(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;J8e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Er());const{target:d}=o;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wG(this.prevProjectionDelta.x,this.projectionDelta.x),wG(this.prevProjectionDelta.y,this.projectionDelta.y)),rv(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!RG(this.projectionDelta.x,this.prevProjectionDelta.x)||!RG(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Td(),this.projectionDelta=Td(),this.projectionDeltaWithTransform=Td()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Td();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Er(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,x=d!==m,y=this.getStack(),v=!y||y.members.length<=1,b=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(WVe));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const w=M/1e3;BG(f.x,o.x,w),BG(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(iv(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VVe(this.relativeTarget,this.relativeTargetOrigin,h,w),_&&TVe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Er()),ro(_,this.relativeTarget)),x&&(this.animationValues=u,_Ve(u,c,this.latestValues,w,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(qc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{$_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bp(0)),this.currentAnimation=mVe(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OVe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&PZ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Er();const f=qi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=qi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ro(a,l),Pd(a,u),rv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new CVe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&_C("z",o,c,this.animationValues);for(let u=0;u<bC.length;u++)_C(`rotate${bC[u]}`,o,c,this.animationValues),_C(`skew${bC[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return RVe;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=W_(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=W_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yu(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=PVe(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in Dy){if(u[d]===void 0)continue;const{correct:m,applyTo:x,isCSSVariable:y}=Dy[d],v=a.transform==="none"?u[d]:m(u[d],c);if(x){const b=x.length;for(let _=0;_<b;_++)a[x[_]]=v}else y?this.options.visualElement.renderState.vars[d]=v:a[d]=v}return this.options.layoutId&&(a.pointerEvents=c===this?W_(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(OG),this.root.sharedNodes.clear()}}}function BVe(t){t.updateLayout()}function DVe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?so(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],d=qi(h);h.min=r[f].min,h.max=h.min+d}):PZ(s,e.layoutBox,r)&&so(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],d=qi(r[f]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+d)});const a=Td();rv(a,r,e.layoutBox);const l=Td();o?rv(l,t.applyTransform(i,!0),e.measuredBox):rv(l,r,e.layoutBox);const c=!MZ(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const m=Er();iv(m,e.layoutBox,h.layoutBox);const x=Er();iv(x,r,d.layoutBox),EZ(m,x)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function LVe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function NVe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kVe(t){t.clearSnapshot()}function OG(t){t.clearMeasurements()}function FVe(t){t.isLayoutDirty=!1}function UVe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IG(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jVe(t){t.resolveTargetDelta()}function zVe(t){t.calcProjection()}function HVe(t){t.resetSkewAndRotation()}function GVe(t){t.removeLeadSnapshot()}function BG(t,e,n){t.translate=hr(e.translate,0,n),t.scale=hr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DG(t,e,n,r){t.min=hr(e.min,n.min,r),t.max=hr(e.max,n.max,r)}function VVe(t,e,n,r){DG(t.x,e.x,n.x,r),DG(t.y,e.y,n.y,r)}function WVe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $Ve={duration:.45,ease:[.4,0,.1,1]},LG=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NG=LG("applewebkit/")&&!LG("chrome/")?Math.round:_o;function kG(t){t.min=NG(t.min),t.max=NG(t.max)}function XVe(t){kG(t.x),kG(t.y)}function PZ(t,e,n){return t==="position"||t==="preserve-aspect"&&!K8e(PG(e),PG(n),.2)}function KVe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const YVe=CZ({attachResizeListener:(t,e)=>Ny(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wC={current:void 0},RZ=CZ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wC.current){const t=new YVe({});t.mount(window),t.setOptions({layoutScroll:!0}),wC.current=t}return wC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JVe={pan:{Feature:fVe},drag:{Feature:uVe,ProjectionNode:RZ,MeasureLayout:wZ}};function FG(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&pr.postRender(()=>s(e,E0(e)))}class qVe extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=CGe(e,(n,r)=>(FG(this.node,r,"Start"),i=>FG(this.node,i,"End"))))}unmount(){}}class ZVe extends hu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=S0(Ny(this.node.current,"focus",()=>this.onFocus()),Ny(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UG(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&pr.postRender(()=>s(e,E0(e)))}class QVe extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=IGe(e,(n,r)=>(UG(this.node,r,"Start"),(i,{success:s})=>UG(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const EO=new WeakMap,SC=new WeakMap,e9e=t=>{const e=EO.get(t.target);e&&e(t)},t9e=t=>{t.forEach(e9e)};function n9e({root:t,...e}){const n=t||document;SC.has(n)||SC.set(n,{});const r=SC.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(t9e,{root:t,...e})),r[i]}function r9e(t,e,n){const r=n9e(e);return EO.set(t,n),r.observe(t),()=>{EO.delete(t),r.unobserve(t)}}const i9e={some:0,all:1};class s9e extends hu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:i9e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return r9e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(o9e(e,n))&&this.startObserver()}unmount(){}}function o9e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const a9e={inView:{Feature:s9e},tap:{Feature:QVe},focus:{Feature:ZVe},hover:{Feature:qVe}},l9e={layout:{ProjectionNode:RZ,MeasureLayout:wZ}},TO={current:null},OZ={current:!1};function c9e(){if(OZ.current=!0,!!hL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>TO.current=t.matches;t.addListener(e),e()}else TO.current=!1}const u9e=new WeakMap;function f9e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Fi(i))t.addValue(r,i);else if(Fi(s))t.addValue(r,Bp(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Bp(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jG=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class h9e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ds.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,pr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=WA(n),this.isVariantNode=Zq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Fi(d)&&d.set(l[h],!1)}}mount(e){this.current=e,u9e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),OZ.current||c9e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:TO.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qc(this.notifyUpdate),qc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=am.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&pr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dp){const n=Dp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Er()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jG.length;r++){const i=jG[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=f9e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(cq(r)||uq(r))?r=parseFloat(r):!DGe(r)&&Zc.test(n)&&(r=Wq(e,n)),this.setBaseTarget(e,Fi(r)?r.get():r)),Fi(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=zL(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fi(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yL),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IZ extends h9e{constructor(){super(...arguments),this.KeyframeResolver=SGe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BZ(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function d9e(t){return window.getComputedStyle(t)}class p9e extends IZ{constructor(){super(...arguments),this.type="html",this.renderInstance=BZ}readValueFromInstance(e,n){if(am.has(n))return H6e(e,n);{const r=d9e(e),i=(_L(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yZ(e,n)}build(e,n,r){FL(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return HL(e,n,r)}}const DZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m9e(t,e,n,r){BZ(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DZ.has(i)?i:kL(i),e.attrs[i])}class g9e extends IZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Er}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(am.has(n)){const r=Vq(n);return r&&r.default||0}return n=DZ.has(n)?n:kL(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lZ(e,n,r)}build(e,n,r){iZ(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){m9e(e,n,r,i)}mount(e){this.isSVGTag=oZ(e.tagName),super.mount(e)}}const v9e=(t,e)=>jL(t)?new g9e(e):new p9e(e,{allowProjection:t!==U.Fragment}),y9e=p8e({...j8e,...a9e,...JVe,...l9e},v9e),zG=UGe(y9e),bf=[{id:"1",name:"Dodge Charger",price:85e3,modelPath:"/models3d/dodge_charger_1970_rt.glb",description:"A powerful American muscle car combining modern performance with classic styling.",scale:5,position:[0,-.5,0],rotation:[0,Math.PI/2,0],cameraPosition:[2.5,1.2,2.5],fov:50,category:"Muscle",specs:{power:"485 HP",acceleration:"4.3s 0-60 mph",topSpeed:"175 mph",weight:"4,300 lbs"}},{id:"2",name:"Formula 1 Generic",price:2e6,modelPath:"/models3d/formula_1_generico_modelo_exemplo.glb",description:"Experience the pinnacle of motorsport with this F1 racing machine.",scale:2,position:[0,-1,0],rotation:[0,Math.PI/3,0],cameraPosition:[4,2,5],fov:45,category:"Formula",specs:{power:"1,000 HP",acceleration:"2.6s 0-60 mph",topSpeed:"220 mph",weight:"1,752 lbs"}},{id:"3",name:"2022 Porsche 911 GT3",price:18e4,modelPath:"/models3d/2022_porsche_911_gt3_992.glb",description:"German engineering at its finest, built for both track and road.",scale:120,position:[0,-1,0],rotation:[0,Math.PI/3,0],cameraPosition:[4,2,5],fov:45,category:"Sports",specs:{power:"502 HP",acceleration:"3.2s 0-60 mph",topSpeed:"197 mph",weight:"3,126 lbs"}},{id:"4",name:"BMW M3 E46 GTR",price:12e4,modelPath:"/models3d/bmw_m3_e46_gtr.glb",description:"A legendary racing icon that dominated motorsports.",scale:40,position:[0,-1,0],rotation:[0,Math.PI/3,0],cameraPosition:[3,1,5],fov:60,category:"Racing",specs:{power:"444 HP",acceleration:"3.8s 0-60 mph",topSpeed:"185 mph",weight:"2,976 lbs"}},{id:"5",name:"2022 Lamborghini Huracán Super Trofeo EVO2",price:25e4,modelPath:"/models3d/2022_lamborghini_huracan_super_trofeo_evo2_carb.glb",description:"Italian racing excellence, designed for pure performance.",scale:120,position:[0,-1,0],rotation:[0,Math.PI/3,0],cameraPosition:[4,2,5],fov:45,category:"Super",specs:{power:"620 HP",acceleration:"2.9s 0-60 mph",topSpeed:"202 mph",weight:"2,866 lbs"}},{id:"6",name:"2011 Mosler Super GT",price:15e4,modelPath:"/models3d/2011_mosler_super_gt.glb",description:"An exotic supercar built for ultimate speed and handling.",scale:120,position:[0,-1,0],rotation:[0,Math.PI/3,0],cameraPosition:[4,2,5],fov:45,category:"Super",specs:{power:"600 HP",acceleration:"3.1s 0-60 mph",topSpeed:"200 mph",weight:"2,500 lbs"}}],x9e=()=>{const{progress:t}=che();return R.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-50",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),R.jsxs("p",{className:"text-indigo-400 text-lg",children:["Loading Models... ",t.toFixed(0),"%"]})]})})};function b9e({car:t}){const{scene:e}=Bs(t.modelPath);return U.useEffect(()=>{const r=new Yr().setFromObject(e).getCenter(new Z);e.position.set(0,0,0),e.position.sub(r),t.id==="1"?e.scale.setScalar(.8):e.scale.setScalar(t.scale),e.position.add(new Z(...t.position)),e.rotation.set(...t.rotation);const i=bf.findIndex(s=>s.id===t.id)+1;i<bf.length&&Bs.preload(bf[i].modelPath)},[t.id,e,t.scale,t.position,t.rotation]),t.id==="1"?R.jsxs(R.Fragment,{children:[R.jsx("ambientLight",{intensity:2}),R.jsx("spotLight",{position:[5,5,5],angle:.6,penumbra:1,intensity:2,castShadow:!0}),R.jsx("pointLight",{position:[-5,5,-5],intensity:1.5}),R.jsx("primitive",{object:e,castShadow:!0,receiveShadow:!0})]}):R.jsx(spe,{environment:"city",intensity:2,adjustCamera:!1,shadows:"contact",preset:"rembrandt",children:R.jsx("primitive",{object:e,castShadow:!0,receiveShadow:!0})})}const _9e=({car:t,onAddToCart:e,onAddToWishlist:n,isInWishlist:r})=>{const[i,s]=U.useState(!1),[o,a]=U.useState(!1);return R.jsxs(zG.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gradient-to-b from-gray-900 to-gray-800 rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-500 hover:scale-[1.02] border border-indigo-500/20",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[R.jsxs("div",{className:"h-[450px] relative bg-gradient-to-b from-gray-800 to-gray-900",children:[R.jsx(j$,{camera:{position:t.cameraPosition,fov:t.fov,near:.1,far:1e3},className:"w-full h-full",shadows:!0,children:R.jsxs(U.Suspense,{fallback:null,children:[R.jsx("color",{attach:"background",args:["#111827"]}),R.jsx("ambientLight",{intensity:.5}),R.jsx("spotLight",{position:[10,10,10],angle:.5,penumbra:1,intensity:1,castShadow:!0}),R.jsx(b9e,{car:t}),R.jsx(Q$,{enableZoom:!1,autoRotate:i,autoRotateSpeed:2,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3,target:[0,0,0],maxDistance:8,minDistance:3})]})}),R.jsx("button",{onClick:()=>a(!0),className:"absolute bottom-4 right-4 bg-indigo-600/80 text-white px-4 py-2 rounded-lg hover:bg-indigo-500 transition-colors",children:"View Details"})]}),R.jsxs("div",{className:"p-8 bg-gradient-to-b from-gray-900 to-gray-800",children:[R.jsxs("div",{className:"flex justify-between items-start mb-3",children:[R.jsx("h3",{className:"text-2xl font-bold text-white font-racing",children:t.name}),R.jsx("button",{onClick:()=>n(t),className:`p-2 rounded-full transition-colors ${r?"text-red-500 hover:text-red-400":"text-gray-400 hover:text-red-500"}`,children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:r?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),R.jsx("div",{className:"flex items-center gap-2 mb-3",children:R.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 px-3 py-1 rounded-full text-sm",children:t.category})}),R.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:t.description}),R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("span",{className:"text-3xl font-bold text-indigo-400 font-racing",children:["$",t.price.toLocaleString()]}),R.jsx("button",{onClick:()=>e(t),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-all duration-300 transform hover:scale-105 font-medium shadow-lg hover:shadow-indigo-500/25",children:"Add to Cart"})]})]}),o&&R.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:R.jsxs(zG.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gray-900 rounded-2xl p-8 max-w-2xl w-full mx-4",children:[R.jsxs("div",{className:"flex justify-between items-start mb-6",children:[R.jsx("h2",{className:"text-3xl font-bold text-white",children:t.name}),R.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-white transition-colors",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-indigo-400 font-medium mb-2",children:"Power Output"}),R.jsx("p",{className:"text-white text-2xl font-bold",children:t.specs.power})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-indigo-400 font-medium mb-2",children:"Acceleration"}),R.jsx("p",{className:"text-white text-2xl font-bold",children:t.specs.acceleration})]})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-indigo-400 font-medium mb-2",children:"Top Speed"}),R.jsx("p",{className:"text-white text-2xl font-bold",children:t.specs.topSpeed})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-indigo-400 font-medium mb-2",children:"Weight"}),R.jsx("p",{className:"text-white text-2xl font-bold",children:t.specs.weight})]})]})]}),R.jsxs("div",{className:"flex justify-end gap-4",children:[R.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 rounded-xl border border-gray-600 text-gray-300 hover:bg-gray-800 transition-colors",children:"Close"}),R.jsx("button",{onClick:()=>{e(t),a(!1)},className:"bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-all duration-300 transform hover:scale-105",children:"Add to Cart"})]})]})})]})},w9e=()=>{const[t,e]=U.useState(!0),[n,r]=U.useState(""),[i,s]=U.useState("All"),[o,a]=U.useState("name"),[l,c]=U.useState([]),[u,f]=U.useState([]),h=["All",...Array.from(new Set(bf.map(y=>y.category)))],d=bf.filter(y=>(i==="All"||y.category===i)&&y.name.toLowerCase().includes(n.toLowerCase())).sort((y,v)=>o==="price-asc"?y.price-v.price:o==="price-desc"?v.price-y.price:y.name.localeCompare(v.name));U.useEffect(()=>{Bs.preload(bf[0].modelPath);const y=setTimeout(()=>{e(!1),bf.slice(1).forEach(v=>{Bs.preload(v.modelPath)})},1500);return()=>clearTimeout(y)},[]);const m=y=>{c(v=>v.includes(y.id)?v.filter(b=>b!==y.id):[...v,y.id])},x=y=>{f(v=>[...v,y])};return R.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900",children:[t&&R.jsx(x9e,{}),R.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 shadow-2xl relative",children:[R.jsx("div",{className:"absolute inset-0 bg-black/20"}),R.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 relative",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("h1",{className:"text-5xl font-bold text-white flex items-center gap-4 font-racing",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Exclusive Car Collection"]}),R.jsx("div",{className:"flex items-center gap-4",children:R.jsxs("div",{className:"relative",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})}),u.length>0&&R.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u.length})]})})]}),R.jsx("p",{className:"text-gray-200 text-center max-w-3xl mx-auto text-lg",children:"Experience the thrill of owning legendary racing machines. Each model is a masterpiece of engineering and design."})]})]}),R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[R.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-8",children:[R.jsxs("div",{className:"flex gap-4 items-center",children:[R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:"text",placeholder:"Search cars...",value:n,onChange:y=>r(y.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded-xl pl-10 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),R.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})]}),R.jsx("select",{value:i,onChange:y=>s(y.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:h.map(y=>R.jsx("option",{value:y,children:y},y))})]}),R.jsxs("select",{value:o,onChange:y=>a(y.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[R.jsx("option",{value:"name",children:"Sort by Name"}),R.jsx("option",{value:"price-asc",children:"Price: Low to High"}),R.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]}),R.jsxs("p",{className:"text-gray-400 mb-6",children:["Showing ",d.length," ",d.length===1?"car":"cars"]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:R.jsx(UHe,{children:d.map(y=>R.jsx(_9e,{car:y,onAddToCart:x,onAddToWishlist:m,isInWishlist:l.includes(y.id)},y.id))})})]}),R.jsx("footer",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 mt-20",children:R.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:R.jsx("p",{className:"text-center text-white text-sm font-medium",children:"© 2024 F1 Racing Challenge Shop. All rights reserved."})})})]})},S9e=()=>{const t=()=>{const{isDarkMode:n,toggleDarkMode:r}=lX();return R.jsx(o0e,{isDarkMode:n,toggleDarkMode:r,children:R.jsx(Kk,{})})},e=gre([{path:"/auth",element:R.jsx(jxe,{})},{path:"/",element:R.jsx(t,{}),children:[{index:!0,element:R.jsx(mpe,{})},{path:"shop",element:R.jsx(w9e,{})},{path:"exchange",element:R.jsx(r0e,{})},{path:"profile",element:R.jsx(i0e,{})},{path:"dashboard",element:R.jsx(DHe,{})},{path:"game",element:R.jsx(Kk,{}),children:[{index:!0,element:R.jsx(Rpe,{})},{path:"race",element:R.jsx(y2,{isBetting:!1})},{path:"betting",element:R.jsx(y2,{isBetting:!0,betAmount:100})},{path:"leaderboard",element:R.jsx("div",{children:"Leaderboard - Coming Soon"})}]},{path:"*",element:R.jsx(fre,{to:"/"})}]}]);return R.jsx(s0e,{children:R.jsx(Mre,{router:e})})};globalThis.Buffer=h7.Buffer;t9(document.getElementById("root")).render(R.jsx(U.StrictMode,{children:R.jsx(S9e,{})}));
